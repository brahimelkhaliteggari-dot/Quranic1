var NL=Object.defineProperty;var kL=(t,e,n)=>e in t?NL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var C0=(t,e,n)=>kL(t,typeof e!="symbol"?e+"":e,n);function PL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function la(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var I0={exports:{}},yf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2;function jL(){if(_2)return yf;_2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return yf.Fragment=e,yf.jsx=n,yf.jsxs=n,yf}var w2;function RL(){return w2||(w2=1,I0.exports=jL()),I0.exports}var v=RL(),N0={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2;function DL(){if(E2)return ze;E2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),x=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=x&&$[x]||$["@@iterator"],typeof $=="function"?$:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function I($,re,ge){this.props=$,this.context=re,this.refs=T,this.updater=ge||E}I.prototype.isReactComponent={},I.prototype.setState=function($,re){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,re,"setState")},I.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function j(){}j.prototype=I.prototype;function L($,re,ge){this.props=$,this.context=re,this.refs=T,this.updater=ge||E}var q=L.prototype=new j;q.constructor=L,S(q,I.prototype),q.isPureReactComponent=!0;var V=Array.isArray;function F(){}var N={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function D($,re,ge){var ve=ge.ref;return{$$typeof:t,type:$,key:re,ref:ve!==void 0?ve:null,props:ge}}function B($,re){return D($.type,re,$.props)}function P($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function U($){var re={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ge){return re[ge]})}var M=/\/+/g;function he($,re){return typeof $=="object"&&$!==null&&$.key!=null?U(""+$.key):re.toString(36)}function be($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(F,F):($.status="pending",$.then(function(re){$.status==="pending"&&($.status="fulfilled",$.value=re)},function(re){$.status==="pending"&&($.status="rejected",$.reason=re)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function W($,re,ge,ve,me){var ye=typeof $;(ye==="undefined"||ye==="boolean")&&($=null);var pe=!1;if($===null)pe=!0;else switch(ye){case"bigint":case"string":case"number":pe=!0;break;case"object":switch($.$$typeof){case t:case e:pe=!0;break;case m:return pe=$._init,W(pe($._payload),re,ge,ve,me)}}if(pe)return me=me($),pe=ve===""?"."+he($,0):ve,V(me)?(ge="",pe!=null&&(ge=pe.replace(M,"$&/")+"/"),W(me,re,ge,"",function(Ie){return Ie})):me!=null&&(P(me)&&(me=B(me,ge+(me.key==null||$&&$.key===me.key?"":(""+me.key).replace(M,"$&/")+"/")+pe)),re.push(me)),1;pe=0;var Oe=ve===""?".":ve+":";if(V($))for(var ae=0;ae<$.length;ae++)ve=$[ae],ye=Oe+he(ve,ae),pe+=W(ve,re,ge,ye,me);else if(ae=_($),typeof ae=="function")for($=ae.call($),ae=0;!(ve=$.next()).done;)ve=ve.value,ye=Oe+he(ve,ae++),pe+=W(ve,re,ge,ye,me);else if(ye==="object"){if(typeof $.then=="function")return W(be($),re,ge,ve,me);throw re=String($),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return pe}function te($,re,ge){if($==null)return $;var ve=[],me=0;return W($,ve,"","",function(ye){return re.call(ge,ye,me++)}),ve}function G($){if($._status===-1){var re=$._result;re=re(),re.then(function(ge){($._status===0||$._status===-1)&&($._status=1,$._result=ge)},function(ge){($._status===0||$._status===-1)&&($._status=2,$._result=ge)}),$._status===-1&&($._status=0,$._result=re)}if($._status===1)return $._result.default;throw $._result}var ce=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},xe={map:te,forEach:function($,re,ge){te($,function(){re.apply(this,arguments)},ge)},count:function($){var re=0;return te($,function(){re++}),re},toArray:function($){return te($,function(re){return re})||[]},only:function($){if(!P($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return ze.Activity=p,ze.Children=xe,ze.Component=I,ze.Fragment=n,ze.Profiler=i,ze.PureComponent=L,ze.StrictMode=r,ze.Suspense=d,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ze.__COMPILER_RUNTIME={__proto__:null,c:function($){return N.H.useMemoCache($)}},ze.cache=function($){return function(){return $.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function($,re,ge){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ve=S({},$.props),me=$.key;if(re!=null)for(ye in re.key!==void 0&&(me=""+re.key),re)!k.call(re,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&re.ref===void 0||(ve[ye]=re[ye]);var ye=arguments.length-2;if(ye===1)ve.children=ge;else if(1<ye){for(var pe=Array(ye),Oe=0;Oe<ye;Oe++)pe[Oe]=arguments[Oe+2];ve.children=pe}return D($.type,me,ve)},ze.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:s,_context:$},$},ze.createElement=function($,re,ge){var ve,me={},ye=null;if(re!=null)for(ve in re.key!==void 0&&(ye=""+re.key),re)k.call(re,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(me[ve]=re[ve]);var pe=arguments.length-2;if(pe===1)me.children=ge;else if(1<pe){for(var Oe=Array(pe),ae=0;ae<pe;ae++)Oe[ae]=arguments[ae+2];me.children=Oe}if($&&$.defaultProps)for(ve in pe=$.defaultProps,pe)me[ve]===void 0&&(me[ve]=pe[ve]);return D($,ye,me)},ze.createRef=function(){return{current:null}},ze.forwardRef=function($){return{$$typeof:c,render:$}},ze.isValidElement=P,ze.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:G}},ze.memo=function($,re){return{$$typeof:h,type:$,compare:re===void 0?null:re}},ze.startTransition=function($){var re=N.T,ge={};N.T=ge;try{var ve=$(),me=N.S;me!==null&&me(ge,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(F,ce)}catch(ye){ce(ye)}finally{re!==null&&ge.types!==null&&(re.types=ge.types),N.T=re}},ze.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ze.use=function($){return N.H.use($)},ze.useActionState=function($,re,ge){return N.H.useActionState($,re,ge)},ze.useCallback=function($,re){return N.H.useCallback($,re)},ze.useContext=function($){return N.H.useContext($)},ze.useDebugValue=function(){},ze.useDeferredValue=function($,re){return N.H.useDeferredValue($,re)},ze.useEffect=function($,re){return N.H.useEffect($,re)},ze.useEffectEvent=function($){return N.H.useEffectEvent($)},ze.useId=function(){return N.H.useId()},ze.useImperativeHandle=function($,re,ge){return N.H.useImperativeHandle($,re,ge)},ze.useInsertionEffect=function($,re){return N.H.useInsertionEffect($,re)},ze.useLayoutEffect=function($,re){return N.H.useLayoutEffect($,re)},ze.useMemo=function($,re){return N.H.useMemo($,re)},ze.useOptimistic=function($,re){return N.H.useOptimistic($,re)},ze.useReducer=function($,re,ge){return N.H.useReducer($,re,ge)},ze.useRef=function($){return N.H.useRef($)},ze.useState=function($){return N.H.useState($)},ze.useSyncExternalStore=function($,re,ge){return N.H.useSyncExternalStore($,re,ge)},ze.useTransition=function(){return N.H.useTransition()},ze.version="19.2.0",ze}var S2;function Xu(){return S2||(S2=1,N0.exports=DL()),N0.exports}var w=Xu();const AP=la(w),ML=PL({__proto__:null,default:AP},[w]);var k0={exports:{}},vf={},P0={exports:{}},j0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A2;function LL(){return A2||(A2=1,(function(t){function e(W,te){var G=W.length;W.push(te);e:for(;0<G;){var ce=G-1>>>1,xe=W[ce];if(0<i(xe,te))W[ce]=te,W[G]=xe,G=ce;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var te=W[0],G=W.pop();if(G!==te){W[0]=G;e:for(var ce=0,xe=W.length,$=xe>>>1;ce<$;){var re=2*(ce+1)-1,ge=W[re],ve=re+1,me=W[ve];if(0>i(ge,G))ve<xe&&0>i(me,ge)?(W[ce]=me,W[ve]=G,ce=ve):(W[ce]=ge,W[re]=G,ce=re);else if(ve<xe&&0>i(me,G))W[ce]=me,W[ve]=G,ce=ve;else break e}}return te}function i(W,te){var G=W.sortIndex-te.sortIndex;return G!==0?G:W.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,p=null,x=3,_=!1,E=!1,S=!1,T=!1,I=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function q(W){for(var te=n(h);te!==null;){if(te.callback===null)r(h);else if(te.startTime<=W)r(h),te.sortIndex=te.expirationTime,e(d,te);else break;te=n(h)}}function V(W){if(S=!1,q(W),!E)if(n(d)!==null)E=!0,F||(F=!0,U());else{var te=n(h);te!==null&&be(V,te.startTime-W)}}var F=!1,N=-1,k=5,D=-1;function B(){return T?!0:!(t.unstable_now()-D<k)}function P(){if(T=!1,F){var W=t.unstable_now();D=W;var te=!0;try{e:{E=!1,S&&(S=!1,j(N),N=-1),_=!0;var G=x;try{t:{for(q(W),p=n(d);p!==null&&!(p.expirationTime>W&&B());){var ce=p.callback;if(typeof ce=="function"){p.callback=null,x=p.priorityLevel;var xe=ce(p.expirationTime<=W);if(W=t.unstable_now(),typeof xe=="function"){p.callback=xe,q(W),te=!0;break t}p===n(d)&&r(d),q(W)}else r(d);p=n(d)}if(p!==null)te=!0;else{var $=n(h);$!==null&&be(V,$.startTime-W),te=!1}}break e}finally{p=null,x=G,_=!1}te=void 0}}finally{te?U():F=!1}}}var U;if(typeof L=="function")U=function(){L(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,he=M.port2;M.port1.onmessage=P,U=function(){he.postMessage(null)}}else U=function(){I(P,0)};function be(W,te){N=I(function(){W(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(W){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var G=x;x=te;try{return W()}finally{x=G}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(W,te){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var G=x;x=W;try{return te()}finally{x=G}},t.unstable_scheduleCallback=function(W,te,G){var ce=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ce+G:ce):G=ce,W){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=G+xe,W={id:m++,callback:te,priorityLevel:W,startTime:G,expirationTime:xe,sortIndex:-1},G>ce?(W.sortIndex=G,e(h,W),n(d)===null&&W===n(h)&&(S?(j(N),N=-1):S=!0,be(V,G-ce))):(W.sortIndex=xe,e(d,W),E||_||(E=!0,F||(F=!0,U()))),W},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(W){var te=x;return function(){var G=x;x=te;try{return W.apply(this,arguments)}finally{x=G}}}})(j0)),j0}var T2;function VL(){return T2||(T2=1,P0.exports=LL()),P0.exports}var R0={exports:{}},Bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2;function zL(){if(O2)return Bn;O2=1;var t=Xu();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,h,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Bn.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(d,h,null,m)},Bn.flushSync=function(d){var h=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=m,r.d.f()}},Bn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Bn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Bn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,p=c(m,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:x,fetchPriority:_}):m==="script"&&r.d.X(d,{crossOrigin:p,integrity:x,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Bn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Bn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,p=c(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Bn.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Bn.requestFormReset=function(d){r.d.r(d)},Bn.unstable_batchedUpdates=function(d,h){return d(h)},Bn.useFormState=function(d,h,m){return l.H.useFormState(d,h,m)},Bn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Bn.version="19.2.0",Bn}var C2;function TP(){if(C2)return R0.exports;C2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),R0.exports=zL(),R0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I2;function UL(){if(I2)return vf;I2=1;var t=VL(),e=Xu(),n=TP();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function d(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,f=o;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return d(y),a;if(b===f)return d(y),o;b=b.sibling}throw Error(r(188))}if(u.return!==f.return)u=y,f=b;else{for(var O=!1,R=y.child;R;){if(R===u){O=!0,u=y,f=b;break}if(R===f){O=!0,f=y,u=b;break}R=R.sibling}if(!O){for(R=b.child;R;){if(R===u){O=!0,u=b,f=y;break}if(R===f){O=!0,f=b,u=y;break}R=R.sibling}if(!O)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function m(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=m(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),L=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=P&&a[P]||a["@@iterator"],typeof a=="function"?a:null)}var M=Symbol.for("react.client.reference");function he(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===M?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case I:return"Profiler";case T:return"StrictMode";case V:return"Suspense";case F:return"SuspenseList";case D:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case E:return"Portal";case L:return a.displayName||"Context";case j:return(a._context.displayName||"Context")+".Consumer";case q:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return o=a.displayName||null,o!==null?o:he(a.type)||"Memo";case k:o=a._payload,a=a._init;try{return he(a(o))}catch{}}return null}var be=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},ce=[],xe=-1;function $(a){return{current:a}}function re(a){0>xe||(a.current=ce[xe],ce[xe]=null,xe--)}function ge(a,o){xe++,ce[xe]=a.current,a.current=o}var ve=$(null),me=$(null),ye=$(null),pe=$(null);function Oe(a,o){switch(ge(ye,o),ge(me,a),ge(ve,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?HT(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=HT(o),a=$T(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}re(ve),ge(ve,a)}function ae(){re(ve),re(me),re(ye)}function Ie(a){a.memoizedState!==null&&ge(pe,a);var o=ve.current,u=$T(o,a.type);o!==u&&(ge(me,a),ge(ve,u))}function je(a){me.current===a&&(re(ve),re(me)),pe.current===a&&(re(pe),hf._currentValue=G)}var ue,He;function Le(a){if(ue===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ue=o&&o[1]||"",He=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+a+He}var ct=!1;function xt(a,o){if(!a||ct)return"";ct=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ie){var ee=ie}Reflect.construct(a,[],fe)}else{try{fe.call()}catch(ie){ee=ie}a.call(fe.prototype)}}else{try{throw Error()}catch(ie){ee=ie}(fe=a())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ie){if(ie&&ee&&typeof ie.stack=="string")return[ie.stack,ee.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),O=b[0],R=b[1];if(O&&R){var H=O.split(`
`),Z=R.split(`
`);for(y=f=0;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;for(;y<Z.length&&!Z[y].includes("DetermineComponentFrameRoot");)y++;if(f===H.length||y===Z.length)for(f=H.length-1,y=Z.length-1;1<=f&&0<=y&&H[f]!==Z[y];)y--;for(;1<=f&&0<=y;f--,y--)if(H[f]!==Z[y]){if(f!==1||y!==1)do if(f--,y--,0>y||H[f]!==Z[y]){var se=`
`+H[f].replace(" at new "," at ");return a.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",a.displayName)),se}while(1<=f&&0<=y);break}}}finally{ct=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Le(u):""}function rr(a,o){switch(a.tag){case 26:case 27:case 5:return Le(a.type);case 16:return Le("Lazy");case 13:return a.child!==o&&o!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return xt(a.type,!1);case 11:return xt(a.type.render,!1);case 1:return xt(a.type,!0);case 31:return Le("Activity");default:return""}}function Ai(a){try{var o="",u=null;do o+=rr(a,u),u=a,a=a.return;while(a);return o}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Ze=Object.prototype.hasOwnProperty,Ut=t.unstable_scheduleCallback,Ti=t.unstable_cancelCallback,mc=t.unstable_shouldYield,Jd=t.unstable_requestPaint,Xn=t.unstable_now,xo=t.unstable_getCurrentPriorityLevel,gc=t.unstable_ImmediatePriority,pc=t.unstable_UserBlockingPriority,is=t.unstable_NormalPriority,ky=t.unstable_LowPriority,eh=t.unstable_IdlePriority,th=t.log,nh=t.unstable_setDisableYieldValue,si=null,kn=null;function Mr(a){if(typeof th=="function"&&nh(a),kn&&typeof kn.setStrictMode=="function")try{kn.setStrictMode(si,a)}catch{}}var Ht=Math.clz32?Math.clz32:ih,rh=Math.log,kl=Math.LN2;function ih(a){return a>>>=0,a===0?32:31-(rh(a)/kl|0)|0}var Oi=256,_o=262144,Zt=4194304;function Ci(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ii(a,o,u){var f=a.pendingLanes;if(f===0)return 0;var y=0,b=a.suspendedLanes,O=a.pingedLanes;a=a.warmLanes;var R=f&134217727;return R!==0?(f=R&~b,f!==0?y=Ci(f):(O&=R,O!==0?y=Ci(O):u||(u=R&~a,u!==0&&(y=Ci(u))))):(R=f&~b,R!==0?y=Ci(R):O!==0?y=Ci(O):u||(u=f&~a,u!==0&&(y=Ci(u)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:y}function oi(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Py(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ah(){var a=Zt;return Zt<<=1,(Zt&62914560)===0&&(Zt=4194304),a}function Ni(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function wo(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function jy(a,o,u,f,y,b){var O=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var R=a.entanglements,H=a.expirationTimes,Z=a.hiddenUpdates;for(u=O&~u;0<u;){var se=31-Ht(u),fe=1<<se;R[se]=0,H[se]=-1;var ee=Z[se];if(ee!==null)for(Z[se]=null,se=0;se<ee.length;se++){var ie=ee[se];ie!==null&&(ie.lane&=-536870913)}u&=~fe}f!==0&&Eo(a,f,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(O&~o))}function Eo(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var f=31-Ht(o);a.entangledLanes|=o,a.entanglements[f]=a.entanglements[f]|1073741824|u&261930}function yc(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var f=31-Ht(u),y=1<<f;y&o|a[f]&o&&(a[f]|=o),u&=~y}}function vc(a,o){var u=o&-o;return u=(u&42)!==0?1:So(u),(u&(a.suspendedLanes|o))!==0?0:u}function So(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ua(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function sh(){var a=te.p;return a!==0?a:(a=window.event,a===void 0?32:m2(a.type))}function li(a,o){var u=te.p;try{return te.p=a,o()}finally{te.p=u}}var ui=Math.random().toString(36).slice(2),Jt="__reactFiber$"+ui,En="__reactProps$"+ui,ki="__reactContainer$"+ui,Pl="__reactEvents$"+ui,Ry="__reactListeners$"+ui,oh="__reactHandles$"+ui,lh="__reactResources$"+ui,Pi="__reactMarker$"+ui;function jl(a){delete a[Jt],delete a[En],delete a[Pl],delete a[Ry],delete a[oh]}function ji(a){var o=a[Jt];if(o)return o;for(var u=a.parentNode;u;){if(o=u[ki]||u[Jt]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=ZT(a);a!==null;){if(u=a[Jt])return u;a=ZT(a)}return o}a=u,u=a.parentNode}return null}function Lr(a){if(a=a[Jt]||a[ki]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function vr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function Ri(a){var o=a[lh];return o||(o=a[lh]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function en(a){a[Pi]=!0}var bc=new Set,xc={};function Di(a,o){Mi(a,o),Mi(a+"Capture",o)}function Mi(a,o){for(xc[a]=o,a=0;a<o.length;a++)bc.add(o[a])}var _c=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wc={},Ec={};function uh(a){return Ze.call(Ec,a)?!0:Ze.call(wc,a)?!1:_c.test(a)?Ec[a]=!0:(wc[a]=!0,!1)}function Rl(a,o,u){if(uh(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function br(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function tn(a,o,u,f){if(f===null)a.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+f)}}function Sn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function as(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Sc(a,o,u){var f=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,b=f.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(O){u=""+O,b.call(this,O)}}),Object.defineProperty(a,o,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(O){u=""+O},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function ft(a){if(!a._valueTracker){var o=as(a)?"checked":"value";a._valueTracker=Sc(a,o,""+a[o])}}function Ao(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return a&&(f=as(a)?a.checked?"true":"false":a.value),a=f,a!==u?(o.setValue(a),!0):!1}function Li(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var To=/[\n"\\]/g;function ir(a){return a.replace(To,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Dl(a,o,u,f,y,b,O,R){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),o!=null?O==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Sn(o)):a.value!==""+Sn(o)&&(a.value=""+Sn(o)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),o!=null?Ac(a,O,Sn(o)):u!=null?Ac(a,O,Sn(u)):f!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.name=""+Sn(R):a.removeAttribute("name")}function ch(a,o,u,f,y,b,O,R){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){ft(a);return}u=u!=null?""+Sn(u):"",o=o!=null?""+Sn(o):u,R||o===a.value||(a.value=o),a.defaultValue=o}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=R?a.checked:!!f,a.defaultChecked=!!f,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O),ft(a)}function Ac(a,o,u){o==="number"&&Li(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function ss(a,o,u,f){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&f&&(a[u].defaultSelected=!0)}else{for(u=""+Sn(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,f&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function fh(a,o,u){if(o!=null&&(o=""+Sn(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Sn(u):""}function os(a,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(r(92));if(be(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=Sn(o),a.defaultValue=u,f=a.textContent,f===u&&f!==""&&f!==null&&(a.value=f),ft(a)}function ar(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var dh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tc(a,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":f?a.setProperty(o,u):typeof u!="number"||u===0||dh.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function Oc(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var y in o)f=o[y],o.hasOwnProperty(y)&&u[y]!==f&&Tc(a,y,f)}else for(var b in o)o.hasOwnProperty(b)&&Tc(a,b,o[b])}function Ml(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(a){return ls.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function ci(){}var Cc=null;function Vr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var us=null,Vi=null;function Oo(a){var o=Lr(a);if(o&&(a=o.stateNode)){var u=a[En]||null;e:switch(a=o.stateNode,o.type){case"input":if(Dl(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ir(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==a&&f.form===a.form){var y=f[En]||null;if(!y)throw Error(r(90));Dl(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===a.form&&Ao(f)}break e;case"textarea":fh(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&ss(a,!!u.multiple,o,!1)}}}var Vl=!1;function cs(a,o,u){if(Vl)return a(o,u);Vl=!0;try{var f=a(o);return f}finally{if(Vl=!1,(us!==null||Vi!==null)&&(sm(),us&&(o=us,a=Vi,Vi=us=null,Oo(o),a)))for(o=0;o<a.length;o++)Oo(a[o])}}function fi(a,o){var u=a.stateNode;if(u===null)return null;var f=u[En]||null;if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Co=!1;if(zr)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){Co=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{Co=!1}var zi=null,Ic=null,Io=null;function Nc(){if(Io)return Io;var a,o=Ic,u=o.length,f,y="value"in zi?zi.value:zi.textContent,b=y.length;for(a=0;a<u&&o[a]===y[a];a++);var O=u-a;for(f=1;f<=O&&o[u-f]===y[b-f];f++);return Io=y.slice(a,1<f?1-f:void 0)}function No(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ca(){return!0}function di(){return!1}function Pn(a){function o(u,f,y,b,O){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=O,this.currentTarget=null;for(var R in a)a.hasOwnProperty(R)&&(u=a[R],this[R]=u?u(b):b[R]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ca:di,this.isPropagationStopped=di,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ca)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ca)},persist:function(){},isPersistent:ca}),o}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=Pn(fa),fs=p({},fa,{view:0,detail:0}),kc=Pn(fs),ds,zl,Bi,Ul=p({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Bi&&(Bi&&a.type==="mousemove"?(ds=a.screenX-Bi.screenX,zl=a.screenY-Bi.screenY):zl=ds=0,Bi=a),ds)},movementY:function(a){return"movementY"in a?a.movementY:zl}}),Pc=Pn(Ul),ko=p({},Ul,{dataTransfer:0}),mh=Pn(ko),gh=p({},fs,{relatedTarget:0}),Po=Pn(gh),jc=p({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),ph=Pn(jc),Bl=p({},fa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),yh=Pn(Bl),vh=p({},fa,{data:0}),qi=Pn(vh),bh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_h={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wh(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=_h[a])?!!o[a]:!1}function hs(){return wh}var Qn=p({},fs,{key:function(a){if(a.key){var o=bh[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=No(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?xh[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(a){return a.type==="keypress"?No(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?No(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Eh=Pn(Qn),Sh=p({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),da=Pn(Sh),g=p({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs}),A=Pn(g),C=p({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=Pn(C),X=p({},Ul,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ne=Pn(X),_e=p({},fa,{newState:0,oldState:0}),Be=Pn(_e),$t=[9,13,27,32],ot=zr&&"CompositionEvent"in window,kt=null;zr&&"documentMode"in document&&(kt=document.documentMode);var Ur=zr&&"TextEvent"in window&&!kt,Fi=zr&&(!ot||kt&&8<kt&&11>=kt),hi=" ",mi=!1;function jo(a,o){switch(a){case"keyup":return $t.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ql(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Fl=!1;function e5(a,o){switch(a){case"compositionend":return ql(o);case"keypress":return o.which!==32?null:(mi=!0,hi);case"textInput":return a=o.data,a===hi&&mi?null:a;default:return null}}function t5(a,o){if(Fl)return a==="compositionend"||!ot&&jo(a,o)?(a=Nc(),Io=Ic=zi=null,Fl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Fi&&o.locale!=="ko"?null:o.data;default:return null}}var n5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tS(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!n5[a.type]:o==="textarea"}function nS(a,o,u,f){us?Vi?Vi.push(f):Vi=[f]:us=f,o=hm(o,"onChange"),0<o.length&&(u=new Ui("onChange","change",null,u,f),a.push({event:u,listeners:o}))}var Rc=null,Dc=null;function r5(a){VT(a,0)}function Ah(a){var o=vr(a);if(Ao(o))return a}function rS(a,o){if(a==="change")return o}var iS=!1;if(zr){var Dy;if(zr){var My="oninput"in document;if(!My){var aS=document.createElement("div");aS.setAttribute("oninput","return;"),My=typeof aS.oninput=="function"}Dy=My}else Dy=!1;iS=Dy&&(!document.documentMode||9<document.documentMode)}function sS(){Rc&&(Rc.detachEvent("onpropertychange",oS),Dc=Rc=null)}function oS(a){if(a.propertyName==="value"&&Ah(Dc)){var o=[];nS(o,Dc,a,Vr(a)),cs(r5,o)}}function i5(a,o,u){a==="focusin"?(sS(),Rc=o,Dc=u,Rc.attachEvent("onpropertychange",oS)):a==="focusout"&&sS()}function a5(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ah(Dc)}function s5(a,o){if(a==="click")return Ah(o)}function o5(a,o){if(a==="input"||a==="change")return Ah(o)}function l5(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var xr=typeof Object.is=="function"?Object.is:l5;function Mc(a,o){if(xr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!Ze.call(o,y)||!xr(a[y],o[y]))return!1}return!0}function lS(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function uS(a,o){var u=lS(a);a=0;for(var f;u;){if(u.nodeType===3){if(f=a+u.textContent.length,a<=o&&f>=o)return{node:u,offset:o-a};a=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=lS(u)}}function cS(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?cS(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function fS(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Li(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Li(a.document)}return o}function Ly(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var u5=zr&&"documentMode"in document&&11>=document.documentMode,Hl=null,Vy=null,Lc=null,zy=!1;function dS(a,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;zy||Hl==null||Hl!==Li(f)||(f=Hl,"selectionStart"in f&&Ly(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Lc&&Mc(Lc,f)||(Lc=f,f=hm(Vy,"onSelect"),0<f.length&&(o=new Ui("onSelect","select",null,o,u),a.push({event:o,listeners:f}),o.target=Hl)))}function Ro(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var $l={animationend:Ro("Animation","AnimationEnd"),animationiteration:Ro("Animation","AnimationIteration"),animationstart:Ro("Animation","AnimationStart"),transitionrun:Ro("Transition","TransitionRun"),transitionstart:Ro("Transition","TransitionStart"),transitioncancel:Ro("Transition","TransitionCancel"),transitionend:Ro("Transition","TransitionEnd")},Uy={},hS={};zr&&(hS=document.createElement("div").style,"AnimationEvent"in window||(delete $l.animationend.animation,delete $l.animationiteration.animation,delete $l.animationstart.animation),"TransitionEvent"in window||delete $l.transitionend.transition);function Do(a){if(Uy[a])return Uy[a];if(!$l[a])return a;var o=$l[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in hS)return Uy[a]=o[u];return a}var mS=Do("animationend"),gS=Do("animationiteration"),pS=Do("animationstart"),c5=Do("transitionrun"),f5=Do("transitionstart"),d5=Do("transitioncancel"),yS=Do("transitionend"),vS=new Map,By="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");By.push("scrollEnd");function gi(a,o){vS.set(a,o),Di(o,[a])}var Th=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Br=[],Kl=0,qy=0;function Oh(){for(var a=Kl,o=qy=Kl=0;o<a;){var u=Br[o];Br[o++]=null;var f=Br[o];Br[o++]=null;var y=Br[o];Br[o++]=null;var b=Br[o];if(Br[o++]=null,f!==null&&y!==null){var O=f.pending;O===null?y.next=y:(y.next=O.next,O.next=y),f.pending=y}b!==0&&bS(u,y,b)}}function Ch(a,o,u,f){Br[Kl++]=a,Br[Kl++]=o,Br[Kl++]=u,Br[Kl++]=f,qy|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function Fy(a,o,u,f){return Ch(a,o,u,f),Ih(a)}function Mo(a,o){return Ch(a,null,null,o),Ih(a)}function bS(a,o,u){a.lanes|=u;var f=a.alternate;f!==null&&(f.lanes|=u);for(var y=!1,b=a.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&o!==null&&(y=31-Ht(u),a=b.hiddenUpdates,f=a[y],f===null?a[y]=[o]:f.push(o),o.lane=u|536870912),b):null}function Ih(a){if(50<sf)throw sf=0,Zv=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var Gl={};function h5(a,o,u,f){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(a,o,u,f){return new h5(a,o,u,f)}function Hy(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ha(a,o){var u=a.alternate;return u===null?(u=_r(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function xS(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function Nh(a,o,u,f,y,b){var O=0;if(f=a,typeof a=="function")Hy(a)&&(O=1);else if(typeof a=="string")O=vL(a,u,ve.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case D:return a=_r(31,u,o,y),a.elementType=D,a.lanes=b,a;case S:return Lo(u.children,y,b,o);case T:O=8,y|=24;break;case I:return a=_r(12,u,o,y|2),a.elementType=I,a.lanes=b,a;case V:return a=_r(13,u,o,y),a.elementType=V,a.lanes=b,a;case F:return a=_r(19,u,o,y),a.elementType=F,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case L:O=10;break e;case j:O=9;break e;case q:O=11;break e;case N:O=14;break e;case k:O=16,f=null;break e}O=29,u=Error(r(130,a===null?"null":typeof a,"")),f=null}return o=_r(O,u,o,y),o.elementType=a,o.type=f,o.lanes=b,o}function Lo(a,o,u,f){return a=_r(7,a,f,o),a.lanes=u,a}function $y(a,o,u){return a=_r(6,a,null,o),a.lanes=u,a}function _S(a){var o=_r(18,null,null,0);return o.stateNode=a,o}function Ky(a,o,u){return o=_r(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var wS=new WeakMap;function qr(a,o){if(typeof a=="object"&&a!==null){var u=wS.get(a);return u!==void 0?u:(o={value:a,source:o,stack:Ai(o)},wS.set(a,o),o)}return{value:a,source:o,stack:Ai(o)}}var Yl=[],Wl=0,kh=null,Vc=0,Fr=[],Hr=0,ms=null,Hi=1,$i="";function ma(a,o){Yl[Wl++]=Vc,Yl[Wl++]=kh,kh=a,Vc=o}function ES(a,o,u){Fr[Hr++]=Hi,Fr[Hr++]=$i,Fr[Hr++]=ms,ms=a;var f=Hi;a=$i;var y=32-Ht(f)-1;f&=~(1<<y),u+=1;var b=32-Ht(o)+y;if(30<b){var O=y-y%5;b=(f&(1<<O)-1).toString(32),f>>=O,y-=O,Hi=1<<32-Ht(o)+y|u<<y|f,$i=b+a}else Hi=1<<b|u<<y|f,$i=a}function Gy(a){a.return!==null&&(ma(a,1),ES(a,1,0))}function Yy(a){for(;a===kh;)kh=Yl[--Wl],Yl[Wl]=null,Vc=Yl[--Wl],Yl[Wl]=null;for(;a===ms;)ms=Fr[--Hr],Fr[Hr]=null,$i=Fr[--Hr],Fr[Hr]=null,Hi=Fr[--Hr],Fr[Hr]=null}function SS(a,o){Fr[Hr++]=Hi,Fr[Hr++]=$i,Fr[Hr++]=ms,Hi=o.id,$i=o.overflow,ms=a}var jn=null,Ct=null,Je=!1,gs=null,$r=!1,Wy=Error(r(519));function ps(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zc(qr(o,a)),Wy}function AS(a){var o=a.stateNode,u=a.type,f=a.memoizedProps;switch(o[Jt]=a,o[En]=f,u){case"dialog":Ke("cancel",o),Ke("close",o);break;case"iframe":case"object":case"embed":Ke("load",o);break;case"video":case"audio":for(u=0;u<lf.length;u++)Ke(lf[u],o);break;case"source":Ke("error",o);break;case"img":case"image":case"link":Ke("error",o),Ke("load",o);break;case"details":Ke("toggle",o);break;case"input":Ke("invalid",o),ch(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Ke("invalid",o);break;case"textarea":Ke("invalid",o),os(o,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||qT(o.textContent,u)?(f.popover!=null&&(Ke("beforetoggle",o),Ke("toggle",o)),f.onScroll!=null&&Ke("scroll",o),f.onScrollEnd!=null&&Ke("scrollend",o),f.onClick!=null&&(o.onclick=ci),o=!0):o=!1,o||ps(a,!0)}function TS(a){for(jn=a.return;jn;)switch(jn.tag){case 5:case 31:case 13:$r=!1;return;case 27:case 3:$r=!0;return;default:jn=jn.return}}function Xl(a){if(a!==jn)return!1;if(!Je)return TS(a),Je=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||h0(a.type,a.memoizedProps)),u=!u),u&&Ct&&ps(a),TS(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ct=QT(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ct=QT(a)}else o===27?(o=Ct,Ns(a.type)?(a=v0,v0=null,Ct=a):Ct=o):Ct=jn?Gr(a.stateNode.nextSibling):null;return!0}function Vo(){Ct=jn=null,Je=!1}function Xy(){var a=gs;return a!==null&&(ur===null?ur=a:ur.push.apply(ur,a),gs=null),a}function zc(a){gs===null?gs=[a]:gs.push(a)}var Qy=$(null),zo=null,ga=null;function ys(a,o,u){ge(Qy,o._currentValue),o._currentValue=u}function pa(a){a._currentValue=Qy.current,re(Qy)}function Zy(a,o,u){for(;a!==null;){var f=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),a===u)break;a=a.return}}function Jy(a,o,u,f){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var O=y.child;b=b.firstContext;e:for(;b!==null;){var R=b;b=y;for(var H=0;H<o.length;H++)if(R.context===o[H]){b.lanes|=u,R=b.alternate,R!==null&&(R.lanes|=u),Zy(b.return,u,a),f||(O=null);break e}b=R.next}}else if(y.tag===18){if(O=y.return,O===null)throw Error(r(341));O.lanes|=u,b=O.alternate,b!==null&&(b.lanes|=u),Zy(O,u,a),O=null}else O=y.child;if(O!==null)O.return=y;else for(O=y;O!==null;){if(O===a){O=null;break}if(y=O.sibling,y!==null){y.return=O.return,O=y;break}O=O.return}y=O}}function Ql(a,o,u,f){a=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var O=y.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var R=y.type;xr(y.pendingProps.value,O.value)||(a!==null?a.push(R):a=[R])}}else if(y===pe.current){if(O=y.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(hf):a=[hf])}y=y.return}a!==null&&Jy(o,a,u,f),o.flags|=262144}function Ph(a){for(a=a.firstContext;a!==null;){if(!xr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Uo(a){zo=a,ga=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Rn(a){return OS(zo,a)}function jh(a,o){return zo===null&&Uo(a),OS(a,o)}function OS(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},ga===null){if(a===null)throw Error(r(308));ga=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else ga=ga.next=o;return u}var m5=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,f){a.push(f)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},g5=t.unstable_scheduleCallback,p5=t.unstable_NormalPriority,nn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ev(){return{controller:new m5,data:new Map,refCount:0}}function Uc(a){a.refCount--,a.refCount===0&&g5(p5,function(){a.controller.abort()})}var Bc=null,tv=0,Zl=0,Jl=null;function y5(a,o){if(Bc===null){var u=Bc=[];tv=0,Zl=i0(),Jl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return tv++,o.then(CS,CS),o}function CS(){if(--tv===0&&Bc!==null){Jl!==null&&(Jl.status="fulfilled");var a=Bc;Bc=null,Zl=0,Jl=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function v5(a,o){var u=[],f={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){f.status="fulfilled",f.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(f.status="rejected",f.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),f}var IS=W.S;W.S=function(a,o){dT=Xn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&y5(a,o),IS!==null&&IS(a,o)};var Bo=$(null);function nv(){var a=Bo.current;return a!==null?a:_t.pooledCache}function Rh(a,o){o===null?ge(Bo,Bo.current):ge(Bo,o.pool)}function NS(){var a=nv();return a===null?null:{parent:nn._currentValue,pool:a}}var eu=Error(r(460)),rv=Error(r(474)),Dh=Error(r(542)),Mh={then:function(){}};function kS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function PS(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(ci,ci),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,RS(a),a;default:if(typeof o.status=="string")o.then(ci,ci);else{if(a=_t,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(f){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=f}},function(f){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,RS(a),a}throw Fo=o,eu}}function qo(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Fo=u,eu):u}}var Fo=null;function jS(){if(Fo===null)throw Error(r(459));var a=Fo;return Fo=null,a}function RS(a){if(a===eu||a===Dh)throw Error(r(483))}var tu=null,qc=0;function Lh(a){var o=qc;return qc+=1,tu===null&&(tu=[]),PS(tu,a,o)}function Fc(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function Vh(a,o){throw o.$$typeof===x?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function DS(a){function o(Y,K){if(a){var Q=Y.deletions;Q===null?(Y.deletions=[K],Y.flags|=16):Q.push(K)}}function u(Y,K){if(!a)return null;for(;K!==null;)o(Y,K),K=K.sibling;return null}function f(Y){for(var K=new Map;Y!==null;)Y.key!==null?K.set(Y.key,Y):K.set(Y.index,Y),Y=Y.sibling;return K}function y(Y,K){return Y=ha(Y,K),Y.index=0,Y.sibling=null,Y}function b(Y,K,Q){return Y.index=Q,a?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<K?(Y.flags|=67108866,K):Q):(Y.flags|=67108866,K)):(Y.flags|=1048576,K)}function O(Y){return a&&Y.alternate===null&&(Y.flags|=67108866),Y}function R(Y,K,Q,oe){return K===null||K.tag!==6?(K=$y(Q,Y.mode,oe),K.return=Y,K):(K=y(K,Q),K.return=Y,K)}function H(Y,K,Q,oe){var ke=Q.type;return ke===S?se(Y,K,Q.props.children,oe,Q.key):K!==null&&(K.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===k&&qo(ke)===K.type)?(K=y(K,Q.props),Fc(K,Q),K.return=Y,K):(K=Nh(Q.type,Q.key,Q.props,null,Y.mode,oe),Fc(K,Q),K.return=Y,K)}function Z(Y,K,Q,oe){return K===null||K.tag!==4||K.stateNode.containerInfo!==Q.containerInfo||K.stateNode.implementation!==Q.implementation?(K=Ky(Q,Y.mode,oe),K.return=Y,K):(K=y(K,Q.children||[]),K.return=Y,K)}function se(Y,K,Q,oe,ke){return K===null||K.tag!==7?(K=Lo(Q,Y.mode,oe,ke),K.return=Y,K):(K=y(K,Q),K.return=Y,K)}function fe(Y,K,Q){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=$y(""+K,Y.mode,Q),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return Q=Nh(K.type,K.key,K.props,null,Y.mode,Q),Fc(Q,K),Q.return=Y,Q;case E:return K=Ky(K,Y.mode,Q),K.return=Y,K;case k:return K=qo(K),fe(Y,K,Q)}if(be(K)||U(K))return K=Lo(K,Y.mode,Q,null),K.return=Y,K;if(typeof K.then=="function")return fe(Y,Lh(K),Q);if(K.$$typeof===L)return fe(Y,jh(Y,K),Q);Vh(Y,K)}return null}function ee(Y,K,Q,oe){var ke=K!==null?K.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return ke!==null?null:R(Y,K,""+Q,oe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:return Q.key===ke?H(Y,K,Q,oe):null;case E:return Q.key===ke?Z(Y,K,Q,oe):null;case k:return Q=qo(Q),ee(Y,K,Q,oe)}if(be(Q)||U(Q))return ke!==null?null:se(Y,K,Q,oe,null);if(typeof Q.then=="function")return ee(Y,K,Lh(Q),oe);if(Q.$$typeof===L)return ee(Y,K,jh(Y,Q),oe);Vh(Y,Q)}return null}function ie(Y,K,Q,oe,ke){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Y=Y.get(Q)||null,R(K,Y,""+oe,ke);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case _:return Y=Y.get(oe.key===null?Q:oe.key)||null,H(K,Y,oe,ke);case E:return Y=Y.get(oe.key===null?Q:oe.key)||null,Z(K,Y,oe,ke);case k:return oe=qo(oe),ie(Y,K,Q,oe,ke)}if(be(oe)||U(oe))return Y=Y.get(Q)||null,se(K,Y,oe,ke,null);if(typeof oe.then=="function")return ie(Y,K,Q,Lh(oe),ke);if(oe.$$typeof===L)return ie(Y,K,Q,jh(K,oe),ke);Vh(K,oe)}return null}function Ae(Y,K,Q,oe){for(var ke=null,nt=null,Ne=K,Fe=K=0,Ye=null;Ne!==null&&Fe<Q.length;Fe++){Ne.index>Fe?(Ye=Ne,Ne=null):Ye=Ne.sibling;var rt=ee(Y,Ne,Q[Fe],oe);if(rt===null){Ne===null&&(Ne=Ye);break}a&&Ne&&rt.alternate===null&&o(Y,Ne),K=b(rt,K,Fe),nt===null?ke=rt:nt.sibling=rt,nt=rt,Ne=Ye}if(Fe===Q.length)return u(Y,Ne),Je&&ma(Y,Fe),ke;if(Ne===null){for(;Fe<Q.length;Fe++)Ne=fe(Y,Q[Fe],oe),Ne!==null&&(K=b(Ne,K,Fe),nt===null?ke=Ne:nt.sibling=Ne,nt=Ne);return Je&&ma(Y,Fe),ke}for(Ne=f(Ne);Fe<Q.length;Fe++)Ye=ie(Ne,Y,Fe,Q[Fe],oe),Ye!==null&&(a&&Ye.alternate!==null&&Ne.delete(Ye.key===null?Fe:Ye.key),K=b(Ye,K,Fe),nt===null?ke=Ye:nt.sibling=Ye,nt=Ye);return a&&Ne.forEach(function(Ds){return o(Y,Ds)}),Je&&ma(Y,Fe),ke}function Re(Y,K,Q,oe){if(Q==null)throw Error(r(151));for(var ke=null,nt=null,Ne=K,Fe=K=0,Ye=null,rt=Q.next();Ne!==null&&!rt.done;Fe++,rt=Q.next()){Ne.index>Fe?(Ye=Ne,Ne=null):Ye=Ne.sibling;var Ds=ee(Y,Ne,rt.value,oe);if(Ds===null){Ne===null&&(Ne=Ye);break}a&&Ne&&Ds.alternate===null&&o(Y,Ne),K=b(Ds,K,Fe),nt===null?ke=Ds:nt.sibling=Ds,nt=Ds,Ne=Ye}if(rt.done)return u(Y,Ne),Je&&ma(Y,Fe),ke;if(Ne===null){for(;!rt.done;Fe++,rt=Q.next())rt=fe(Y,rt.value,oe),rt!==null&&(K=b(rt,K,Fe),nt===null?ke=rt:nt.sibling=rt,nt=rt);return Je&&ma(Y,Fe),ke}for(Ne=f(Ne);!rt.done;Fe++,rt=Q.next())rt=ie(Ne,Y,Fe,rt.value,oe),rt!==null&&(a&&rt.alternate!==null&&Ne.delete(rt.key===null?Fe:rt.key),K=b(rt,K,Fe),nt===null?ke=rt:nt.sibling=rt,nt=rt);return a&&Ne.forEach(function(IL){return o(Y,IL)}),Je&&ma(Y,Fe),ke}function vt(Y,K,Q,oe){if(typeof Q=="object"&&Q!==null&&Q.type===S&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:e:{for(var ke=Q.key;K!==null;){if(K.key===ke){if(ke=Q.type,ke===S){if(K.tag===7){u(Y,K.sibling),oe=y(K,Q.props.children),oe.return=Y,Y=oe;break e}}else if(K.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===k&&qo(ke)===K.type){u(Y,K.sibling),oe=y(K,Q.props),Fc(oe,Q),oe.return=Y,Y=oe;break e}u(Y,K);break}else o(Y,K);K=K.sibling}Q.type===S?(oe=Lo(Q.props.children,Y.mode,oe,Q.key),oe.return=Y,Y=oe):(oe=Nh(Q.type,Q.key,Q.props,null,Y.mode,oe),Fc(oe,Q),oe.return=Y,Y=oe)}return O(Y);case E:e:{for(ke=Q.key;K!==null;){if(K.key===ke)if(K.tag===4&&K.stateNode.containerInfo===Q.containerInfo&&K.stateNode.implementation===Q.implementation){u(Y,K.sibling),oe=y(K,Q.children||[]),oe.return=Y,Y=oe;break e}else{u(Y,K);break}else o(Y,K);K=K.sibling}oe=Ky(Q,Y.mode,oe),oe.return=Y,Y=oe}return O(Y);case k:return Q=qo(Q),vt(Y,K,Q,oe)}if(be(Q))return Ae(Y,K,Q,oe);if(U(Q)){if(ke=U(Q),typeof ke!="function")throw Error(r(150));return Q=ke.call(Q),Re(Y,K,Q,oe)}if(typeof Q.then=="function")return vt(Y,K,Lh(Q),oe);if(Q.$$typeof===L)return vt(Y,K,jh(Y,Q),oe);Vh(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,K!==null&&K.tag===6?(u(Y,K.sibling),oe=y(K,Q),oe.return=Y,Y=oe):(u(Y,K),oe=$y(Q,Y.mode,oe),oe.return=Y,Y=oe),O(Y)):u(Y,K)}return function(Y,K,Q,oe){try{qc=0;var ke=vt(Y,K,Q,oe);return tu=null,ke}catch(Ne){if(Ne===eu||Ne===Dh)throw Ne;var nt=_r(29,Ne,null,Y.mode);return nt.lanes=oe,nt.return=Y,nt}finally{}}}var Ho=DS(!0),MS=DS(!1),vs=!1;function iv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function av(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function bs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function xs(a,o,u){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(lt&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,o=Ih(a),bS(a,null,u),o}return Ch(a,f,o,u),Ih(a)}function Hc(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=a.pendingLanes,u|=f,o.lanes=u,yc(a,u)}}function sv(a,o){var u=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=O:b=b.next=O,u=u.next}while(u!==null);b===null?y=b=o:b=b.next=o}else y=b=o;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var ov=!1;function $c(){if(ov){var a=Jl;if(a!==null)throw a}}function Kc(a,o,u,f){ov=!1;var y=a.updateQueue;vs=!1;var b=y.firstBaseUpdate,O=y.lastBaseUpdate,R=y.shared.pending;if(R!==null){y.shared.pending=null;var H=R,Z=H.next;H.next=null,O===null?b=Z:O.next=Z,O=H;var se=a.alternate;se!==null&&(se=se.updateQueue,R=se.lastBaseUpdate,R!==O&&(R===null?se.firstBaseUpdate=Z:R.next=Z,se.lastBaseUpdate=H))}if(b!==null){var fe=y.baseState;O=0,se=Z=H=null,R=b;do{var ee=R.lane&-536870913,ie=ee!==R.lane;if(ie?(Ge&ee)===ee:(f&ee)===ee){ee!==0&&ee===Zl&&(ov=!0),se!==null&&(se=se.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Ae=a,Re=R;ee=o;var vt=u;switch(Re.tag){case 1:if(Ae=Re.payload,typeof Ae=="function"){fe=Ae.call(vt,fe,ee);break e}fe=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Re.payload,ee=typeof Ae=="function"?Ae.call(vt,fe,ee):Ae,ee==null)break e;fe=p({},fe,ee);break e;case 2:vs=!0}}ee=R.callback,ee!==null&&(a.flags|=64,ie&&(a.flags|=8192),ie=y.callbacks,ie===null?y.callbacks=[ee]:ie.push(ee))}else ie={lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},se===null?(Z=se=ie,H=fe):se=se.next=ie,O|=ee;if(R=R.next,R===null){if(R=y.shared.pending,R===null)break;ie=R,R=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);se===null&&(H=fe),y.baseState=H,y.firstBaseUpdate=Z,y.lastBaseUpdate=se,b===null&&(y.shared.lanes=0),As|=O,a.lanes=O,a.memoizedState=fe}}function LS(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function VS(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)LS(u[a],o)}var nu=$(null),zh=$(0);function zS(a,o){a=Aa,ge(zh,a),ge(nu,o),Aa=a|o.baseLanes}function lv(){ge(zh,Aa),ge(nu,nu.current)}function uv(){Aa=zh.current,re(nu),re(zh)}var wr=$(null),Kr=null;function _s(a){var o=a.alternate;ge(Kt,Kt.current&1),ge(wr,a),Kr===null&&(o===null||nu.current!==null||o.memoizedState!==null)&&(Kr=a)}function cv(a){ge(Kt,Kt.current),ge(wr,a),Kr===null&&(Kr=a)}function US(a){a.tag===22?(ge(Kt,Kt.current),ge(wr,a),Kr===null&&(Kr=a)):ws()}function ws(){ge(Kt,Kt.current),ge(wr,wr.current)}function Er(a){re(wr),Kr===a&&(Kr=null),re(Kt)}var Kt=$(0);function Uh(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||p0(u)||y0(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ya=0,qe=null,pt=null,rn=null,Bh=!1,ru=!1,$o=!1,qh=0,Gc=0,iu=null,b5=0;function Bt(){throw Error(r(321))}function fv(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!xr(a[u],o[u]))return!1;return!0}function dv(a,o,u,f,y,b){return ya=b,qe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=a===null||a.memoizedState===null?EA:Ov,$o=!1,b=u(f,y),$o=!1,ru&&(b=qS(o,u,f,y)),BS(a),b}function BS(a){W.H=Xc;var o=pt!==null&&pt.next!==null;if(ya=0,rn=pt=qe=null,Bh=!1,Gc=0,iu=null,o)throw Error(r(300));a===null||an||(a=a.dependencies,a!==null&&Ph(a)&&(an=!0))}function qS(a,o,u,f){qe=a;var y=0;do{if(ru&&(iu=null),Gc=0,ru=!1,25<=y)throw Error(r(301));if(y+=1,rn=pt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}W.H=SA,b=o(u,f)}while(ru);return b}function x5(){var a=W.H,o=a.useState()[0];return o=typeof o.then=="function"?Yc(o):o,a=a.useState()[0],(pt!==null?pt.memoizedState:null)!==a&&(qe.flags|=1024),o}function hv(){var a=qh!==0;return qh=0,a}function mv(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function gv(a){if(Bh){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Bh=!1}ya=0,rn=pt=qe=null,ru=!1,Gc=qh=0,iu=null}function Zn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?qe.memoizedState=rn=a:rn=rn.next=a,rn}function Gt(){if(pt===null){var a=qe.alternate;a=a!==null?a.memoizedState:null}else a=pt.next;var o=rn===null?qe.memoizedState:rn.next;if(o!==null)rn=o,pt=a;else{if(a===null)throw qe.alternate===null?Error(r(467)):Error(r(310));pt=a,a={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},rn===null?qe.memoizedState=rn=a:rn=rn.next=a}return rn}function Fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yc(a){var o=Gc;return Gc+=1,iu===null&&(iu=[]),a=PS(iu,a,o),o=qe,(rn===null?o.memoizedState:rn.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?EA:Ov),a}function Hh(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Yc(a);if(a.$$typeof===L)return Rn(a)}throw Error(r(438,String(a)))}function pv(a){var o=null,u=qe.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=qe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Fh(),qe.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),f=0;f<a;f++)u[f]=B;return o.index++,u}function va(a,o){return typeof o=="function"?o(a):o}function $h(a){var o=Gt();return yv(o,pt,a)}function yv(a,o,u){var f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var y=a.baseQueue,b=f.pending;if(b!==null){if(y!==null){var O=y.next;y.next=b.next,b.next=O}o.baseQueue=y=b,f.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{o=y.next;var R=O=null,H=null,Z=o,se=!1;do{var fe=Z.lane&-536870913;if(fe!==Z.lane?(Ge&fe)===fe:(ya&fe)===fe){var ee=Z.revertLane;if(ee===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),fe===Zl&&(se=!0);else if((ya&ee)===ee){Z=Z.next,ee===Zl&&(se=!0);continue}else fe={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(R=H=fe,O=b):H=H.next=fe,qe.lanes|=ee,As|=ee;fe=Z.action,$o&&u(b,fe),b=Z.hasEagerState?Z.eagerState:u(b,fe)}else ee={lane:fe,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(R=H=ee,O=b):H=H.next=ee,qe.lanes|=fe,As|=fe;Z=Z.next}while(Z!==null&&Z!==o);if(H===null?O=b:H.next=R,!xr(b,a.memoizedState)&&(an=!0,se&&(u=Jl,u!==null)))throw u;a.memoizedState=b,a.baseState=O,a.baseQueue=H,f.lastRenderedState=b}return y===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function vv(a){var o=Gt(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var f=u.dispatch,y=u.pending,b=o.memoizedState;if(y!==null){u.pending=null;var O=y=y.next;do b=a(b,O.action),O=O.next;while(O!==y);xr(b,o.memoizedState)||(an=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,f]}function FS(a,o,u){var f=qe,y=Gt(),b=Je;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=o();var O=!xr((pt||y).memoizedState,u);if(O&&(y.memoizedState=u,an=!0),y=y.queue,_v(KS.bind(null,f,y,a),[a]),y.getSnapshot!==o||O||rn!==null&&rn.memoizedState.tag&1){if(f.flags|=2048,au(9,{destroy:void 0},$S.bind(null,f,y,u,o),null),_t===null)throw Error(r(349));b||(ya&127)!==0||HS(f,o,u)}return u}function HS(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=qe.updateQueue,o===null?(o=Fh(),qe.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function $S(a,o,u,f){o.value=u,o.getSnapshot=f,GS(o)&&YS(a)}function KS(a,o,u){return u(function(){GS(o)&&YS(a)})}function GS(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!xr(a,u)}catch{return!0}}function YS(a){var o=Mo(a,2);o!==null&&cr(o,a,2)}function bv(a){var o=Zn();if(typeof a=="function"){var u=a;if(a=u(),$o){Mr(!0);try{u()}finally{Mr(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:a},o}function WS(a,o,u,f){return a.baseState=u,yv(a,pt,typeof f=="function"?f:va)}function _5(a,o,u,f,y){if(Yh(a))throw Error(r(485));if(a=o.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){b.listeners.push(O)}};W.T!==null?u(!0):b.isTransition=!1,f(b),u=o.pending,u===null?(b.next=o.pending=b,XS(o,b)):(b.next=u.next,o.pending=u.next=b)}}function XS(a,o){var u=o.action,f=o.payload,y=a.state;if(o.isTransition){var b=W.T,O={};W.T=O;try{var R=u(y,f),H=W.S;H!==null&&H(O,R),QS(a,o,R)}catch(Z){xv(a,o,Z)}finally{b!==null&&O.types!==null&&(b.types=O.types),W.T=b}}else try{b=u(y,f),QS(a,o,b)}catch(Z){xv(a,o,Z)}}function QS(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){ZS(a,o,f)},function(f){return xv(a,o,f)}):ZS(a,o,u)}function ZS(a,o,u){o.status="fulfilled",o.value=u,JS(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,XS(a,u)))}function xv(a,o,u){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,JS(o),o=o.next;while(o!==f)}a.action=null}function JS(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function eA(a,o){return o}function tA(a,o){if(Je){var u=_t.formState;if(u!==null){e:{var f=qe;if(Je){if(Ct){t:{for(var y=Ct,b=$r;y.nodeType!==8;){if(!b){y=null;break t}if(y=Gr(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Ct=Gr(y.nextSibling),f=y.data==="F!";break e}}ps(f)}f=!1}f&&(o=u[0])}}return u=Zn(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eA,lastRenderedState:o},u.queue=f,u=xA.bind(null,qe,f),f.dispatch=u,f=bv(!1),b=Tv.bind(null,qe,!1,f.queue),f=Zn(),y={state:o,dispatch:null,action:a,pending:null},f.queue=y,u=_5.bind(null,qe,y,b,u),y.dispatch=u,f.memoizedState=a,[o,u,!1]}function nA(a){var o=Gt();return rA(o,pt,a)}function rA(a,o,u){if(o=yv(a,o,eA)[0],a=$h(va)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Yc(o)}catch(O){throw O===eu?Dh:O}else f=o;o=Gt();var y=o.queue,b=y.dispatch;return u!==o.memoizedState&&(qe.flags|=2048,au(9,{destroy:void 0},w5.bind(null,y,u),null)),[f,b,a]}function w5(a,o){a.action=o}function iA(a){var o=Gt(),u=pt;if(u!==null)return rA(o,u,a);Gt(),o=o.memoizedState,u=Gt();var f=u.queue.dispatch;return u.memoizedState=a,[o,f,!1]}function au(a,o,u,f){return a={tag:a,create:u,deps:f,inst:o,next:null},o=qe.updateQueue,o===null&&(o=Fh(),qe.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(f=u.next,u.next=a,a.next=f,o.lastEffect=a),a}function aA(){return Gt().memoizedState}function Kh(a,o,u,f){var y=Zn();qe.flags|=a,y.memoizedState=au(1|o,{destroy:void 0},u,f===void 0?null:f)}function Gh(a,o,u,f){var y=Gt();f=f===void 0?null:f;var b=y.memoizedState.inst;pt!==null&&f!==null&&fv(f,pt.memoizedState.deps)?y.memoizedState=au(o,b,u,f):(qe.flags|=a,y.memoizedState=au(1|o,b,u,f))}function sA(a,o){Kh(8390656,8,a,o)}function _v(a,o){Gh(2048,8,a,o)}function E5(a){qe.flags|=4;var o=qe.updateQueue;if(o===null)o=Fh(),qe.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function oA(a){var o=Gt().memoizedState;return E5({ref:o,nextImpl:a}),function(){if((lt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function lA(a,o){return Gh(4,2,a,o)}function uA(a,o){return Gh(4,4,a,o)}function cA(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function fA(a,o,u){u=u!=null?u.concat([a]):null,Gh(4,4,cA.bind(null,o,a),u)}function wv(){}function dA(a,o){var u=Gt();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&fv(o,f[1])?f[0]:(u.memoizedState=[a,o],a)}function hA(a,o){var u=Gt();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&fv(o,f[1]))return f[0];if(f=a(),$o){Mr(!0);try{a()}finally{Mr(!1)}}return u.memoizedState=[f,o],f}function Ev(a,o,u){return u===void 0||(ya&1073741824)!==0&&(Ge&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=mT(),qe.lanes|=a,As|=a,u)}function mA(a,o,u,f){return xr(u,o)?u:nu.current!==null?(a=Ev(a,u,f),xr(a,o)||(an=!0),a):(ya&42)===0||(ya&1073741824)!==0&&(Ge&261930)===0?(an=!0,a.memoizedState=u):(a=mT(),qe.lanes|=a,As|=a,o)}function gA(a,o,u,f,y){var b=te.p;te.p=b!==0&&8>b?b:8;var O=W.T,R={};W.T=R,Tv(a,!1,o,u);try{var H=y(),Z=W.S;if(Z!==null&&Z(R,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var se=v5(H,f);Wc(a,o,se,Tr(a))}else Wc(a,o,f,Tr(a))}catch(fe){Wc(a,o,{then:function(){},status:"rejected",reason:fe},Tr())}finally{te.p=b,O!==null&&R.types!==null&&(O.types=R.types),W.T=O}}function S5(){}function Sv(a,o,u,f){if(a.tag!==5)throw Error(r(476));var y=pA(a).queue;gA(a,y,o,G,u===null?S5:function(){return yA(a),u(f)})}function pA(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:G},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function yA(a){var o=pA(a);o.next===null&&(o=a.alternate.memoizedState),Wc(a,o.next.queue,{},Tr())}function Av(){return Rn(hf)}function vA(){return Gt().memoizedState}function bA(){return Gt().memoizedState}function A5(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=Tr();a=bs(u);var f=xs(o,a,u);f!==null&&(cr(f,o,u),Hc(f,o,u)),o={cache:ev()},a.payload=o;return}o=o.return}}function T5(a,o,u){var f=Tr();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Yh(a)?_A(o,u):(u=Fy(a,o,u,f),u!==null&&(cr(u,a,f),wA(u,o,f)))}function xA(a,o,u){var f=Tr();Wc(a,o,u,f)}function Wc(a,o,u,f){var y={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Yh(a))_A(o,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var O=o.lastRenderedState,R=b(O,u);if(y.hasEagerState=!0,y.eagerState=R,xr(R,O))return Ch(a,o,y,0),_t===null&&Oh(),!1}catch{}finally{}if(u=Fy(a,o,y,f),u!==null)return cr(u,a,f),wA(u,o,f),!0}return!1}function Tv(a,o,u,f){if(f={lane:2,revertLane:i0(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Yh(a)){if(o)throw Error(r(479))}else o=Fy(a,u,f,2),o!==null&&cr(o,a,2)}function Yh(a){var o=a.alternate;return a===qe||o!==null&&o===qe}function _A(a,o){ru=Bh=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function wA(a,o,u){if((u&4194048)!==0){var f=o.lanes;f&=a.pendingLanes,u|=f,o.lanes=u,yc(a,u)}}var Xc={readContext:Rn,use:Hh,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};Xc.useEffectEvent=Bt;var EA={readContext:Rn,use:Hh,useCallback:function(a,o){return Zn().memoizedState=[a,o===void 0?null:o],a},useContext:Rn,useEffect:sA,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Kh(4194308,4,cA.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Kh(4194308,4,a,o)},useInsertionEffect:function(a,o){Kh(4,2,a,o)},useMemo:function(a,o){var u=Zn();o=o===void 0?null:o;var f=a();if($o){Mr(!0);try{a()}finally{Mr(!1)}}return u.memoizedState=[f,o],f},useReducer:function(a,o,u){var f=Zn();if(u!==void 0){var y=u(o);if($o){Mr(!0);try{u(o)}finally{Mr(!1)}}}else y=o;return f.memoizedState=f.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},f.queue=a,a=a.dispatch=T5.bind(null,qe,a),[f.memoizedState,a]},useRef:function(a){var o=Zn();return a={current:a},o.memoizedState=a},useState:function(a){a=bv(a);var o=a.queue,u=xA.bind(null,qe,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:wv,useDeferredValue:function(a,o){var u=Zn();return Ev(u,a,o)},useTransition:function(){var a=bv(!1);return a=gA.bind(null,qe,a.queue,!0,!1),Zn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var f=qe,y=Zn();if(Je){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),_t===null)throw Error(r(349));(Ge&127)!==0||HS(f,o,u)}y.memoizedState=u;var b={value:u,getSnapshot:o};return y.queue=b,sA(KS.bind(null,f,b,a),[a]),f.flags|=2048,au(9,{destroy:void 0},$S.bind(null,f,b,u,o),null),u},useId:function(){var a=Zn(),o=_t.identifierPrefix;if(Je){var u=$i,f=Hi;u=(f&~(1<<32-Ht(f)-1)).toString(32)+u,o="_"+o+"R_"+u,u=qh++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=b5++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:Av,useFormState:tA,useActionState:tA,useOptimistic:function(a){var o=Zn();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Tv.bind(null,qe,!0,u),u.dispatch=o,[a,o]},useMemoCache:pv,useCacheRefresh:function(){return Zn().memoizedState=A5.bind(null,qe)},useEffectEvent:function(a){var o=Zn(),u={impl:a};return o.memoizedState=u,function(){if((lt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Ov={readContext:Rn,use:Hh,useCallback:dA,useContext:Rn,useEffect:_v,useImperativeHandle:fA,useInsertionEffect:lA,useLayoutEffect:uA,useMemo:hA,useReducer:$h,useRef:aA,useState:function(){return $h(va)},useDebugValue:wv,useDeferredValue:function(a,o){var u=Gt();return mA(u,pt.memoizedState,a,o)},useTransition:function(){var a=$h(va)[0],o=Gt().memoizedState;return[typeof a=="boolean"?a:Yc(a),o]},useSyncExternalStore:FS,useId:vA,useHostTransitionStatus:Av,useFormState:nA,useActionState:nA,useOptimistic:function(a,o){var u=Gt();return WS(u,pt,a,o)},useMemoCache:pv,useCacheRefresh:bA};Ov.useEffectEvent=oA;var SA={readContext:Rn,use:Hh,useCallback:dA,useContext:Rn,useEffect:_v,useImperativeHandle:fA,useInsertionEffect:lA,useLayoutEffect:uA,useMemo:hA,useReducer:vv,useRef:aA,useState:function(){return vv(va)},useDebugValue:wv,useDeferredValue:function(a,o){var u=Gt();return pt===null?Ev(u,a,o):mA(u,pt.memoizedState,a,o)},useTransition:function(){var a=vv(va)[0],o=Gt().memoizedState;return[typeof a=="boolean"?a:Yc(a),o]},useSyncExternalStore:FS,useId:vA,useHostTransitionStatus:Av,useFormState:iA,useActionState:iA,useOptimistic:function(a,o){var u=Gt();return pt!==null?WS(u,pt,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:pv,useCacheRefresh:bA};SA.useEffectEvent=oA;function Cv(a,o,u,f){o=a.memoizedState,u=u(f,o),u=u==null?o:p({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Iv={enqueueSetState:function(a,o,u){a=a._reactInternals;var f=Tr(),y=bs(f);y.payload=o,u!=null&&(y.callback=u),o=xs(a,y,f),o!==null&&(cr(o,a,f),Hc(o,a,f))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var f=Tr(),y=bs(f);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=xs(a,y,f),o!==null&&(cr(o,a,f),Hc(o,a,f))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Tr(),f=bs(u);f.tag=2,o!=null&&(f.callback=o),o=xs(a,f,u),o!==null&&(cr(o,a,u),Hc(o,a,u))}};function AA(a,o,u,f,y,b,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,b,O):o.prototype&&o.prototype.isPureReactComponent?!Mc(u,f)||!Mc(y,b):!0}function TA(a,o,u,f){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==a&&Iv.enqueueReplaceState(o,o.state,null)}function Ko(a,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(a=a.defaultProps){u===o&&(u=p({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}function OA(a){Th(a)}function CA(a){console.error(a)}function IA(a){Th(a)}function Wh(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function NA(a,o,u){try{var f=a.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Nv(a,o,u){return u=bs(u),u.tag=3,u.payload={element:null},u.callback=function(){Wh(a,o)},u}function kA(a){return a=bs(a),a.tag=3,a}function PA(a,o,u,f){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=f.value;a.payload=function(){return y(b)},a.callback=function(){NA(o,u,f)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){NA(o,u,f),typeof y!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var R=f.stack;this.componentDidCatch(f.value,{componentStack:R!==null?R:""})})}function O5(a,o,u,f,y){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&Ql(o,u,y,!0),u=wr.current,u!==null){switch(u.tag){case 31:case 13:return Kr===null?om():u.alternate===null&&qt===0&&(qt=3),u.flags&=-257,u.flags|=65536,u.lanes=y,f===Mh?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),t0(a,f,y)),!1;case 22:return u.flags|=65536,f===Mh?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),t0(a,f,y)),!1}throw Error(r(435,u.tag))}return t0(a,f,y),om(),!1}if(Je)return o=wr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,f!==Wy&&(a=Error(r(422),{cause:f}),zc(qr(a,u)))):(f!==Wy&&(o=Error(r(423),{cause:f}),zc(qr(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,f=qr(f,u),y=Nv(a.stateNode,f,y),sv(a,y),qt!==4&&(qt=2)),!1;var b=Error(r(520),{cause:f});if(b=qr(b,u),af===null?af=[b]:af.push(b),qt!==4&&(qt=2),o===null)return!0;f=qr(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=Nv(u.stateNode,f,a),sv(u,a),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ts===null||!Ts.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=kA(y),PA(y,a,u,f),sv(u,y),!1}u=u.return}while(u!==null);return!1}var kv=Error(r(461)),an=!1;function Dn(a,o,u,f){o.child=a===null?MS(o,null,u,f):Ho(o,a.child,u,f)}function jA(a,o,u,f,y){u=u.render;var b=o.ref;if("ref"in f){var O={};for(var R in f)R!=="ref"&&(O[R]=f[R])}else O=f;return Uo(o),f=dv(a,o,u,O,b,y),R=hv(),a!==null&&!an?(mv(a,o,y),ba(a,o,y)):(Je&&R&&Gy(o),o.flags|=1,Dn(a,o,f,y),o.child)}function RA(a,o,u,f,y){if(a===null){var b=u.type;return typeof b=="function"&&!Hy(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,DA(a,o,b,f,y)):(a=Nh(u.type,null,f,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!zv(a,y)){var O=b.memoizedProps;if(u=u.compare,u=u!==null?u:Mc,u(O,f)&&a.ref===o.ref)return ba(a,o,y)}return o.flags|=1,a=ha(b,f),a.ref=o.ref,a.return=o,o.child=a}function DA(a,o,u,f,y){if(a!==null){var b=a.memoizedProps;if(Mc(b,f)&&a.ref===o.ref)if(an=!1,o.pendingProps=f=b,zv(a,y))(a.flags&131072)!==0&&(an=!0);else return o.lanes=a.lanes,ba(a,o,y)}return Pv(a,o,u,f,y)}function MA(a,o,u,f){var y=f.children,b=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,a!==null){for(f=o.child=a.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~b}else f=0,o.child=null;return LA(a,o,b,u,f)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Rh(o,b!==null?b.cachePool:null),b!==null?zS(o,b):lv(),US(o);else return f=o.lanes=536870912,LA(a,o,b!==null?b.baseLanes|u:u,u,f)}else b!==null?(Rh(o,b.cachePool),zS(o,b),ws(),o.memoizedState=null):(a!==null&&Rh(o,null),lv(),ws());return Dn(a,o,y,u),o.child}function Qc(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function LA(a,o,u,f,y){var b=nv();return b=b===null?null:{parent:nn._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},a!==null&&Rh(o,null),lv(),US(o),a!==null&&Ql(a,o,f,!0),o.childLanes=y,null}function Xh(a,o){return o=Zh({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function VA(a,o,u){return Ho(o,a.child,null,u),a=Xh(o,o.pendingProps),a.flags|=2,Er(o),o.memoizedState=null,a}function C5(a,o,u){var f=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Je){if(f.mode==="hidden")return a=Xh(o,f),o.lanes=536870912,Qc(null,a);if(cv(o),(a=Ct)?(a=XT(a,$r),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:ms!==null?{id:Hi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},u=_S(a),u.return=o,o.child=u,jn=o,Ct=null)):a=null,a===null)throw ps(o);return o.lanes=536870912,null}return Xh(o,f)}var b=a.memoizedState;if(b!==null){var O=b.dehydrated;if(cv(o),y)if(o.flags&256)o.flags&=-257,o=VA(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(an||Ql(a,o,u,!1),y=(u&a.childLanes)!==0,an||y){if(f=_t,f!==null&&(O=vc(f,u),O!==0&&O!==b.retryLane))throw b.retryLane=O,Mo(a,O),cr(f,a,O),kv;om(),o=VA(a,o,u)}else a=b.treeContext,Ct=Gr(O.nextSibling),jn=o,Je=!0,gs=null,$r=!1,a!==null&&SS(o,a),o=Xh(o,f),o.flags|=4096;return o}return a=ha(a.child,{mode:f.mode,children:f.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Qh(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function Pv(a,o,u,f,y){return Uo(o),u=dv(a,o,u,f,void 0,y),f=hv(),a!==null&&!an?(mv(a,o,y),ba(a,o,y)):(Je&&f&&Gy(o),o.flags|=1,Dn(a,o,u,y),o.child)}function zA(a,o,u,f,y,b){return Uo(o),o.updateQueue=null,u=qS(o,f,u,y),BS(a),f=hv(),a!==null&&!an?(mv(a,o,b),ba(a,o,b)):(Je&&f&&Gy(o),o.flags|=1,Dn(a,o,u,b),o.child)}function UA(a,o,u,f,y){if(Uo(o),o.stateNode===null){var b=Gl,O=u.contextType;typeof O=="object"&&O!==null&&(b=Rn(O)),b=new u(f,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Iv,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=f,b.state=o.memoizedState,b.refs={},iv(o),O=u.contextType,b.context=typeof O=="object"&&O!==null?Rn(O):Gl,b.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(Cv(o,u,O,f),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(O=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),O!==b.state&&Iv.enqueueReplaceState(b,b.state,null),Kc(o,f,b,y),$c(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(a===null){b=o.stateNode;var R=o.memoizedProps,H=Ko(u,R);b.props=H;var Z=b.context,se=u.contextType;O=Gl,typeof se=="object"&&se!==null&&(O=Rn(se));var fe=u.getDerivedStateFromProps;se=typeof fe=="function"||typeof b.getSnapshotBeforeUpdate=="function",R=o.pendingProps!==R,se||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R||Z!==O)&&TA(o,b,f,O),vs=!1;var ee=o.memoizedState;b.state=ee,Kc(o,f,b,y),$c(),Z=o.memoizedState,R||ee!==Z||vs?(typeof fe=="function"&&(Cv(o,u,fe,f),Z=o.memoizedState),(H=vs||AA(o,u,H,f,ee,Z,O))?(se||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=Z),b.props=f,b.state=Z,b.context=O,f=H):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{b=o.stateNode,av(a,o),O=o.memoizedProps,se=Ko(u,O),b.props=se,fe=o.pendingProps,ee=b.context,Z=u.contextType,H=Gl,typeof Z=="object"&&Z!==null&&(H=Rn(Z)),R=u.getDerivedStateFromProps,(Z=typeof R=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(O!==fe||ee!==H)&&TA(o,b,f,H),vs=!1,ee=o.memoizedState,b.state=ee,Kc(o,f,b,y),$c();var ie=o.memoizedState;O!==fe||ee!==ie||vs||a!==null&&a.dependencies!==null&&Ph(a.dependencies)?(typeof R=="function"&&(Cv(o,u,R,f),ie=o.memoizedState),(se=vs||AA(o,u,se,f,ee,ie,H)||a!==null&&a.dependencies!==null&&Ph(a.dependencies))?(Z||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,ie,H),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,ie,H)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||O===a.memoizedProps&&ee===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ee===a.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ie),b.props=f,b.state=ie,b.context=H,f=se):(typeof b.componentDidUpdate!="function"||O===a.memoizedProps&&ee===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&ee===a.memoizedState||(o.flags|=1024),f=!1)}return b=f,Qh(a,o),f=(o.flags&128)!==0,b||f?(b=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&f?(o.child=Ho(o,a.child,null,y),o.child=Ho(o,null,u,y)):Dn(a,o,u,y),o.memoizedState=b.state,a=o.child):a=ba(a,o,y),a}function BA(a,o,u,f){return Vo(),o.flags|=256,Dn(a,o,u,f),o.child}var jv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rv(a){return{baseLanes:a,cachePool:NS()}}function Dv(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=Ar),a}function qA(a,o,u){var f=o.pendingProps,y=!1,b=(o.flags&128)!==0,O;if((O=b)||(O=a!==null&&a.memoizedState===null?!1:(Kt.current&2)!==0),O&&(y=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,a===null){if(Je){if(y?_s(o):ws(),(a=Ct)?(a=XT(a,$r),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:ms!==null?{id:Hi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},u=_S(a),u.return=o,o.child=u,jn=o,Ct=null)):a=null,a===null)throw ps(o);return y0(a)?o.lanes=32:o.lanes=536870912,null}var R=f.children;return f=f.fallback,y?(ws(),y=o.mode,R=Zh({mode:"hidden",children:R},y),f=Lo(f,y,u,null),R.return=o,f.return=o,R.sibling=f,o.child=R,f=o.child,f.memoizedState=Rv(u),f.childLanes=Dv(a,O,u),o.memoizedState=jv,Qc(null,f)):(_s(o),Mv(o,R))}var H=a.memoizedState;if(H!==null&&(R=H.dehydrated,R!==null)){if(b)o.flags&256?(_s(o),o.flags&=-257,o=Lv(a,o,u)):o.memoizedState!==null?(ws(),o.child=a.child,o.flags|=128,o=null):(ws(),R=f.fallback,y=o.mode,f=Zh({mode:"visible",children:f.children},y),R=Lo(R,y,u,null),R.flags|=2,f.return=o,R.return=o,f.sibling=R,o.child=f,Ho(o,a.child,null,u),f=o.child,f.memoizedState=Rv(u),f.childLanes=Dv(a,O,u),o.memoizedState=jv,o=Qc(null,f));else if(_s(o),y0(R)){if(O=R.nextSibling&&R.nextSibling.dataset,O)var Z=O.dgst;O=Z,f=Error(r(419)),f.stack="",f.digest=O,zc({value:f,source:null,stack:null}),o=Lv(a,o,u)}else if(an||Ql(a,o,u,!1),O=(u&a.childLanes)!==0,an||O){if(O=_t,O!==null&&(f=vc(O,u),f!==0&&f!==H.retryLane))throw H.retryLane=f,Mo(a,f),cr(O,a,f),kv;p0(R)||om(),o=Lv(a,o,u)}else p0(R)?(o.flags|=192,o.child=a.child,o=null):(a=H.treeContext,Ct=Gr(R.nextSibling),jn=o,Je=!0,gs=null,$r=!1,a!==null&&SS(o,a),o=Mv(o,f.children),o.flags|=4096);return o}return y?(ws(),R=f.fallback,y=o.mode,H=a.child,Z=H.sibling,f=ha(H,{mode:"hidden",children:f.children}),f.subtreeFlags=H.subtreeFlags&65011712,Z!==null?R=ha(Z,R):(R=Lo(R,y,u,null),R.flags|=2),R.return=o,f.return=o,f.sibling=R,o.child=f,Qc(null,f),f=o.child,R=a.child.memoizedState,R===null?R=Rv(u):(y=R.cachePool,y!==null?(H=nn._currentValue,y=y.parent!==H?{parent:H,pool:H}:y):y=NS(),R={baseLanes:R.baseLanes|u,cachePool:y}),f.memoizedState=R,f.childLanes=Dv(a,O,u),o.memoizedState=jv,Qc(a.child,f)):(_s(o),u=a.child,a=u.sibling,u=ha(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,a!==null&&(O=o.deletions,O===null?(o.deletions=[a],o.flags|=16):O.push(a)),o.child=u,o.memoizedState=null,u)}function Mv(a,o){return o=Zh({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Zh(a,o){return a=_r(22,a,null,o),a.lanes=0,a}function Lv(a,o,u){return Ho(o,a.child,null,u),a=Mv(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function FA(a,o,u){a.lanes|=o;var f=a.alternate;f!==null&&(f.lanes|=o),Zy(a.return,o,u)}function Vv(a,o,u,f,y,b){var O=a.memoizedState;O===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y,treeForkCount:b}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=f,O.tail=u,O.tailMode=y,O.treeForkCount=b)}function HA(a,o,u){var f=o.pendingProps,y=f.revealOrder,b=f.tail;f=f.children;var O=Kt.current,R=(O&2)!==0;if(R?(O=O&1|2,o.flags|=128):O&=1,ge(Kt,O),Dn(a,o,f,u),f=Je?Vc:0,!R&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&FA(a,u,o);else if(a.tag===19)FA(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&Uh(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Vv(o,!1,y,u,b,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&Uh(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}Vv(o,!0,u,null,b,f);break;case"together":Vv(o,!1,null,null,void 0,f);break;default:o.memoizedState=null}return o.child}function ba(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),As|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(Ql(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=ha(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=ha(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function zv(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&Ph(a)))}function I5(a,o,u){switch(o.tag){case 3:Oe(o,o.stateNode.containerInfo),ys(o,nn,a.memoizedState.cache),Vo();break;case 27:case 5:Ie(o);break;case 4:Oe(o,o.stateNode.containerInfo);break;case 10:ys(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,cv(o),null;break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(_s(o),o.flags|=128,null):(u&o.child.childLanes)!==0?qA(a,o,u):(_s(o),a=ba(a,o,u),a!==null?a.sibling:null);_s(o);break;case 19:var y=(a.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(Ql(a,o,u,!1),f=(u&o.childLanes)!==0),y){if(f)return HA(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ge(Kt,Kt.current),f)break;return null;case 22:return o.lanes=0,MA(a,o,u,o.pendingProps);case 24:ys(o,nn,a.memoizedState.cache)}return ba(a,o,u)}function $A(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)an=!0;else{if(!zv(a,u)&&(o.flags&128)===0)return an=!1,I5(a,o,u);an=(a.flags&131072)!==0}else an=!1,Je&&(o.flags&1048576)!==0&&ES(o,Vc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var f=o.pendingProps;if(a=qo(o.elementType),o.type=a,typeof a=="function")Hy(a)?(f=Ko(a,f),o.tag=1,o=UA(null,o,a,f,u)):(o.tag=0,o=Pv(null,o,a,f,u));else{if(a!=null){var y=a.$$typeof;if(y===q){o.tag=11,o=jA(null,o,a,f,u);break e}else if(y===N){o.tag=14,o=RA(null,o,a,f,u);break e}}throw o=he(a)||a,Error(r(306,o,""))}}return o;case 0:return Pv(a,o,o.type,o.pendingProps,u);case 1:return f=o.type,y=Ko(f,o.pendingProps),UA(a,o,f,y,u);case 3:e:{if(Oe(o,o.stateNode.containerInfo),a===null)throw Error(r(387));f=o.pendingProps;var b=o.memoizedState;y=b.element,av(a,o),Kc(o,f,null,u);var O=o.memoizedState;if(f=O.cache,ys(o,nn,f),f!==b.cache&&Jy(o,[nn],u,!0),$c(),f=O.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=BA(a,o,f,u);break e}else if(f!==y){y=qr(Error(r(424)),o),zc(y),o=BA(a,o,f,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ct=Gr(a.firstChild),jn=o,Je=!0,gs=null,$r=!0,u=MS(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Vo(),f===y){o=ba(a,o,u);break e}Dn(a,o,f,u)}o=o.child}return o;case 26:return Qh(a,o),a===null?(u=n2(o.type,null,o.pendingProps,null))?o.memoizedState=u:Je||(u=o.type,a=o.pendingProps,f=mm(ye.current).createElement(u),f[Jt]=o,f[En]=a,Mn(f,u,a),en(f),o.stateNode=f):o.memoizedState=n2(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ie(o),a===null&&Je&&(f=o.stateNode=JT(o.type,o.pendingProps,ye.current),jn=o,$r=!0,y=Ct,Ns(o.type)?(v0=y,Ct=Gr(f.firstChild)):Ct=y),Dn(a,o,o.pendingProps.children,u),Qh(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Je&&((y=f=Ct)&&(f=aL(f,o.type,o.pendingProps,$r),f!==null?(o.stateNode=f,jn=o,Ct=Gr(f.firstChild),$r=!1,y=!0):y=!1),y||ps(o)),Ie(o),y=o.type,b=o.pendingProps,O=a!==null?a.memoizedProps:null,f=b.children,h0(y,b)?f=null:O!==null&&h0(y,O)&&(o.flags|=32),o.memoizedState!==null&&(y=dv(a,o,x5,null,null,u),hf._currentValue=y),Qh(a,o),Dn(a,o,f,u),o.child;case 6:return a===null&&Je&&((a=u=Ct)&&(u=sL(u,o.pendingProps,$r),u!==null?(o.stateNode=u,jn=o,Ct=null,a=!0):a=!1),a||ps(o)),null;case 13:return qA(a,o,u);case 4:return Oe(o,o.stateNode.containerInfo),f=o.pendingProps,a===null?o.child=Ho(o,null,f,u):Dn(a,o,f,u),o.child;case 11:return jA(a,o,o.type,o.pendingProps,u);case 7:return Dn(a,o,o.pendingProps,u),o.child;case 8:return Dn(a,o,o.pendingProps.children,u),o.child;case 12:return Dn(a,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,ys(o,o.type,f.value),Dn(a,o,f.children,u),o.child;case 9:return y=o.type._context,f=o.pendingProps.children,Uo(o),y=Rn(y),f=f(y),o.flags|=1,Dn(a,o,f,u),o.child;case 14:return RA(a,o,o.type,o.pendingProps,u);case 15:return DA(a,o,o.type,o.pendingProps,u);case 19:return HA(a,o,u);case 31:return C5(a,o,u);case 22:return MA(a,o,u,o.pendingProps);case 24:return Uo(o),f=Rn(nn),a===null?(y=nv(),y===null&&(y=_t,b=ev(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),o.memoizedState={parent:f,cache:y},iv(o),ys(o,nn,y)):((a.lanes&u)!==0&&(av(a,o),Kc(o,null,null,u),$c()),y=a.memoizedState,b=o.memoizedState,y.parent!==f?(y={parent:f,cache:f},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),ys(o,nn,f)):(f=b.cache,ys(o,nn,f),f!==y.cache&&Jy(o,[nn],u,!0))),Dn(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function xa(a){a.flags|=4}function Uv(a,o,u,f,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(vT())a.flags|=8192;else throw Fo=Mh,rv}else a.flags&=-16777217}function KA(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!o2(o))if(vT())a.flags|=8192;else throw Fo=Mh,rv}function Jh(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?ah():536870912,a.lanes|=o,uu|=o)}function Zc(a,o){if(!Je)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function It(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,f=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=f,a.childLanes=u,o}function N5(a,o,u){var f=o.pendingProps;switch(Yy(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(o),null;case 1:return It(o),null;case 3:return u=o.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),pa(nn),ae(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Xl(o)?xa(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Xy())),It(o),null;case 26:var y=o.type,b=o.memoizedState;return a===null?(xa(o),b!==null?(It(o),KA(o,b)):(It(o),Uv(o,y,null,f,u))):b?b!==a.memoizedState?(xa(o),It(o),KA(o,b)):(It(o),o.flags&=-16777217):(a=a.memoizedProps,a!==f&&xa(o),It(o),Uv(o,y,a,f,u)),null;case 27:if(je(o),u=ye.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==f&&xa(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return It(o),null}a=ve.current,Xl(o)?AS(o):(a=JT(y,f,u),o.stateNode=a,xa(o))}return It(o),null;case 5:if(je(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==f&&xa(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return It(o),null}if(b=ve.current,Xl(o))AS(o);else{var O=mm(ye.current);switch(b){case 1:b=O.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=O.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=O.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof f.is=="string"?O.createElement("select",{is:f.is}):O.createElement("select"),f.multiple?b.multiple=!0:f.size&&(b.size=f.size);break;default:b=typeof f.is=="string"?O.createElement(y,{is:f.is}):O.createElement(y)}}b[Jt]=o,b[En]=f;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)b.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=b;e:switch(Mn(b,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&xa(o)}}return It(o),Uv(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==f&&xa(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(r(166));if(a=ye.current,Xl(o)){if(a=o.stateNode,u=o.memoizedProps,f=null,y=jn,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}a[Jt]=o,a=!!(a.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||qT(a.nodeValue,u)),a||ps(o,!0)}else a=mm(a).createTextNode(f),a[Jt]=o,o.stateNode=a}return It(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(f=Xl(o),u!==null){if(a===null){if(!f)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Jt]=o}else Vo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;It(o),a=!1}else u=Xy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(Er(o),o):(Er(o),null);if((o.flags&128)!==0)throw Error(r(558))}return It(o),null;case 13:if(f=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Xl(o),f!==null&&f.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Jt]=o}else Vo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;It(o),y=!1}else y=Xy(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(Er(o),o):(Er(o),null)}return Er(o),(o.flags&128)!==0?(o.lanes=u,o):(u=f!==null,a=a!==null&&a.memoizedState!==null,u&&(f=o.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),Jh(o,o.updateQueue),It(o),null);case 4:return ae(),a===null&&l0(o.stateNode.containerInfo),It(o),null;case 10:return pa(o.type),It(o),null;case 19:if(re(Kt),f=o.memoizedState,f===null)return It(o),null;if(y=(o.flags&128)!==0,b=f.rendering,b===null)if(y)Zc(f,!1);else{if(qt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=Uh(a),b!==null){for(o.flags|=128,Zc(f,!1),a=b.updateQueue,o.updateQueue=a,Jh(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)xS(u,a),u=u.sibling;return ge(Kt,Kt.current&1|2),Je&&ma(o,f.treeForkCount),o.child}a=a.sibling}f.tail!==null&&Xn()>im&&(o.flags|=128,y=!0,Zc(f,!1),o.lanes=4194304)}else{if(!y)if(a=Uh(b),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Jh(o,a),Zc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!Je)return It(o),null}else 2*Xn()-f.renderingStartTime>im&&u!==536870912&&(o.flags|=128,y=!0,Zc(f,!1),o.lanes=4194304);f.isBackwards?(b.sibling=o.child,o.child=b):(a=f.last,a!==null?a.sibling=b:o.child=b,f.last=b)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=Xn(),a.sibling=null,u=Kt.current,ge(Kt,y?u&1|2:u&1),Je&&ma(o,f.treeForkCount),a):(It(o),null);case 22:case 23:return Er(o),uv(),f=o.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(It(o),o.subtreeFlags&6&&(o.flags|=8192)):It(o),u=o.updateQueue,u!==null&&Jh(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),a!==null&&re(Bo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),pa(nn),It(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function k5(a,o){switch(Yy(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return pa(nn),ae(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return je(o),null;case 31:if(o.memoizedState!==null){if(Er(o),o.alternate===null)throw Error(r(340));Vo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(Er(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Vo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return re(Kt),null;case 4:return ae(),null;case 10:return pa(o.type),null;case 22:case 23:return Er(o),uv(),a!==null&&re(Bo),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return pa(nn),null;case 25:return null;default:return null}}function GA(a,o){switch(Yy(o),o.tag){case 3:pa(nn),ae();break;case 26:case 27:case 5:je(o);break;case 4:ae();break;case 31:o.memoizedState!==null&&Er(o);break;case 13:Er(o);break;case 19:re(Kt);break;case 10:pa(o.type);break;case 22:case 23:Er(o),uv(),a!==null&&re(Bo);break;case 24:pa(nn)}}function Jc(a,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&a)===a){f=void 0;var b=u.create,O=u.inst;f=b(),O.destroy=f}u=u.next}while(u!==y)}}catch(R){ht(o,o.return,R)}}function Es(a,o,u){try{var f=o.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var b=y.next;f=b;do{if((f.tag&a)===a){var O=f.inst,R=O.destroy;if(R!==void 0){O.destroy=void 0,y=o;var H=u,Z=R;try{Z()}catch(se){ht(y,H,se)}}}f=f.next}while(f!==b)}}catch(se){ht(o,o.return,se)}}function YA(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{VS(o,u)}catch(f){ht(a,a.return,f)}}}function WA(a,o,u){u.props=Ko(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(f){ht(a,o,f)}}function ef(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof u=="function"?a.refCleanup=u(f):u.current=f}}catch(y){ht(a,o,y)}}function Ki(a,o){var u=a.ref,f=a.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(y){ht(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){ht(a,o,y)}else u.current=null}function XA(a){var o=a.type,u=a.memoizedProps,f=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(y){ht(a,a.return,y)}}function Bv(a,o,u){try{var f=a.stateNode;J5(f,a.type,u,o),f[En]=o}catch(y){ht(a,a.return,y)}}function QA(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ns(a.type)||a.tag===4}function qv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||QA(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ns(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Fv(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ci));else if(f!==4&&(f===27&&Ns(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(Fv(a,o,u),a=a.sibling;a!==null;)Fv(a,o,u),a=a.sibling}function em(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(f!==4&&(f===27&&Ns(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(em(a,o,u),a=a.sibling;a!==null;)em(a,o,u),a=a.sibling}function ZA(a){var o=a.stateNode,u=a.memoizedProps;try{for(var f=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);Mn(o,f,u),o[Jt]=a,o[En]=u}catch(b){ht(a,a.return,b)}}var _a=!1,sn=!1,Hv=!1,JA=typeof WeakSet=="function"?WeakSet:Set,An=null;function P5(a,o){if(a=a.containerInfo,f0=_m,a=fS(a),Ly(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var O=0,R=-1,H=-1,Z=0,se=0,fe=a,ee=null;t:for(;;){for(var ie;fe!==u||y!==0&&fe.nodeType!==3||(R=O+y),fe!==b||f!==0&&fe.nodeType!==3||(H=O+f),fe.nodeType===3&&(O+=fe.nodeValue.length),(ie=fe.firstChild)!==null;)ee=fe,fe=ie;for(;;){if(fe===a)break t;if(ee===u&&++Z===y&&(R=O),ee===b&&++se===f&&(H=O),(ie=fe.nextSibling)!==null)break;fe=ee,ee=fe.parentNode}fe=ie}u=R===-1||H===-1?null:{start:R,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(d0={focusedElem:a,selectionRange:u},_m=!1,An=o;An!==null;)if(o=An,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,An=a;else for(;An!==null;){switch(o=An,b=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)y=a[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=o,y=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var Ae=Ko(u.type,y);a=f.getSnapshotBeforeUpdate(Ae,b),f.__reactInternalSnapshotBeforeUpdate=a}catch(Re){ht(u,u.return,Re)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)g0(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":g0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,An=a;break}An=o.return}}function eT(a,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Ea(a,u),f&4&&Jc(5,u);break;case 1:if(Ea(a,u),f&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(O){ht(u,u.return,O)}else{var y=Ko(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(O){ht(u,u.return,O)}}f&64&&YA(u),f&512&&ef(u,u.return);break;case 3:if(Ea(a,u),f&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{VS(a,o)}catch(O){ht(u,u.return,O)}}break;case 27:o===null&&f&4&&ZA(u);case 26:case 5:Ea(a,u),o===null&&f&4&&XA(u),f&512&&ef(u,u.return);break;case 12:Ea(a,u);break;case 31:Ea(a,u),f&4&&rT(a,u);break;case 13:Ea(a,u),f&4&&iT(a,u),f&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=B5.bind(null,u),oL(a,u))));break;case 22:if(f=u.memoizedState!==null||_a,!f){o=o!==null&&o.memoizedState!==null||sn,y=_a;var b=sn;_a=f,(sn=o)&&!b?Sa(a,u,(u.subtreeFlags&8772)!==0):Ea(a,u),_a=y,sn=b}break;case 30:break;default:Ea(a,u)}}function tT(a){var o=a.alternate;o!==null&&(a.alternate=null,tT(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&jl(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Pt=null,sr=!1;function wa(a,o,u){for(u=u.child;u!==null;)nT(a,o,u),u=u.sibling}function nT(a,o,u){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(si,u)}catch{}switch(u.tag){case 26:sn||Ki(u,o),wa(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:sn||Ki(u,o);var f=Pt,y=sr;Ns(u.type)&&(Pt=u.stateNode,sr=!1),wa(a,o,u),cf(u.stateNode),Pt=f,sr=y;break;case 5:sn||Ki(u,o);case 6:if(f=Pt,y=sr,Pt=null,wa(a,o,u),Pt=f,sr=y,Pt!==null)if(sr)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(u.stateNode)}catch(b){ht(u,o,b)}else try{Pt.removeChild(u.stateNode)}catch(b){ht(u,o,b)}break;case 18:Pt!==null&&(sr?(a=Pt,YT(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),yu(a)):YT(Pt,u.stateNode));break;case 4:f=Pt,y=sr,Pt=u.stateNode.containerInfo,sr=!0,wa(a,o,u),Pt=f,sr=y;break;case 0:case 11:case 14:case 15:Es(2,u,o),sn||Es(4,u,o),wa(a,o,u);break;case 1:sn||(Ki(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&WA(u,o,f)),wa(a,o,u);break;case 21:wa(a,o,u);break;case 22:sn=(f=sn)||u.memoizedState!==null,wa(a,o,u),sn=f;break;default:wa(a,o,u)}}function rT(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{yu(a)}catch(u){ht(o,o.return,u)}}}function iT(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{yu(a)}catch(u){ht(o,o.return,u)}}function j5(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new JA),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new JA),o;default:throw Error(r(435,a.tag))}}function tm(a,o){var u=j5(a);o.forEach(function(f){if(!u.has(f)){u.add(f);var y=q5.bind(null,a,f);f.then(y,y)}})}function or(a,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f],b=a,O=o,R=O;e:for(;R!==null;){switch(R.tag){case 27:if(Ns(R.type)){Pt=R.stateNode,sr=!1;break e}break;case 5:Pt=R.stateNode,sr=!1;break e;case 3:case 4:Pt=R.stateNode.containerInfo,sr=!0;break e}R=R.return}if(Pt===null)throw Error(r(160));nT(b,O,y),Pt=null,sr=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)aT(o,a),o=o.sibling}var pi=null;function aT(a,o){var u=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:or(o,a),lr(a),f&4&&(Es(3,a,a.return),Jc(3,a),Es(5,a,a.return));break;case 1:or(o,a),lr(a),f&512&&(sn||u===null||Ki(u,u.return)),f&64&&_a&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var y=pi;if(or(o,a),lr(a),f&512&&(sn||u===null||Ki(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=a.memoizedState,u===null)if(f===null)if(a.stateNode===null){e:{f=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Pi]||b[Jt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(f),y.head.insertBefore(b,y.querySelector("head > title"))),Mn(b,f,u),b[Jt]=a,en(b),f=b;break e;case"link":var O=a2("link","href",y).get(f+(u.href||""));if(O){for(var R=0;R<O.length;R++)if(b=O[R],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(R,1);break t}}b=y.createElement(f),Mn(b,f,u),y.head.appendChild(b);break;case"meta":if(O=a2("meta","content",y).get(f+(u.content||""))){for(R=0;R<O.length;R++)if(b=O[R],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(R,1);break t}}b=y.createElement(f),Mn(b,f,u),y.head.appendChild(b);break;default:throw Error(r(468,f))}b[Jt]=a,en(b),f=b}a.stateNode=f}else s2(y,a.type,a.stateNode);else a.stateNode=i2(y,f,a.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?s2(y,a.type,a.stateNode):i2(y,f,a.memoizedProps)):f===null&&a.stateNode!==null&&Bv(a,a.memoizedProps,u.memoizedProps)}break;case 27:or(o,a),lr(a),f&512&&(sn||u===null||Ki(u,u.return)),u!==null&&f&4&&Bv(a,a.memoizedProps,u.memoizedProps);break;case 5:if(or(o,a),lr(a),f&512&&(sn||u===null||Ki(u,u.return)),a.flags&32){y=a.stateNode;try{ar(y,"")}catch(Ae){ht(a,a.return,Ae)}}f&4&&a.stateNode!=null&&(y=a.memoizedProps,Bv(a,y,u!==null?u.memoizedProps:y)),f&1024&&(Hv=!0);break;case 6:if(or(o,a),lr(a),f&4){if(a.stateNode===null)throw Error(r(162));f=a.memoizedProps,u=a.stateNode;try{u.nodeValue=f}catch(Ae){ht(a,a.return,Ae)}}break;case 3:if(ym=null,y=pi,pi=gm(o.containerInfo),or(o,a),pi=y,lr(a),f&4&&u!==null&&u.memoizedState.isDehydrated)try{yu(o.containerInfo)}catch(Ae){ht(a,a.return,Ae)}Hv&&(Hv=!1,sT(a));break;case 4:f=pi,pi=gm(a.stateNode.containerInfo),or(o,a),lr(a),pi=f;break;case 12:or(o,a),lr(a);break;case 31:or(o,a),lr(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,tm(a,f)));break;case 13:or(o,a),lr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(rm=Xn()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,tm(a,f)));break;case 22:y=a.memoizedState!==null;var H=u!==null&&u.memoizedState!==null,Z=_a,se=sn;if(_a=Z||y,sn=se||H,or(o,a),sn=se,_a=Z,lr(a),f&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||H||_a||sn||Go(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){H=u=o;try{if(b=H.stateNode,y)O=b.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{R=H.stateNode;var fe=H.memoizedProps.style,ee=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;R.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Ae){ht(H,H.return,Ae)}}}else if(o.tag===6){if(u===null){H=o;try{H.stateNode.nodeValue=y?"":H.memoizedProps}catch(Ae){ht(H,H.return,Ae)}}}else if(o.tag===18){if(u===null){H=o;try{var ie=H.stateNode;y?WT(ie,!0):WT(H.stateNode,!1)}catch(Ae){ht(H,H.return,Ae)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=a.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,tm(a,u))));break;case 19:or(o,a),lr(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,tm(a,f)));break;case 30:break;case 21:break;default:or(o,a),lr(a)}}function lr(a){var o=a.flags;if(o&2){try{for(var u,f=a.return;f!==null;){if(QA(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,b=qv(a);em(a,b,y);break;case 5:var O=u.stateNode;u.flags&32&&(ar(O,""),u.flags&=-33);var R=qv(a);em(a,R,O);break;case 3:case 4:var H=u.stateNode.containerInfo,Z=qv(a);Fv(a,Z,H);break;default:throw Error(r(161))}}catch(se){ht(a,a.return,se)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function sT(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;sT(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Ea(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)eT(a,o.alternate,o),o=o.sibling}function Go(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:Es(4,o,o.return),Go(o);break;case 1:Ki(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&WA(o,o.return,u),Go(o);break;case 27:cf(o.stateNode);case 26:case 5:Ki(o,o.return),Go(o);break;case 22:o.memoizedState===null&&Go(o);break;case 30:Go(o);break;default:Go(o)}a=a.sibling}}function Sa(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,y=a,b=o,O=b.flags;switch(b.tag){case 0:case 11:case 15:Sa(y,b,u),Jc(4,b);break;case 1:if(Sa(y,b,u),f=b,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Z){ht(f,f.return,Z)}if(f=b,y=f.updateQueue,y!==null){var R=f.stateNode;try{var H=y.shared.hiddenCallbacks;if(H!==null)for(y.shared.hiddenCallbacks=null,y=0;y<H.length;y++)LS(H[y],R)}catch(Z){ht(f,f.return,Z)}}u&&O&64&&YA(b),ef(b,b.return);break;case 27:ZA(b);case 26:case 5:Sa(y,b,u),u&&f===null&&O&4&&XA(b),ef(b,b.return);break;case 12:Sa(y,b,u);break;case 31:Sa(y,b,u),u&&O&4&&rT(y,b);break;case 13:Sa(y,b,u),u&&O&4&&iT(y,b);break;case 22:b.memoizedState===null&&Sa(y,b,u),ef(b,b.return);break;case 30:break;default:Sa(y,b,u)}o=o.sibling}}function $v(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Uc(u))}function Kv(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Uc(a))}function yi(a,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)oT(a,o,u,f),o=o.sibling}function oT(a,o,u,f){var y=o.flags;switch(o.tag){case 0:case 11:case 15:yi(a,o,u,f),y&2048&&Jc(9,o);break;case 1:yi(a,o,u,f);break;case 3:yi(a,o,u,f),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&Uc(a)));break;case 12:if(y&2048){yi(a,o,u,f),a=o.stateNode;try{var b=o.memoizedProps,O=b.id,R=b.onPostCommit;typeof R=="function"&&R(O,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(H){ht(o,o.return,H)}}else yi(a,o,u,f);break;case 31:yi(a,o,u,f);break;case 13:yi(a,o,u,f);break;case 23:break;case 22:b=o.stateNode,O=o.alternate,o.memoizedState!==null?b._visibility&2?yi(a,o,u,f):tf(a,o):b._visibility&2?yi(a,o,u,f):(b._visibility|=2,su(a,o,u,f,(o.subtreeFlags&10256)!==0||!1)),y&2048&&$v(O,o);break;case 24:yi(a,o,u,f),y&2048&&Kv(o.alternate,o);break;default:yi(a,o,u,f)}}function su(a,o,u,f,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=a,O=o,R=u,H=f,Z=O.flags;switch(O.tag){case 0:case 11:case 15:su(b,O,R,H,y),Jc(8,O);break;case 23:break;case 22:var se=O.stateNode;O.memoizedState!==null?se._visibility&2?su(b,O,R,H,y):tf(b,O):(se._visibility|=2,su(b,O,R,H,y)),y&&Z&2048&&$v(O.alternate,O);break;case 24:su(b,O,R,H,y),y&&Z&2048&&Kv(O.alternate,O);break;default:su(b,O,R,H,y)}o=o.sibling}}function tf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,f=o,y=f.flags;switch(f.tag){case 22:tf(u,f),y&2048&&$v(f.alternate,f);break;case 24:tf(u,f),y&2048&&Kv(f.alternate,f);break;default:tf(u,f)}o=o.sibling}}var nf=8192;function ou(a,o,u){if(a.subtreeFlags&nf)for(a=a.child;a!==null;)lT(a,o,u),a=a.sibling}function lT(a,o,u){switch(a.tag){case 26:ou(a,o,u),a.flags&nf&&a.memoizedState!==null&&bL(u,pi,a.memoizedState,a.memoizedProps);break;case 5:ou(a,o,u);break;case 3:case 4:var f=pi;pi=gm(a.stateNode.containerInfo),ou(a,o,u),pi=f;break;case 22:a.memoizedState===null&&(f=a.alternate,f!==null&&f.memoizedState!==null?(f=nf,nf=16777216,ou(a,o,u),nf=f):ou(a,o,u));break;default:ou(a,o,u)}}function uT(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function rf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];An=f,fT(f,a)}uT(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)cT(a),a=a.sibling}function cT(a){switch(a.tag){case 0:case 11:case 15:rf(a),a.flags&2048&&Es(9,a,a.return);break;case 3:rf(a);break;case 12:rf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,nm(a)):rf(a);break;default:rf(a)}}function nm(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];An=f,fT(f,a)}uT(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:Es(8,o,o.return),nm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,nm(o));break;default:nm(o)}a=a.sibling}}function fT(a,o){for(;An!==null;){var u=An;switch(u.tag){case 0:case 11:case 15:Es(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Uc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,An=f;else e:for(u=a;An!==null;){f=An;var y=f.sibling,b=f.return;if(tT(f),f===u){An=null;break e}if(y!==null){y.return=b,An=y;break e}An=b}}}var R5={getCacheForType:function(a){var o=Rn(nn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return Rn(nn).controller.signal}},D5=typeof WeakMap=="function"?WeakMap:Map,lt=0,_t=null,$e=null,Ge=0,dt=0,Sr=null,Ss=!1,lu=!1,Gv=!1,Aa=0,qt=0,As=0,Yo=0,Yv=0,Ar=0,uu=0,af=null,ur=null,Wv=!1,rm=0,dT=0,im=1/0,am=null,Ts=null,gn=0,Os=null,cu=null,Ta=0,Xv=0,Qv=null,hT=null,sf=0,Zv=null;function Tr(){return(lt&2)!==0&&Ge!==0?Ge&-Ge:W.T!==null?i0():sh()}function mT(){if(Ar===0)if((Ge&536870912)===0||Je){var a=_o;_o<<=1,(_o&3932160)===0&&(_o=262144),Ar=a}else Ar=536870912;return a=wr.current,a!==null&&(a.flags|=32),Ar}function cr(a,o,u){(a===_t&&(dt===2||dt===9)||a.cancelPendingCommit!==null)&&(fu(a,0),Cs(a,Ge,Ar,!1)),wo(a,u),((lt&2)===0||a!==_t)&&(a===_t&&((lt&2)===0&&(Yo|=u),qt===4&&Cs(a,Ge,Ar,!1)),Gi(a))}function gT(a,o,u){if((lt&6)!==0)throw Error(r(327));var f=!u&&(o&127)===0&&(o&a.expiredLanes)===0||oi(a,o),y=f?V5(a,o):e0(a,o,!0),b=f;do{if(y===0){lu&&!f&&Cs(a,o,0,!1);break}else{if(u=a.current.alternate,b&&!M5(u)){y=e0(a,o,!1),b=!1;continue}if(y===2){if(b=o,a.errorRecoveryDisabledLanes&b)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var R=a;y=af;var H=R.current.memoizedState.isDehydrated;if(H&&(fu(R,O).flags|=256),O=e0(R,O,!1),O!==2){if(Gv&&!H){R.errorRecoveryDisabledLanes|=b,Yo|=b,y=4;break e}b=ur,ur=y,b!==null&&(ur===null?ur=b:ur.push.apply(ur,b))}y=O}if(b=!1,y!==2)continue}}if(y===1){fu(a,0),Cs(a,o,0,!0);break}e:{switch(f=a,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Cs(f,o,Ar,!Ss);break e;case 2:ur=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=rm+300-Xn(),10<y)){if(Cs(f,o,Ar,!Ss),Ii(f,0,!0)!==0)break e;Ta=o,f.timeoutHandle=KT(pT.bind(null,f,u,ur,am,Wv,o,Ar,Yo,uu,Ss,b,"Throttled",-0,0),y);break e}pT(f,u,ur,am,Wv,o,Ar,Yo,uu,Ss,b,null,-0,0)}}break}while(!0);Gi(a)}function pT(a,o,u,f,y,b,O,R,H,Z,se,fe,ee,ie){if(a.timeoutHandle=-1,fe=o.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},lT(o,b,fe);var Ae=(b&62914560)===b?rm-Xn():(b&4194048)===b?dT-Xn():0;if(Ae=xL(fe,Ae),Ae!==null){Ta=b,a.cancelPendingCommit=Ae(ST.bind(null,a,o,b,u,f,y,O,R,H,se,fe,null,ee,ie)),Cs(a,b,O,!Z);return}}ST(a,o,b,u,f,y,O,R,H)}function M5(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var y=u[f],b=y.getSnapshot;y=y.value;try{if(!xr(b(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Cs(a,o,u,f){o&=~Yv,o&=~Yo,a.suspendedLanes|=o,a.pingedLanes&=~o,f&&(a.warmLanes|=o),f=a.expirationTimes;for(var y=o;0<y;){var b=31-Ht(y),O=1<<b;f[b]=-1,y&=~O}u!==0&&Eo(a,u,o)}function sm(){return(lt&6)===0?(of(0),!1):!0}function Jv(){if($e!==null){if(dt===0)var a=$e.return;else a=$e,ga=zo=null,gv(a),tu=null,qc=0,a=$e;for(;a!==null;)GA(a.alternate,a),a=a.return;$e=null}}function fu(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,nL(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Ta=0,Jv(),_t=a,$e=u=ha(a.current,null),Ge=o,dt=0,Sr=null,Ss=!1,lu=oi(a,o),Gv=!1,uu=Ar=Yv=Yo=As=qt=0,ur=af=null,Wv=!1,(o&8)!==0&&(o|=o&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=o;0<f;){var y=31-Ht(f),b=1<<y;o|=a[y],f&=~b}return Aa=o,Oh(),u}function yT(a,o){qe=null,W.H=Xc,o===eu||o===Dh?(o=jS(),dt=3):o===rv?(o=jS(),dt=4):dt=o===kv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Sr=o,$e===null&&(qt=1,Wh(a,qr(o,a.current)))}function vT(){var a=wr.current;return a===null?!0:(Ge&4194048)===Ge?Kr===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?a===Kr:!1}function bT(){var a=W.H;return W.H=Xc,a===null?Xc:a}function xT(){var a=W.A;return W.A=R5,a}function om(){qt=4,Ss||(Ge&4194048)!==Ge&&wr.current!==null||(lu=!0),(As&134217727)===0&&(Yo&134217727)===0||_t===null||Cs(_t,Ge,Ar,!1)}function e0(a,o,u){var f=lt;lt|=2;var y=bT(),b=xT();(_t!==a||Ge!==o)&&(am=null,fu(a,o)),o=!1;var O=qt;e:do try{if(dt!==0&&$e!==null){var R=$e,H=Sr;switch(dt){case 8:Jv(),O=6;break e;case 3:case 2:case 9:case 6:wr.current===null&&(o=!0);var Z=dt;if(dt=0,Sr=null,du(a,R,H,Z),u&&lu){O=0;break e}break;default:Z=dt,dt=0,Sr=null,du(a,R,H,Z)}}L5(),O=qt;break}catch(se){yT(a,se)}while(!0);return o&&a.shellSuspendCounter++,ga=zo=null,lt=f,W.H=y,W.A=b,$e===null&&(_t=null,Ge=0,Oh()),O}function L5(){for(;$e!==null;)_T($e)}function V5(a,o){var u=lt;lt|=2;var f=bT(),y=xT();_t!==a||Ge!==o?(am=null,im=Xn()+500,fu(a,o)):lu=oi(a,o);e:do try{if(dt!==0&&$e!==null){o=$e;var b=Sr;t:switch(dt){case 1:dt=0,Sr=null,du(a,o,b,1);break;case 2:case 9:if(kS(b)){dt=0,Sr=null,wT(o);break}o=function(){dt!==2&&dt!==9||_t!==a||(dt=7),Gi(a)},b.then(o,o);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:kS(b)?(dt=0,Sr=null,wT(o)):(dt=0,Sr=null,du(a,o,b,7));break;case 5:var O=null;switch($e.tag){case 26:O=$e.memoizedState;case 5:case 27:var R=$e;if(O?o2(O):R.stateNode.complete){dt=0,Sr=null;var H=R.sibling;if(H!==null)$e=H;else{var Z=R.return;Z!==null?($e=Z,lm(Z)):$e=null}break t}}dt=0,Sr=null,du(a,o,b,5);break;case 6:dt=0,Sr=null,du(a,o,b,6);break;case 8:Jv(),qt=6;break e;default:throw Error(r(462))}}z5();break}catch(se){yT(a,se)}while(!0);return ga=zo=null,W.H=f,W.A=y,lt=u,$e!==null?0:(_t=null,Ge=0,Oh(),qt)}function z5(){for(;$e!==null&&!mc();)_T($e)}function _T(a){var o=$A(a.alternate,a,Aa);a.memoizedProps=a.pendingProps,o===null?lm(a):$e=o}function wT(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=zA(u,o,o.pendingProps,o.type,void 0,Ge);break;case 11:o=zA(u,o,o.pendingProps,o.type.render,o.ref,Ge);break;case 5:gv(o);default:GA(u,o),o=$e=xS(o,Aa),o=$A(u,o,Aa)}a.memoizedProps=a.pendingProps,o===null?lm(a):$e=o}function du(a,o,u,f){ga=zo=null,gv(o),tu=null,qc=0;var y=o.return;try{if(O5(a,y,o,u,Ge)){qt=1,Wh(a,qr(u,a.current)),$e=null;return}}catch(b){if(y!==null)throw $e=y,b;qt=1,Wh(a,qr(u,a.current)),$e=null;return}o.flags&32768?(Je||f===1?a=!0:lu||(Ge&536870912)!==0?a=!1:(Ss=a=!0,(f===2||f===9||f===3||f===6)&&(f=wr.current,f!==null&&f.tag===13&&(f.flags|=16384))),ET(o,a)):lm(o)}function lm(a){var o=a;do{if((o.flags&32768)!==0){ET(o,Ss);return}a=o.return;var u=N5(o.alternate,o,Aa);if(u!==null){$e=u;return}if(o=o.sibling,o!==null){$e=o;return}$e=o=a}while(o!==null);qt===0&&(qt=5)}function ET(a,o){do{var u=k5(a.alternate,a);if(u!==null){u.flags&=32767,$e=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){$e=a;return}$e=a=u}while(a!==null);qt=6,$e=null}function ST(a,o,u,f,y,b,O,R,H){a.cancelPendingCommit=null;do um();while(gn!==0);if((lt&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=qy,jy(a,u,b,O,R,H),a===_t&&($e=_t=null,Ge=0),cu=o,Os=a,Ta=u,Xv=b,Qv=y,hT=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,F5(is,function(){return IT(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=W.T,W.T=null,y=te.p,te.p=2,O=lt,lt|=4;try{P5(a,o,u)}finally{lt=O,te.p=y,W.T=f}}gn=1,AT(),TT(),OT()}}function AT(){if(gn===1){gn=0;var a=Os,o=cu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=W.T,W.T=null;var f=te.p;te.p=2;var y=lt;lt|=4;try{aT(o,a);var b=d0,O=fS(a.containerInfo),R=b.focusedElem,H=b.selectionRange;if(O!==R&&R&&R.ownerDocument&&cS(R.ownerDocument.documentElement,R)){if(H!==null&&Ly(R)){var Z=H.start,se=H.end;if(se===void 0&&(se=Z),"selectionStart"in R)R.selectionStart=Z,R.selectionEnd=Math.min(se,R.value.length);else{var fe=R.ownerDocument||document,ee=fe&&fe.defaultView||window;if(ee.getSelection){var ie=ee.getSelection(),Ae=R.textContent.length,Re=Math.min(H.start,Ae),vt=H.end===void 0?Re:Math.min(H.end,Ae);!ie.extend&&Re>vt&&(O=vt,vt=Re,Re=O);var Y=uS(R,Re),K=uS(R,vt);if(Y&&K&&(ie.rangeCount!==1||ie.anchorNode!==Y.node||ie.anchorOffset!==Y.offset||ie.focusNode!==K.node||ie.focusOffset!==K.offset)){var Q=fe.createRange();Q.setStart(Y.node,Y.offset),ie.removeAllRanges(),Re>vt?(ie.addRange(Q),ie.extend(K.node,K.offset)):(Q.setEnd(K.node,K.offset),ie.addRange(Q))}}}}for(fe=[],ie=R;ie=ie.parentNode;)ie.nodeType===1&&fe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<fe.length;R++){var oe=fe[R];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}_m=!!f0,d0=f0=null}finally{lt=y,te.p=f,W.T=u}}a.current=o,gn=2}}function TT(){if(gn===2){gn=0;var a=Os,o=cu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=W.T,W.T=null;var f=te.p;te.p=2;var y=lt;lt|=4;try{eT(a,o.alternate,o)}finally{lt=y,te.p=f,W.T=u}}gn=3}}function OT(){if(gn===4||gn===3){gn=0,Jd();var a=Os,o=cu,u=Ta,f=hT;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?gn=5:(gn=0,cu=Os=null,CT(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Ts=null),ua(u),o=o.stateNode,kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(si,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=W.T,y=te.p,te.p=2,W.T=null;try{for(var b=a.onRecoverableError,O=0;O<f.length;O++){var R=f[O];b(R.value,{componentStack:R.stack})}}finally{W.T=o,te.p=y}}(Ta&3)!==0&&um(),Gi(a),y=a.pendingLanes,(u&261930)!==0&&(y&42)!==0?a===Zv?sf++:(sf=0,Zv=a):sf=0,of(0)}}function CT(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,Uc(o)))}function um(){return AT(),TT(),OT(),IT()}function IT(){if(gn!==5)return!1;var a=Os,o=Xv;Xv=0;var u=ua(Ta),f=W.T,y=te.p;try{te.p=32>u?32:u,W.T=null,u=Qv,Qv=null;var b=Os,O=Ta;if(gn=0,cu=Os=null,Ta=0,(lt&6)!==0)throw Error(r(331));var R=lt;if(lt|=4,cT(b.current),oT(b,b.current,O,u),lt=R,of(0,!1),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(si,b)}catch{}return!0}finally{te.p=y,W.T=f,CT(a,o)}}function NT(a,o,u){o=qr(u,o),o=Nv(a.stateNode,o,2),a=xs(a,o,2),a!==null&&(wo(a,2),Gi(a))}function ht(a,o,u){if(a.tag===3)NT(a,a,u);else for(;o!==null;){if(o.tag===3){NT(o,a,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ts===null||!Ts.has(f))){a=qr(u,a),u=kA(2),f=xs(o,u,2),f!==null&&(PA(u,f,o,a),wo(f,2),Gi(f));break}}o=o.return}}function t0(a,o,u){var f=a.pingCache;if(f===null){f=a.pingCache=new D5;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(u)||(Gv=!0,y.add(u),a=U5.bind(null,a,o,u),o.then(a,a))}function U5(a,o,u){var f=a.pingCache;f!==null&&f.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,_t===a&&(Ge&u)===u&&(qt===4||qt===3&&(Ge&62914560)===Ge&&300>Xn()-rm?(lt&2)===0&&fu(a,0):Yv|=u,uu===Ge&&(uu=0)),Gi(a)}function kT(a,o){o===0&&(o=ah()),a=Mo(a,o),a!==null&&(wo(a,o),Gi(a))}function B5(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),kT(a,u)}function q5(a,o){var u=0;switch(a.tag){case 31:case 13:var f=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(o),kT(a,u)}function F5(a,o){return Ut(a,o)}var cm=null,hu=null,n0=!1,fm=!1,r0=!1,Is=0;function Gi(a){a!==hu&&a.next===null&&(hu===null?cm=hu=a:hu=hu.next=a),fm=!0,n0||(n0=!0,$5())}function of(a,o){if(!r0&&fm){r0=!0;do for(var u=!1,f=cm;f!==null;){if(a!==0){var y=f.pendingLanes;if(y===0)var b=0;else{var O=f.suspendedLanes,R=f.pingedLanes;b=(1<<31-Ht(42|a)+1)-1,b&=y&~(O&~R),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,DT(f,b))}else b=Ge,b=Ii(f,f===_t?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||oi(f,b)||(u=!0,DT(f,b));f=f.next}while(u);r0=!1}}function H5(){PT()}function PT(){fm=n0=!1;var a=0;Is!==0&&tL()&&(a=Is);for(var o=Xn(),u=null,f=cm;f!==null;){var y=f.next,b=jT(f,o);b===0?(f.next=null,u===null?cm=y:u.next=y,y===null&&(hu=u)):(u=f,(a!==0||(b&3)!==0)&&(fm=!0)),f=y}gn!==0&&gn!==5||of(a),Is!==0&&(Is=0)}function jT(a,o){for(var u=a.suspendedLanes,f=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var O=31-Ht(b),R=1<<O,H=y[O];H===-1?((R&u)===0||(R&f)!==0)&&(y[O]=Py(R,o)):H<=o&&(a.expiredLanes|=R),b&=~R}if(o=_t,u=Ge,u=Ii(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,u===0||a===o&&(dt===2||dt===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&Ti(f),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||oi(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(f!==null&&Ti(f),ua(u)){case 2:case 8:u=pc;break;case 32:u=is;break;case 268435456:u=eh;break;default:u=is}return f=RT.bind(null,a),u=Ut(u,f),a.callbackPriority=o,a.callbackNode=u,o}return f!==null&&f!==null&&Ti(f),a.callbackPriority=2,a.callbackNode=null,2}function RT(a,o){if(gn!==0&&gn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(um()&&a.callbackNode!==u)return null;var f=Ge;return f=Ii(a,a===_t?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(gT(a,f,o),jT(a,Xn()),a.callbackNode!=null&&a.callbackNode===u?RT.bind(null,a):null)}function DT(a,o){if(um())return null;gT(a,o,!0)}function $5(){rL(function(){(lt&6)!==0?Ut(gc,H5):PT()})}function i0(){if(Is===0){var a=Zl;a===0&&(a=Oi,Oi<<=1,(Oi&261888)===0&&(Oi=256)),Is=a}return Is}function MT(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ll(""+a)}function LT(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function K5(a,o,u,f,y){if(o==="submit"&&u&&u.stateNode===y){var b=MT((y[En]||null).action),O=f.submitter;O&&(o=(o=O[En]||null)?MT(o.formAction):O.getAttribute("formAction"),o!==null&&(b=o,O=null));var R=new Ui("action","action",null,f,y);a.push({event:R,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Is!==0){var H=O?LT(y,O):new FormData(y);Sv(u,{pending:!0,data:H,method:y.method,action:b},null,H)}}else typeof b=="function"&&(R.preventDefault(),H=O?LT(y,O):new FormData(y),Sv(u,{pending:!0,data:H,method:y.method,action:b},b,H))},currentTarget:y}]})}}for(var a0=0;a0<By.length;a0++){var s0=By[a0],G5=s0.toLowerCase(),Y5=s0[0].toUpperCase()+s0.slice(1);gi(G5,"on"+Y5)}gi(mS,"onAnimationEnd"),gi(gS,"onAnimationIteration"),gi(pS,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(c5,"onTransitionRun"),gi(f5,"onTransitionStart"),gi(d5,"onTransitionCancel"),gi(yS,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lf));function VT(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var f=a[u],y=f.event;f=f.listeners;e:{var b=void 0;if(o)for(var O=f.length-1;0<=O;O--){var R=f[O],H=R.instance,Z=R.currentTarget;if(R=R.listener,H!==b&&y.isPropagationStopped())break e;b=R,y.currentTarget=Z;try{b(y)}catch(se){Th(se)}y.currentTarget=null,b=H}else for(O=0;O<f.length;O++){if(R=f[O],H=R.instance,Z=R.currentTarget,R=R.listener,H!==b&&y.isPropagationStopped())break e;b=R,y.currentTarget=Z;try{b(y)}catch(se){Th(se)}y.currentTarget=null,b=H}}}}function Ke(a,o){var u=o[Pl];u===void 0&&(u=o[Pl]=new Set);var f=a+"__bubble";u.has(f)||(zT(o,a,2,!1),u.add(f))}function o0(a,o,u){var f=0;o&&(f|=4),zT(u,a,f,o)}var dm="_reactListening"+Math.random().toString(36).slice(2);function l0(a){if(!a[dm]){a[dm]=!0,bc.forEach(function(u){u!=="selectionchange"&&(W5.has(u)||o0(u,!1,a),o0(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[dm]||(o[dm]=!0,o0("selectionchange",!1,o))}}function zT(a,o,u,f){switch(m2(o)){case 2:var y=EL;break;case 8:y=SL;break;default:y=E0}u=y.bind(null,o,u,a),y=void 0,!Co||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function u0(a,o,u,f,y){var b=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var O=f.tag;if(O===3||O===4){var R=f.stateNode.containerInfo;if(R===y)break;if(O===4)for(O=f.return;O!==null;){var H=O.tag;if((H===3||H===4)&&O.stateNode.containerInfo===y)return;O=O.return}for(;R!==null;){if(O=ji(R),O===null)return;if(H=O.tag,H===5||H===6||H===26||H===27){f=b=O;continue e}R=R.parentNode}}f=f.return}cs(function(){var Z=b,se=Vr(u),fe=[];e:{var ee=vS.get(a);if(ee!==void 0){var ie=Ui,Ae=a;switch(a){case"keypress":if(No(u)===0)break e;case"keydown":case"keyup":ie=Eh;break;case"focusin":Ae="focus",ie=Po;break;case"focusout":Ae="blur",ie=Po;break;case"beforeblur":case"afterblur":ie=Po;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=A;break;case mS:case gS:case pS:ie=ph;break;case yS:ie=z;break;case"scroll":case"scrollend":ie=kc;break;case"wheel":ie=ne;break;case"copy":case"cut":case"paste":ie=yh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=da;break;case"toggle":case"beforetoggle":ie=Be}var Re=(o&4)!==0,vt=!Re&&(a==="scroll"||a==="scrollend"),Y=Re?ee!==null?ee+"Capture":null:ee;Re=[];for(var K=Z,Q;K!==null;){var oe=K;if(Q=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Q===null||Y===null||(oe=fi(K,Y),oe!=null&&Re.push(uf(K,oe,Q))),vt)break;K=K.return}0<Re.length&&(ee=new ie(ee,Ae,null,u,se),fe.push({event:ee,listeners:Re}))}}if((o&7)===0){e:{if(ee=a==="mouseover"||a==="pointerover",ie=a==="mouseout"||a==="pointerout",ee&&u!==Cc&&(Ae=u.relatedTarget||u.fromElement)&&(ji(Ae)||Ae[ki]))break e;if((ie||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,ie?(Ae=u.relatedTarget||u.toElement,ie=Z,Ae=Ae?ji(Ae):null,Ae!==null&&(vt=s(Ae),Re=Ae.tag,Ae!==vt||Re!==5&&Re!==27&&Re!==6)&&(Ae=null)):(ie=null,Ae=Z),ie!==Ae)){if(Re=Pc,oe="onMouseLeave",Y="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(Re=da,oe="onPointerLeave",Y="onPointerEnter",K="pointer"),vt=ie==null?ee:vr(ie),Q=Ae==null?ee:vr(Ae),ee=new Re(oe,K+"leave",ie,u,se),ee.target=vt,ee.relatedTarget=Q,oe=null,ji(se)===Z&&(Re=new Re(Y,K+"enter",Ae,u,se),Re.target=Q,Re.relatedTarget=vt,oe=Re),vt=oe,ie&&Ae)t:{for(Re=X5,Y=ie,K=Ae,Q=0,oe=Y;oe;oe=Re(oe))Q++;oe=0;for(var ke=K;ke;ke=Re(ke))oe++;for(;0<Q-oe;)Y=Re(Y),Q--;for(;0<oe-Q;)K=Re(K),oe--;for(;Q--;){if(Y===K||K!==null&&Y===K.alternate){Re=Y;break t}Y=Re(Y),K=Re(K)}Re=null}else Re=null;ie!==null&&UT(fe,ee,ie,Re,!1),Ae!==null&&vt!==null&&UT(fe,vt,Ae,Re,!0)}}e:{if(ee=Z?vr(Z):window,ie=ee.nodeName&&ee.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ee.type==="file")var nt=rS;else if(tS(ee))if(iS)nt=o5;else{nt=a5;var Ne=i5}else ie=ee.nodeName,!ie||ie.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Ml(Z.elementType)&&(nt=rS):nt=s5;if(nt&&(nt=nt(a,Z))){nS(fe,nt,u,se);break e}Ne&&Ne(a,ee,Z),a==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Ac(ee,"number",ee.value)}switch(Ne=Z?vr(Z):window,a){case"focusin":(tS(Ne)||Ne.contentEditable==="true")&&(Hl=Ne,Vy=Z,Lc=null);break;case"focusout":Lc=Vy=Hl=null;break;case"mousedown":zy=!0;break;case"contextmenu":case"mouseup":case"dragend":zy=!1,dS(fe,u,se);break;case"selectionchange":if(u5)break;case"keydown":case"keyup":dS(fe,u,se)}var Fe;if(ot)e:{switch(a){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Fl?jo(a,u)&&(Ye="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Ye="onCompositionStart");Ye&&(Fi&&u.locale!=="ko"&&(Fl||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Fl&&(Fe=Nc()):(zi=se,Ic="value"in zi?zi.value:zi.textContent,Fl=!0)),Ne=hm(Z,Ye),0<Ne.length&&(Ye=new qi(Ye,a,null,u,se),fe.push({event:Ye,listeners:Ne}),Fe?Ye.data=Fe:(Fe=ql(u),Fe!==null&&(Ye.data=Fe)))),(Fe=Ur?e5(a,u):t5(a,u))&&(Ye=hm(Z,"onBeforeInput"),0<Ye.length&&(Ne=new qi("onBeforeInput","beforeinput",null,u,se),fe.push({event:Ne,listeners:Ye}),Ne.data=Fe)),K5(fe,a,Z,u,se)}VT(fe,o)})}function uf(a,o,u){return{instance:a,listener:o,currentTarget:u}}function hm(a,o){for(var u=o+"Capture",f=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=fi(a,u),y!=null&&f.unshift(uf(a,y,b)),y=fi(a,o),y!=null&&f.push(uf(a,y,b))),a.tag===3)return f;a=a.return}return[]}function X5(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function UT(a,o,u,f,y){for(var b=o._reactName,O=[];u!==null&&u!==f;){var R=u,H=R.alternate,Z=R.stateNode;if(R=R.tag,H!==null&&H===f)break;R!==5&&R!==26&&R!==27||Z===null||(H=Z,y?(Z=fi(u,b),Z!=null&&O.unshift(uf(u,Z,H))):y||(Z=fi(u,b),Z!=null&&O.push(uf(u,Z,H)))),u=u.return}O.length!==0&&a.push({event:o,listeners:O})}var Q5=/\r\n?/g,Z5=/\u0000|\uFFFD/g;function BT(a){return(typeof a=="string"?a:""+a).replace(Q5,`
`).replace(Z5,"")}function qT(a,o){return o=BT(o),BT(a)===o}function yt(a,o,u,f,y,b){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||ar(a,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&ar(a,""+f);break;case"className":br(a,"class",f);break;case"tabIndex":br(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":br(a,u,f);break;case"style":Oc(a,f,b);break;case"data":if(o!=="object"){br(a,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=Ll(""+f),a.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&yt(a,o,"name",y.name,y,null),yt(a,o,"formEncType",y.formEncType,y,null),yt(a,o,"formMethod",y.formMethod,y,null),yt(a,o,"formTarget",y.formTarget,y,null)):(yt(a,o,"encType",y.encType,y,null),yt(a,o,"method",y.method,y,null),yt(a,o,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=Ll(""+f),a.setAttribute(u,f);break;case"onClick":f!=null&&(a.onclick=ci);break;case"onScroll":f!=null&&Ke("scroll",a);break;case"onScrollEnd":f!=null&&Ke("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}u=Ll(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""+f):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":f===!0?a.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,f):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(u,f):a.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(u):a.setAttribute(u,f);break;case"popover":Ke("beforetoggle",a),Ke("toggle",a),Rl(a,"popover",f);break;case"xlinkActuate":tn(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":tn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":tn(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":tn(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":tn(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":tn(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":tn(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":tn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":tn(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Rl(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=hh.get(u)||u,Rl(a,u,f))}}function c0(a,o,u,f,y,b){switch(u){case"style":Oc(a,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof f=="string"?ar(a,f):(typeof f=="number"||typeof f=="bigint")&&ar(a,""+f);break;case"onScroll":f!=null&&Ke("scroll",a);break;case"onScrollEnd":f!=null&&Ke("scrollend",a);break;case"onClick":f!=null&&(a.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xc.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),b=a[En]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(o,b,y),typeof f=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,f,y);break e}u in a?a[u]=f:f===!0?a.setAttribute(u,""):Rl(a,u,f)}}}function Mn(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",a),Ke("load",a);var f=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var O=u[b];if(O!=null)switch(b){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:yt(a,o,b,O,u,null)}}y&&yt(a,o,"srcSet",u.srcSet,u,null),f&&yt(a,o,"src",u.src,u,null);return;case"input":Ke("invalid",a);var R=b=O=y=null,H=null,Z=null;for(f in u)if(u.hasOwnProperty(f)){var se=u[f];if(se!=null)switch(f){case"name":y=se;break;case"type":O=se;break;case"checked":H=se;break;case"defaultChecked":Z=se;break;case"value":b=se;break;case"defaultValue":R=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:yt(a,o,f,se,u,null)}}ch(a,b,R,H,Z,O,y,!1);return;case"select":Ke("invalid",a),f=O=b=null;for(y in u)if(u.hasOwnProperty(y)&&(R=u[y],R!=null))switch(y){case"value":b=R;break;case"defaultValue":O=R;break;case"multiple":f=R;default:yt(a,o,y,R,u,null)}o=b,u=O,a.multiple=!!f,o!=null?ss(a,!!f,o,!1):u!=null&&ss(a,!!f,u,!0);return;case"textarea":Ke("invalid",a),b=y=f=null;for(O in u)if(u.hasOwnProperty(O)&&(R=u[O],R!=null))switch(O){case"value":f=R;break;case"defaultValue":y=R;break;case"children":b=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:yt(a,o,O,R,u,null)}os(a,f,y,b);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(f=u[H],f!=null))switch(H){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:yt(a,o,H,f,u,null)}return;case"dialog":Ke("beforetoggle",a),Ke("toggle",a),Ke("cancel",a),Ke("close",a);break;case"iframe":case"object":Ke("load",a);break;case"video":case"audio":for(f=0;f<lf.length;f++)Ke(lf[f],a);break;case"image":Ke("error",a),Ke("load",a);break;case"details":Ke("toggle",a);break;case"embed":case"source":case"link":Ke("error",a),Ke("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in u)if(u.hasOwnProperty(Z)&&(f=u[Z],f!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:yt(a,o,Z,f,u,null)}return;default:if(Ml(o)){for(se in u)u.hasOwnProperty(se)&&(f=u[se],f!==void 0&&c0(a,o,se,f,u,void 0));return}}for(R in u)u.hasOwnProperty(R)&&(f=u[R],f!=null&&yt(a,o,R,f,u,null))}function J5(a,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,O=null,R=null,H=null,Z=null,se=null;for(ie in u){var fe=u[ie];if(u.hasOwnProperty(ie)&&fe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":H=fe;default:f.hasOwnProperty(ie)||yt(a,o,ie,null,f,fe)}}for(var ee in f){var ie=f[ee];if(fe=u[ee],f.hasOwnProperty(ee)&&(ie!=null||fe!=null))switch(ee){case"type":b=ie;break;case"name":y=ie;break;case"checked":Z=ie;break;case"defaultChecked":se=ie;break;case"value":O=ie;break;case"defaultValue":R=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,o));break;default:ie!==fe&&yt(a,o,ee,ie,f,fe)}}Dl(a,O,R,H,Z,se,b,y);return;case"select":ie=O=R=ee=null;for(b in u)if(H=u[b],u.hasOwnProperty(b)&&H!=null)switch(b){case"value":break;case"multiple":ie=H;default:f.hasOwnProperty(b)||yt(a,o,b,null,f,H)}for(y in f)if(b=f[y],H=u[y],f.hasOwnProperty(y)&&(b!=null||H!=null))switch(y){case"value":ee=b;break;case"defaultValue":R=b;break;case"multiple":O=b;default:b!==H&&yt(a,o,y,b,f,H)}o=R,u=O,f=ie,ee!=null?ss(a,!!u,ee,!1):!!f!=!!u&&(o!=null?ss(a,!!u,o,!0):ss(a,!!u,u?[]:"",!1));return;case"textarea":ie=ee=null;for(R in u)if(y=u[R],u.hasOwnProperty(R)&&y!=null&&!f.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:yt(a,o,R,null,f,y)}for(O in f)if(y=f[O],b=u[O],f.hasOwnProperty(O)&&(y!=null||b!=null))switch(O){case"value":ee=y;break;case"defaultValue":ie=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&yt(a,o,O,y,f,b)}fh(a,ee,ie);return;case"option":for(var Ae in u)if(ee=u[Ae],u.hasOwnProperty(Ae)&&ee!=null&&!f.hasOwnProperty(Ae))switch(Ae){case"selected":a.selected=!1;break;default:yt(a,o,Ae,null,f,ee)}for(H in f)if(ee=f[H],ie=u[H],f.hasOwnProperty(H)&&ee!==ie&&(ee!=null||ie!=null))switch(H){case"selected":a.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:yt(a,o,H,ee,f,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in u)ee=u[Re],u.hasOwnProperty(Re)&&ee!=null&&!f.hasOwnProperty(Re)&&yt(a,o,Re,null,f,ee);for(Z in f)if(ee=f[Z],ie=u[Z],f.hasOwnProperty(Z)&&ee!==ie&&(ee!=null||ie!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,o));break;default:yt(a,o,Z,ee,f,ie)}return;default:if(Ml(o)){for(var vt in u)ee=u[vt],u.hasOwnProperty(vt)&&ee!==void 0&&!f.hasOwnProperty(vt)&&c0(a,o,vt,void 0,f,ee);for(se in f)ee=f[se],ie=u[se],!f.hasOwnProperty(se)||ee===ie||ee===void 0&&ie===void 0||c0(a,o,se,ee,f,ie);return}}for(var Y in u)ee=u[Y],u.hasOwnProperty(Y)&&ee!=null&&!f.hasOwnProperty(Y)&&yt(a,o,Y,null,f,ee);for(fe in f)ee=f[fe],ie=u[fe],!f.hasOwnProperty(fe)||ee===ie||ee==null&&ie==null||yt(a,o,fe,ee,f,ie)}function FT(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eL(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var y=u[f],b=y.transferSize,O=y.initiatorType,R=y.duration;if(b&&R&&FT(O)){for(O=0,R=y.responseEnd,f+=1;f<u.length;f++){var H=u[f],Z=H.startTime;if(Z>R)break;var se=H.transferSize,fe=H.initiatorType;se&&FT(fe)&&(H=H.responseEnd,O+=se*(H<R?1:(R-Z)/(H-Z)))}if(--f,o+=8*(b+O)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var f0=null,d0=null;function mm(a){return a.nodeType===9?a:a.ownerDocument}function HT(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $T(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function h0(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var m0=null;function tL(){var a=window.event;return a&&a.type==="popstate"?a===m0?!1:(m0=a,!0):(m0=null,!1)}var KT=typeof setTimeout=="function"?setTimeout:void 0,nL=typeof clearTimeout=="function"?clearTimeout:void 0,GT=typeof Promise=="function"?Promise:void 0,rL=typeof queueMicrotask=="function"?queueMicrotask:typeof GT<"u"?function(a){return GT.resolve(null).then(a).catch(iL)}:KT;function iL(a){setTimeout(function(){throw a})}function Ns(a){return a==="head"}function YT(a,o){var u=o,f=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(f===0){a.removeChild(y),yu(o);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")cf(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,cf(u);for(var b=u.firstChild;b;){var O=b.nextSibling,R=b.nodeName;b[Pi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=O}}else u==="body"&&cf(a.ownerDocument.body);u=y}while(u);yu(o)}function WT(a,o){var u=a;a=0;do{var f=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=f}while(u)}function g0(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":g0(u),jl(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function aL(a,o,u,f){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[Pi])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Gr(a.nextSibling),a===null)break}return null}function sL(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Gr(a.nextSibling),a===null))return null;return a}function XT(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Gr(a.nextSibling),a===null))return null;return a}function p0(a){return a.data==="$?"||a.data==="$~"}function y0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function oL(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function Gr(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var v0=null;function QT(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return Gr(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function ZT(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function JT(a,o,u){switch(o=mm(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function cf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);jl(a)}var Yr=new Map,e2=new Set;function gm(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Oa=te.d;te.d={f:lL,r:uL,D:cL,C:fL,L:dL,m:hL,X:gL,S:mL,M:pL};function lL(){var a=Oa.f(),o=sm();return a||o}function uL(a){var o=Lr(a);o!==null&&o.tag===5&&o.type==="form"?yA(o):Oa.r(a)}var mu=typeof document>"u"?null:document;function t2(a,o,u){var f=mu;if(f&&typeof o=="string"&&o){var y=ir(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),e2.has(y)||(e2.add(y),a={rel:a,crossOrigin:u,href:o},f.querySelector(y)===null&&(o=f.createElement("link"),Mn(o,"link",a),en(o),f.head.appendChild(o)))}}function cL(a){Oa.D(a),t2("dns-prefetch",a,null)}function fL(a,o){Oa.C(a,o),t2("preconnect",a,o)}function dL(a,o,u){Oa.L(a,o,u);var f=mu;if(f&&a&&o){var y='link[rel="preload"][as="'+ir(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+ir(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+ir(u.imageSizes)+'"]')):y+='[href="'+ir(a)+'"]';var b=y;switch(o){case"style":b=gu(a);break;case"script":b=pu(a)}Yr.has(b)||(a=p({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Yr.set(b,a),f.querySelector(y)!==null||o==="style"&&f.querySelector(ff(b))||o==="script"&&f.querySelector(df(b))||(o=f.createElement("link"),Mn(o,"link",a),en(o),f.head.appendChild(o)))}}function hL(a,o){Oa.m(a,o);var u=mu;if(u&&a){var f=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+ir(f)+'"][href="'+ir(a)+'"]',b=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=pu(a)}if(!Yr.has(b)&&(a=p({rel:"modulepreload",href:a},o),Yr.set(b,a),u.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(df(b)))return}f=u.createElement("link"),Mn(f,"link",a),en(f),u.head.appendChild(f)}}}function mL(a,o,u){Oa.S(a,o,u);var f=mu;if(f&&a){var y=Ri(f).hoistableStyles,b=gu(a);o=o||"default";var O=y.get(b);if(!O){var R={loading:0,preload:null};if(O=f.querySelector(ff(b)))R.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Yr.get(b))&&b0(a,u);var H=O=f.createElement("link");en(H),Mn(H,"link",a),H._p=new Promise(function(Z,se){H.onload=Z,H.onerror=se}),H.addEventListener("load",function(){R.loading|=1}),H.addEventListener("error",function(){R.loading|=2}),R.loading|=4,pm(O,o,f)}O={type:"stylesheet",instance:O,count:1,state:R},y.set(b,O)}}}function gL(a,o){Oa.X(a,o);var u=mu;if(u&&a){var f=Ri(u).hoistableScripts,y=pu(a),b=f.get(y);b||(b=u.querySelector(df(y)),b||(a=p({src:a,async:!0},o),(o=Yr.get(y))&&x0(a,o),b=u.createElement("script"),en(b),Mn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function pL(a,o){Oa.M(a,o);var u=mu;if(u&&a){var f=Ri(u).hoistableScripts,y=pu(a),b=f.get(y);b||(b=u.querySelector(df(y)),b||(a=p({src:a,async:!0,type:"module"},o),(o=Yr.get(y))&&x0(a,o),b=u.createElement("script"),en(b),Mn(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function n2(a,o,u,f){var y=(y=ye.current)?gm(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=gu(u.href),u=Ri(y).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=gu(u.href);var b=Ri(y).hoistableStyles,O=b.get(a);if(O||(y=y.ownerDocument||y,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,O),(b=y.querySelector(ff(a)))&&!b._p&&(O.instance=b,O.state.loading=5),Yr.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Yr.set(a,u),b||yL(y,a,u,O.state))),o&&f===null)throw Error(r(528,""));return O}if(o&&f!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=pu(u),u=Ri(y).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function gu(a){return'href="'+ir(a)+'"'}function ff(a){return'link[rel="stylesheet"]['+a+"]"}function r2(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function yL(a,o,u,f){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=a.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Mn(o,"link",u),en(o),a.head.appendChild(o))}function pu(a){return'[src="'+ir(a)+'"]'}function df(a){return"script[async]"+a}function i2(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=a.querySelector('style[data-href~="'+ir(u.href)+'"]');if(f)return o.instance=f,en(f),f;var y=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),en(f),Mn(f,"style",y),pm(f,u.precedence,a),o.instance=f;case"stylesheet":y=gu(u.href);var b=a.querySelector(ff(y));if(b)return o.state.loading|=4,o.instance=b,en(b),b;f=r2(u),(y=Yr.get(y))&&b0(f,y),b=(a.ownerDocument||a).createElement("link"),en(b);var O=b;return O._p=new Promise(function(R,H){O.onload=R,O.onerror=H}),Mn(b,"link",f),o.state.loading|=4,pm(b,u.precedence,a),o.instance=b;case"script":return b=pu(u.src),(y=a.querySelector(df(b)))?(o.instance=y,en(y),y):(f=u,(y=Yr.get(b))&&(f=p({},u),x0(f,y)),a=a.ownerDocument||a,y=a.createElement("script"),en(y),Mn(y,"link",f),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,pm(f,u.precedence,a));return o.instance}function pm(a,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,b=y,O=0;O<f.length;O++){var R=f[O];if(R.dataset.precedence===o)b=R;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function b0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function x0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var ym=null;function a2(a,o,u){if(ym===null){var f=new Map,y=ym=new Map;y.set(u,f)}else y=ym,f=y.get(u),f||(f=new Map,y.set(u,f));if(f.has(a))return f;for(f.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var b=u[y];if(!(b[Pi]||b[Jt]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var O=b.getAttribute(o)||"";O=a+O;var R=f.get(O);R?R.push(b):f.set(O,[b])}}return f}function s2(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function vL(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function o2(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function bL(a,o,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=gu(f.href),b=o.querySelector(ff(y));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=vm.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=b,en(b);return}b=o.ownerDocument||o,f=r2(f),(y=Yr.get(y))&&b0(f,y),b=b.createElement("link"),en(b);var O=b;O._p=new Promise(function(R,H){O.onload=R,O.onerror=H}),Mn(b,"link",f),u.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=vm.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var _0=0;function xL(a,o){return a.stylesheets&&a.count===0&&xm(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var f=setTimeout(function(){if(a.stylesheets&&xm(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+o);0<a.imgBytes&&_0===0&&(_0=62500*eL());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&xm(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>_0?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function vm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xm(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var bm=null;function xm(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,bm=new Map,o.forEach(_L,a),bm=null,vm.call(a))}function _L(a,o){if(!(o.state.loading&4)){var u=bm.get(a);if(u)var f=u.get(null);else{u=new Map,bm.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var O=y[b];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),f=O)}f&&u.set(null,f)}y=o.instance,O=y.getAttribute("data-precedence"),b=u.get(O)||f,b===f&&u.set(null,y),u.set(O,y),this.count++,f=vm.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var hf={$$typeof:L,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function wL(a,o,u,f,y,b,O,R,H){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function l2(a,o,u,f,y,b,O,R,H,Z,se,fe){return a=new wL(a,o,u,O,H,Z,se,fe,R),o=1,b===!0&&(o|=24),b=_r(3,null,null,o),a.current=b,b.stateNode=a,o=ev(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:o},iv(b),a}function u2(a){return a?(a=Gl,a):Gl}function c2(a,o,u,f,y,b){y=u2(y),f.context===null?f.context=y:f.pendingContext=y,f=bs(o),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=xs(a,f,o),u!==null&&(cr(u,a,o),Hc(u,a,o))}function f2(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function w0(a,o){f2(a,o),(a=a.alternate)&&f2(a,o)}function d2(a){if(a.tag===13||a.tag===31){var o=Mo(a,67108864);o!==null&&cr(o,a,67108864),w0(a,67108864)}}function h2(a){if(a.tag===13||a.tag===31){var o=Tr();o=So(o);var u=Mo(a,o);u!==null&&cr(u,a,o),w0(a,o)}}var _m=!0;function EL(a,o,u,f){var y=W.T;W.T=null;var b=te.p;try{te.p=2,E0(a,o,u,f)}finally{te.p=b,W.T=y}}function SL(a,o,u,f){var y=W.T;W.T=null;var b=te.p;try{te.p=8,E0(a,o,u,f)}finally{te.p=b,W.T=y}}function E0(a,o,u,f){if(_m){var y=S0(f);if(y===null)u0(a,o,f,wm,u),g2(a,f);else if(TL(y,a,o,u,f))f.stopPropagation();else if(g2(a,f),o&4&&-1<AL.indexOf(a)){for(;y!==null;){var b=Lr(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var O=Ci(b.pendingLanes);if(O!==0){var R=b;for(R.pendingLanes|=2,R.entangledLanes|=2;O;){var H=1<<31-Ht(O);R.entanglements[1]|=H,O&=~H}Gi(b),(lt&6)===0&&(im=Xn()+500,of(0))}}break;case 31:case 13:R=Mo(b,2),R!==null&&cr(R,b,2),sm(),w0(b,2)}if(b=S0(f),b===null&&u0(a,o,f,wm,u),b===y)break;y=b}y!==null&&f.stopPropagation()}else u0(a,o,f,null,u)}}function S0(a){return a=Vr(a),A0(a)}var wm=null;function A0(a){if(wm=null,a=ji(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return wm=a,null}function m2(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xo()){case gc:return 2;case pc:return 8;case is:case ky:return 32;case eh:return 268435456;default:return 32}default:return 32}}var T0=!1,ks=null,Ps=null,js=null,mf=new Map,gf=new Map,Rs=[],AL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g2(a,o){switch(a){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":mf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(o.pointerId)}}function pf(a,o,u,f,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},o!==null&&(o=Lr(o),o!==null&&d2(o)),a):(a.eventSystemFlags|=f,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function TL(a,o,u,f,y){switch(o){case"focusin":return ks=pf(ks,a,o,u,f,y),!0;case"dragenter":return Ps=pf(Ps,a,o,u,f,y),!0;case"mouseover":return js=pf(js,a,o,u,f,y),!0;case"pointerover":var b=y.pointerId;return mf.set(b,pf(mf.get(b)||null,a,o,u,f,y)),!0;case"gotpointercapture":return b=y.pointerId,gf.set(b,pf(gf.get(b)||null,a,o,u,f,y)),!0}return!1}function p2(a){var o=ji(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,li(a.priority,function(){h2(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,li(a.priority,function(){h2(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Em(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=S0(a.nativeEvent);if(u===null){u=a.nativeEvent;var f=new u.constructor(u.type,u);Cc=f,u.target.dispatchEvent(f),Cc=null}else return o=Lr(u),o!==null&&d2(o),a.blockedOn=u,!1;o.shift()}return!0}function y2(a,o,u){Em(a)&&u.delete(o)}function OL(){T0=!1,ks!==null&&Em(ks)&&(ks=null),Ps!==null&&Em(Ps)&&(Ps=null),js!==null&&Em(js)&&(js=null),mf.forEach(y2),gf.forEach(y2)}function Sm(a,o){a.blockedOn===o&&(a.blockedOn=null,T0||(T0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,OL)))}var Am=null;function v2(a){Am!==a&&(Am=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Am===a&&(Am=null);for(var o=0;o<a.length;o+=3){var u=a[o],f=a[o+1],y=a[o+2];if(typeof f!="function"){if(A0(f||u)===null)continue;break}var b=Lr(u);b!==null&&(a.splice(o,3),o-=3,Sv(b,{pending:!0,data:y,method:u.method,action:f},f,y))}}))}function yu(a){function o(H){return Sm(H,a)}ks!==null&&Sm(ks,a),Ps!==null&&Sm(Ps,a),js!==null&&Sm(js,a),mf.forEach(o),gf.forEach(o);for(var u=0;u<Rs.length;u++){var f=Rs[u];f.blockedOn===a&&(f.blockedOn=null)}for(;0<Rs.length&&(u=Rs[0],u.blockedOn===null);)p2(u),u.blockedOn===null&&Rs.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var y=u[f],b=u[f+1],O=y[En]||null;if(typeof b=="function")O||v2(u);else if(O){var R=null;if(b&&b.hasAttribute("formAction")){if(y=b,O=b[En]||null)R=O.formAction;else if(A0(y)!==null)continue}else R=O.action;typeof R=="function"?u[f+1]=R:(u.splice(f,3),f-=3),v2(u)}}}function b2(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(O){return y=O})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function O0(a){this._internalRoot=a}Tm.prototype.render=O0.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,f=Tr();c2(u,f,a,o,null,null)},Tm.prototype.unmount=O0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;c2(a.current,2,null,a,null,null),sm(),o[ki]=null}};function Tm(a){this._internalRoot=a}Tm.prototype.unstable_scheduleHydration=function(a){if(a){var o=sh();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Rs.length&&o!==0&&o<Rs[u].priority;u++);Rs.splice(u,0,a),u===0&&p2(a)}};var x2=e.version;if(x2!=="19.2.0")throw Error(r(527,x2,"19.2.0"));te.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var CL={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Om=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Om.isDisabled&&Om.supportsFiber)try{si=Om.inject(CL),kn=Om}catch{}}return vf.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,f="",y=OA,b=CA,O=IA;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=l2(a,1,!1,null,null,u,f,null,y,b,O,b2),a[ki]=o.current,l0(a),new O0(o)},vf.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var f=!1,y="",b=OA,O=CA,R=IA,H=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError),u.formState!==void 0&&(H=u.formState)),o=l2(a,1,!0,o,u??null,f,y,H,b,O,R,b2),o.context=u2(null),u=o.current,f=Tr(),f=So(f),y=bs(f),y.callback=null,xs(u,y,f),u=f,o.current.lanes=u,wo(o,u),Gi(o),a[ki]=o.current,l0(a),new Tm(o)},vf.version="19.2.0",vf}var N2;function BL(){if(N2)return k0.exports;N2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),k0.exports=UL(),k0.exports}var qL=BL();const FL=la(qL),k2=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Ks=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A5.975 5.975 0 0112 13a5.975 5.975 0 016 2.803M15 21a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197"})}),Na=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),Ff=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),OP=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),P2=({className:t="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),tw=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4"})}),HL=({icon:t,label:e,isActive:n,onClick:r})=>v.jsxs("li",{className:`flex items-center p-3 my-1 rounded-lg cursor-pointer transition-colors duration-200 ${n?"bg-amber-500 text-green-900 font-bold shadow-md dark:bg-amber-600 dark:text-gray-900":"text-white dark:text-gray-300 hover:bg-green-700 dark:hover:bg-gray-700"}`,onClick:r,children:[v.jsx("span",{className:"w-6 h-6",children:t}),v.jsx("span",{className:"mr-4",children:e})]}),$L=({currentPage:t,setCurrentPage:e,isSidebarOpen:n,setSidebarOpen:r,onLogout:i,currentUser:s})=>{const l=[{page:"dashboard",label:"",icon:v.jsx(k2,{})},{page:"students",label:"",icon:v.jsx(Ks,{})},{page:"teachers",label:"",icon:v.jsx(Ks,{})},{page:"halaqat",label:"",icon:v.jsx(Na,{})},{page:"attendance",label:"",icon:v.jsx(Ff,{})},{page:"memorization",label:"",icon:v.jsx(Na,{})},{page:"reports",label:"",icon:v.jsx(OP,{})},{page:"settings",label:"",icon:v.jsx(P2,{})}],c=[{page:"dashboard",label:"",icon:v.jsx(k2,{})},{page:"students",label:"",icon:v.jsx(Ks,{})},{page:"halaqat",label:"",icon:v.jsx(Na,{})},{page:"attendance",label:" ",icon:v.jsx(Ff,{})},{page:"memorization",label:" ",icon:v.jsx(Na,{})},{page:"settings",label:"",icon:v.jsx(P2,{})}],h=(()=>{switch(s.role){case"admin":return l;case"teacher":return c;default:return[]}})(),m=_=>{e(_),window.innerWidth<768&&r(!1)},p=()=>{i()},x=()=>{switch(s.role){case"admin":return" ";case"teacher":return"";default:return""}};return v.jsxs("div",{className:"print:hidden",children:[v.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden transition-opacity ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)}),v.jsxs("div",{className:`fixed md:relative flex-shrink-0 w-64 h-full bg-green-800 dark:bg-gray-800 text-white flex flex-col transition-transform duration-300 ease-in-out z-30 ${n?"translate-x-0":"translate-x-full md:translate-x-0"}`,children:[v.jsx("div",{className:"flex items-center justify-center h-20 border-b border-green-700 dark:border-gray-700",children:v.jsx("h1",{className:"text-2xl font-bold text-amber-400 dark:text-amber-500",children:" "})}),v.jsx("nav",{className:"flex-1 p-4",children:v.jsx("ul",{children:h.map(_=>v.jsx(HL,{icon:_.icon,label:_.label,isActive:t===_.page,onClick:()=>m(_.page)},_.page))})}),v.jsx("div",{className:"p-4 border-t border-green-700 dark:border-gray-700",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold",children:s.name}),v.jsx("p",{className:"text-sm text-green-300 dark:text-gray-400",children:x()})]}),v.jsx("button",{onClick:p,className:"text-green-200 hover:text-white dark:text-gray-400 dark:hover:text-white transition-colors duration-200 p-2 rounded-full hover:bg-green-700 dark:hover:bg-gray-700",title:" ","aria-label":" ",children:v.jsx(tw,{className:"w-5 h-5"})})]})})]})]})},KL=({pageTitle:t,onMenuClick:e})=>v.jsxs("header",{className:"flex items-center justify-between h-16 bg-white dark:bg-gray-800 shadow-md px-6 flex-shrink-0 print:hidden",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 focus:outline-none md:hidden",children:v.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M4 6H20M4 12H20M4 18H11Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),v.jsx("h1",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 mr-4",children:t})]}),v.jsx("div",{className:"flex items-center"})]}),GL=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 11l5-5m0 0l5 5m-5-5v12"})}),YL=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 13l-5 5m0 0l-5-5m5 5V6"})}),WL={green:{bg:"bg-green-100 dark:bg-green-900/50",border:"border-green-500 dark:border-green-600"},amber:{bg:"bg-amber-100 dark:bg-amber-900/50",border:"border-amber-500 dark:border-amber-600"},blue:{bg:"bg-blue-100 dark:bg-blue-900/50",border:"border-blue-500 dark:border-blue-600"},red:{bg:"bg-red-100 dark:bg-red-900/50",border:"border-red-500 dark:border-red-600"}},Hs=({title:t,value:e,icon:n,color:r,change:i,changeType:s,changeText:l="  "})=>{const{bg:c,border:d}=WL[r];return v.jsxs("div",{className:`bg-white dark:bg-gray-800 p-5 rounded-lg shadow-md border-b-4 ${d}`,children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:t}),v.jsx("p",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200",children:e})]}),v.jsx("div",{className:`p-3 rounded-full ${c}`,children:n})]}),i&&s&&v.jsxs("div",{className:"mt-2 flex items-center text-xs",children:[v.jsxs("span",{className:`flex items-center gap-1 font-semibold ${s==="increase"?"text-green-600 dark:text-green-400":"text-red-500 dark:text-red-400"}`,children:[s==="increase"?v.jsx(GL,{className:"w-3 h-3"}):v.jsx(YL,{className:"w-3 h-3"}),i]}),v.jsx("span",{className:"text-gray-500 dark:text-gray-400 mr-1",children:l})]})]})},CP=({className:t="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9a2.25 2.25 0 01-2.25-2.25V9.375a3.375 3.375 0 01.938-2.238l3-3.001a3.375 3.375 0 014.774 0l3 3.001a3.375 3.375 0 01.938 2.238v7.125a2.25 2.25 0 01-2.25 2.25z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 18.75v2.25a1.5 1.5 0 001.5 1.5h3a1.5 1.5 0 001.5-1.5v-2.25"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12h10.5"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 6.375c0-1.036.84-1.875 1.875-1.875h5.25c1.035 0 1.875.84 1.875 1.875"})]});function IP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=IP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function at(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=IP(t))&&(r&&(r+=" "),r+=e);return r}var XL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function nw(t){if(typeof t!="string")return!1;var e=XL;return e.includes(t)}var QL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function NP(t){if(typeof t!="string")return!1;var e=QL;return e.includes(t)}function kP(t){return typeof t=="string"&&t.startsWith("data-")}function Rr(t){var e=Object.entries(t).filter(n=>{var[r]=n;return NP(r)||kP(r)});return Object.fromEntries(e)}function ul(t){if(t==null)return null;if(w.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Rr(e)}return typeof t=="object"&&!Array.isArray(t)?Rr(t):null}function nr(t){var e=Object.entries(t).filter(n=>{var[r]=n;return NP(r)||kP(r)||nw(r)});return Object.fromEntries(e)}function ZL(t){return t==null?null:w.isValidElement(t)?nr(t.props):typeof t=="object"&&!Array.isArray(t)?nr(t):null}var JL=["children","width","height","viewBox","className","style","title","desc"];function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kx.apply(null,arguments)}function eV(t,e){if(t==null)return{};var n,r,i=tV(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var rw=w.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:c,title:d,desc:h}=t,m=eV(t,JL),p=s||{width:r,height:i,x:0,y:0},x=at("recharts-surface",l);return w.createElement("svg",kx({},nr(m),{className:x,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),w.createElement("title",null,d),w.createElement("desc",null,h),n)}),nV=["children","className"];function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Px.apply(null,arguments)}function rV(t,e){if(t==null)return{};var n,r,i=iV(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var In=w.forwardRef((t,e)=>{var{children:n,className:r}=t,i=rV(t,nV),s=at("recharts-layer",r);return w.createElement("g",Px({className:s},nr(i),{ref:e}),n)}),iw=TP(),PP=w.createContext(null),aV=()=>w.useContext(PP);function St(t){return function(){return t}}const jP=Math.cos,mg=Math.sin,Si=Math.sqrt,gg=Math.PI,Ep=2*gg,jx=Math.PI,Rx=2*jx,Wo=1e-6,sV=Rx-Wo;function RP(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function oV(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return RP;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class lV{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?RP:oV(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,d=r-e,h=i-n,m=l-e,p=c-n,x=m*m+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(x>Wo)if(!(Math.abs(p*d-h*m)>Wo)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,E=i-c,S=d*d+h*h,T=_*_+E*E,I=Math.sqrt(S),j=Math.sqrt(x),L=s*Math.tan((jx-Math.acos((S+x-T)/(2*I*j)))/2),q=L/j,V=L/I;Math.abs(q-1)>Wo&&this._append`L${e+q*m},${n+q*p}`,this._append`A${s},${s},0,0,${+(p*_>m*E)},${this._x1=e+V*d},${this._y1=n+V*h}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),h=e+c,m=n+d,p=1^l,x=l?i-s:s-i;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>Wo||Math.abs(this._y1-m)>Wo)&&this._append`L${h},${m}`,r&&(x<0&&(x=x%Rx+Rx),x>sV?this._append`A${r},${r},0,1,${p},${e-c},${n-d}A${r},${r},0,1,${p},${this._x1=h},${this._y1=m}`:x>Wo&&this._append`A${r},${r},0,${+(x>=jx)},${p},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function aw(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new lV(e)}function sw(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function DP(t){this._context=t}DP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Sp(t){return new DP(t)}function MP(t){return t[0]}function LP(t){return t[1]}function VP(t,e){var n=St(!0),r=null,i=Sp,s=null,l=aw(c);t=typeof t=="function"?t:t===void 0?MP:St(t),e=typeof e=="function"?e:e===void 0?LP:St(e);function c(d){var h,m=(d=sw(d)).length,p,x=!1,_;for(r==null&&(s=i(_=l())),h=0;h<=m;++h)!(h<m&&n(p=d[h],h,d))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+t(p,h,d),+e(p,h,d));if(_)return s=null,_+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:St(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:St(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:St(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(s=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=s=null:s=i(r=d),c):r},c}function Cm(t,e,n){var r=null,i=St(!0),s=null,l=Sp,c=null,d=aw(h);t=typeof t=="function"?t:t===void 0?MP:St(+t),e=typeof e=="function"?e:St(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?LP:St(+n);function h(p){var x,_,E,S=(p=sw(p)).length,T,I=!1,j,L=new Array(S),q=new Array(S);for(s==null&&(c=l(j=d())),x=0;x<=S;++x){if(!(x<S&&i(T=p[x],x,p))===I)if(I=!I)_=x,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),E=x-1;E>=_;--E)c.point(L[E],q[E]);c.lineEnd(),c.areaEnd()}I&&(L[x]=+t(T,x,p),q[x]=+e(T,x,p),c.point(r?+r(T,x,p):L[x],n?+n(T,x,p):q[x]))}if(j)return c=null,j+""||null}function m(){return VP().defined(i).curve(l).context(s)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:St(+p),r=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:St(+p),h):t},h.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:St(+p),h):r},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:St(+p),n=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:St(+p),h):e},h.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:St(+p),h):n},h.lineX0=h.lineY0=function(){return m().x(t).y(e)},h.lineY1=function(){return m().x(t).y(n)},h.lineX1=function(){return m().x(r).y(e)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:St(!!p),h):i},h.curve=function(p){return arguments.length?(l=p,s!=null&&(c=l(s)),h):l},h.context=function(p){return arguments.length?(p==null?s=c=null:c=l(s=p),h):s},h}class zP{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function uV(t){return new zP(t,!0)}function cV(t){return new zP(t,!1)}const ow={draw(t,e){const n=Si(e/gg);t.moveTo(n,0),t.arc(0,0,n,0,Ep)}},fV={draw(t,e){const n=Si(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},UP=Si(1/3),dV=UP*2,hV={draw(t,e){const n=Si(e/dV),r=n*UP;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},mV={draw(t,e){const n=Si(e),r=-n/2;t.rect(r,r,n,n)}},gV=.8908130915292852,BP=mg(gg/10)/mg(7*gg/10),pV=mg(Ep/10)*BP,yV=-jP(Ep/10)*BP,vV={draw(t,e){const n=Si(e*gV),r=pV*n,i=yV*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Ep*s/5,c=jP(l),d=mg(l);t.lineTo(d*n,-c*n),t.lineTo(c*r-d*i,d*r+c*i)}t.closePath()}},D0=Si(3),bV={draw(t,e){const n=-Si(e/(D0*3));t.moveTo(0,n*2),t.lineTo(-D0*n,-n),t.lineTo(D0*n,-n),t.closePath()}},Wr=-.5,Xr=Si(3)/2,Dx=1/Si(12),xV=(Dx/2+1)*3,_V={draw(t,e){const n=Si(e/xV),r=n/2,i=n*Dx,s=r,l=n*Dx+n,c=-s,d=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(c,d),t.lineTo(Wr*r-Xr*i,Xr*r+Wr*i),t.lineTo(Wr*s-Xr*l,Xr*s+Wr*l),t.lineTo(Wr*c-Xr*d,Xr*c+Wr*d),t.lineTo(Wr*r+Xr*i,Wr*i-Xr*r),t.lineTo(Wr*s+Xr*l,Wr*l-Xr*s),t.lineTo(Wr*c+Xr*d,Wr*d-Xr*c),t.closePath()}};function wV(t,e){let n=null,r=aw(i);t=typeof t=="function"?t:St(t||ow),e=typeof e=="function"?e:St(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:St(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:St(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function pg(){}function yg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function qP(t){this._context=t}qP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function EV(t){return new qP(t)}function FP(t){this._context=t}FP.prototype={areaStart:pg,areaEnd:pg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:yg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SV(t){return new FP(t)}function HP(t){this._context=t}HP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:yg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AV(t){return new HP(t)}function $P(t){this._context=t}$P.prototype={areaStart:pg,areaEnd:pg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function TV(t){return new $P(t)}function j2(t){return t<0?-1:1}function R2(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(j2(s)+j2(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function D2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function M0(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,l-c*n,s,l)}function vg(t){this._context=t}vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:M0(this,this._t0,D2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,M0(this,D2(this,n=R2(this,t,e)),n);break;default:M0(this,this._t0,n=R2(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function KP(t){this._context=new GP(t)}(KP.prototype=Object.create(vg.prototype)).point=function(t,e){vg.prototype.point.call(this,e,t)};function GP(t){this._context=t}GP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function OV(t){return new vg(t)}function CV(t){return new KP(t)}function YP(t){this._context=t}YP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=M2(t),i=M2(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function M2(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function IV(t){return new YP(t)}function Ap(t,e){this._context=t,this._t=e}Ap.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function NV(t){return new Ap(t,.5)}function kV(t){return new Ap(t,0)}function PV(t){return new Ap(t,1)}function Du(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,c=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Mx(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function jV(t,e){return t[e]}function RV(t){const e=[];return e.key=t,e}function DV(){var t=St([]),e=Mx,n=Du,r=jV;function i(s){var l=Array.from(t.apply(this,arguments),RV),c,d=l.length,h=-1,m;for(const p of s)for(c=0,++h;c<d;++c)(l[c][h]=[0,+r(p,l[c].key,h,s)]).data=p;for(c=0,m=sw(e(l));c<d;++c)l[m[c]].index=c;return n(l,m),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:St(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:St(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?Mx:typeof s=="function"?s:St(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Du,i):n},i}function MV(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Du(t,e)}}function LV(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Du(t,e)}}function VV(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var c=0,d=0,h=0;c<l;++c){for(var m=t[e[c]],p=m[r][1]||0,x=m[r-1][1]||0,_=(p-x)/2,E=0;E<c;++E){var S=t[e[E]],T=S[r][1]||0,I=S[r-1][1]||0;_+=T-I}d+=p,h+=_*p}i[r-1][1]+=i[r-1][0]=n,d&&(n-=h/d)}i[r-1][1]+=i[r-1][0]=n,Du(t,e)}}var L0={},V0={},L2;function zV(){return L2||(L2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(V0)),V0}var z0={},V2;function WP(){return V2||(V2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(z0)),z0}var U0={},z2;function lw(){return z2||(z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(U0)),U0}var B0={},q0={},U2;function UV(){return U2||(U2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(q0)),q0}var B2;function uw(){return B2||(B2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UV(),n=lw();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],l=i.length;if(l===0)return s;let c=0,d="",h="",m=!1;for(i.charCodeAt(0)===46&&(s.push(""),c++);c<l;){const p=i[c];h?p==="\\"&&c+1<l?(c++,d+=i[c]):p===h?h="":d+=p:m?p==='"'||p==="'"?h=p:p==="]"?(m=!1,s.push(d),d=""):d+=p:p==="["?(m=!0,d&&(s.push(d),d="")):p==="."?d&&(s.push(d),d=""):d+=p,c++}return d&&s.push(d),s}t.toPath=r})(B0)),B0}var q2;function cw(){return q2||(q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zV(),n=WP(),r=lw(),i=uw();function s(c,d,h){if(c==null)return h;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return h;const m=c[d];return m===void 0?n.isDeepKey(d)?s(c,i.toPath(d),h):h:m}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const m=c[d];return m===void 0?h:m}default:{if(Array.isArray(d))return l(c,d,h);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return h;const m=c[d];return m===void 0?h:m}}}function l(c,d,h){if(d.length===0)return h;let m=c;for(let p=0;p<d.length;p++){if(m==null||e.isUnsafeProperty(d[p]))return h;m=m[d[p]]}return m===void 0?h:m}t.get=s})(L0)),L0}var F0,F2;function BV(){return F2||(F2=1,F0=cw().get),F0}var qV=BV();const cl=la(qV);var Cn=t=>t===0?0:t>0?1:-1,_i=t=>typeof t=="number"&&t!=+t,za=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ce=t=>(typeof t=="number"||t instanceof Number)&&!_i(t),ia=t=>Ce(t)||typeof t=="string",FV=0,Hf=t=>{var e=++FV;return"".concat(t||"").concat(e)},Gn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(e)&&typeof e!="string")return r;var s;if(za(e)){if(n==null)return r;var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return _i(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},XP=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function jt(t,e,n){return Ce(t)&&Ce(e)?t+n*(e-t):e}function QP(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):cl(r,e))===n)}var Mt=t=>t===null||typeof t>"u",pd=t=>Mt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function HV(t){return t!=null}function Sl(){}var $V=["type","size","sizeType"];function Lx(){return Lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lx.apply(null,arguments)}function H2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(n),!0).forEach(function(r){KV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KV(t,e,n){return(e=GV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GV(t){var e=YV(t,"string");return typeof e=="symbol"?e:e+""}function YV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WV(t,e){if(t==null)return{};var n,r,i=XV(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function XV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ZP={symbolCircle:ow,symbolCross:fV,symbolDiamond:hV,symbolSquare:mV,symbolStar:vV,symbolTriangle:bV,symbolWye:_V},QV=Math.PI/180,ZV=t=>{var e="symbol".concat(pd(t));return ZP[e]||ow},JV=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*QV;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},e9=(t,e)=>{ZP["symbol".concat(pd(t))]=e},fw=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=WV(t,$V),s=$2($2({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var c=()=>{var x=ZV(l),_=wV().type(x).size(JV(n,r,l)),E=_();if(E!==null)return E},{className:d,cx:h,cy:m}=s,p=nr(s);return Ce(h)&&Ce(m)&&Ce(n)?w.createElement("path",Lx({},p,{className:at("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(m,")"),d:c()})):null};fw.registerSymbol=e9;var JP=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,dw=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{nw(i)&&(r[i]=(s=>n[i](n,s)))}),r},t9=(t,e,n)=>r=>(t(e,n,r),null),yd=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];nw(i)&&typeof s=="function"&&(r||(r={}),r[i]=t9(s,e,n))}),r};function K2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(n),!0).forEach(function(r){r9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r9(t,e,n){return(e=i9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i9(t){var e=a9(t,"string");return typeof e=="symbol"?e:e+""}function a9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mn(t,e){var n=n9({},t),r=e,i=Object.keys(e),s=i.reduce((l,c)=>(l[c]===void 0&&r[c]!==void 0&&(l[c]=r[c]),l),n);return s}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(null,arguments)}function G2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(n),!0).forEach(function(r){o9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o9(t,e,n){return(e=l9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l9(t){var e=u9(t,"string");return typeof e=="symbol"?e:e+""}function u9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zr=32,c9={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function f9(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Zr/2,s=Zr/6,l=Zr/3,c=e.inactive?r:e.color,d=n??e.type;if(d==="none")return null;if(d==="plainline"){var h;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:(h=e.payload)===null||h===void 0?void 0:h.strokeDasharray,x1:0,y1:i,x2:Zr,y2:i,className:"recharts-legend-icon"})}if(d==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Zr,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(d==="rect")return w.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Zr/8,"h").concat(Zr,"v").concat(Zr*3/4,"h").concat(-Zr,"z"),className:"recharts-legend-icon"});if(w.isValidElement(e.legendIcon)){var m=s9({},e);return delete m.legendIcon,w.cloneElement(e.legendIcon,m)}return w.createElement(fw,{fill:c,cx:i,cy:i,size:Zr,sizeType:"diameter",type:d})}function d9(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:l}=t,c={x:0,y:0,width:Zr,height:Zr},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((m,p)=>{var x=m.formatter||i,_=at({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:m.inactive});if(m.type==="none")return null;var E=m.inactive?s:m.color,S=x?x(m.value,m,p):m.value;return w.createElement("li",bg({className:_,style:d,key:"legend-item-".concat(p)},yd(t,m,p)),w.createElement(rw,{width:n,height:n,viewBox:c,style:h,"aria-label":"".concat(S," legend icon")},w.createElement(f9,{data:m,iconType:l,inactiveColor:s})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},S))})}var h9=t=>{var e=mn(t,c9),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:s},w.createElement(d9,bg({},e,{payload:n})))},H0={},$0={},Y2;function m9(){return Y2||(Y2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],c=r(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e})($0)),$0}var K0={},W2;function ej(){return W2||(W2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(K0)),K0}var G0={},Y0={},W0={},X2;function g9(){return X2||(X2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(W0)),W0}var Q2;function hw(){return Q2||(Q2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g9();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Y0)),Y0}var X0={},Z2;function p9(){return Z2||(Z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(X0)),X0}var J2;function y9(){return J2||(J2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hw(),n=p9();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(G0)),G0}var Q0={},Z0={},eO;function v9(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cw();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Z0)),Z0}var J0={},eb={},tb={},nb={},tO;function tj(){return tO||(tO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(nb)),nb}var rb={},nO;function nj(){return nO||(nO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(rb)),rb}var ib={},rO;function rj(){return rO||(rO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(ib)),ib}var iO;function b9(){return iO||(iO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tj(),n=nj(),r=rj();function i(m,p,x){return typeof x!="function"?i(m,p,()=>{}):s(m,p,function _(E,S,T,I,j,L){const q=x(E,S,T,I,j,L);return q!==void 0?!!q:s(E,S,_,L)},new Map)}function s(m,p,x,_){if(p===m)return!0;switch(typeof p){case"object":return l(m,p,x,_);case"function":return Object.keys(p).length>0?s(m,{...p},x,_):r.eq(m,p);default:return e.isObject(m)?typeof p=="string"?p==="":!0:r.eq(m,p)}}function l(m,p,x,_){if(p==null)return!0;if(Array.isArray(p))return d(m,p,x,_);if(p instanceof Map)return c(m,p,x,_);if(p instanceof Set)return h(m,p,x,_);const E=Object.keys(p);if(m==null)return E.length===0;if(E.length===0)return!0;if(_!=null&&_.has(p))return _.get(p)===m;_==null||_.set(p,m);try{for(let S=0;S<E.length;S++){const T=E[S];if(!n.isPrimitive(m)&&!(T in m)||p[T]===void 0&&m[T]!==void 0||p[T]===null&&m[T]!==null||!x(m[T],p[T],T,m,p,_))return!1}return!0}finally{_==null||_.delete(p)}}function c(m,p,x,_){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[E,S]of p.entries()){const T=m.get(E);if(x(T,S,E,m,p,_)===!1)return!1}return!0}function d(m,p,x,_){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const E=new Set;for(let S=0;S<p.length;S++){const T=p[S];let I=!1;for(let j=0;j<m.length;j++){if(E.has(j))continue;const L=m[j];let q=!1;if(x(L,T,S,m,p,_)&&(q=!0),q){E.add(j),I=!0;break}}if(!I)return!1}return!0}function h(m,p,x,_){return p.size===0?!0:m instanceof Set?d([...m],[...p],x,_):!1}t.isMatchWith=i,t.isSetMatch=h})(tb)),tb}var aO;function ij(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=b9();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(eb)),eb}var ab={},sb={},ob={},sO;function x9(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(ob)),ob}var lb={},oO;function aj(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(lb)),lb}var ub={},lO;function sj(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",h="[object Set]",m="[object Array]",p="[object Function]",x="[object ArrayBuffer]",_="[object Object]",E="[object Error]",S="[object DataView]",T="[object Uint8Array]",I="[object Uint8ClampedArray]",j="[object Uint16Array]",L="[object Uint32Array]",q="[object BigUint64Array]",V="[object Int8Array]",F="[object Int16Array]",N="[object Int32Array]",k="[object BigInt64Array]",D="[object Float32Array]",B="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=x,t.arrayTag=m,t.bigInt64ArrayTag=k,t.bigUint64ArrayTag=q,t.booleanTag=i,t.dataViewTag=S,t.dateTag=c,t.errorTag=E,t.float32ArrayTag=D,t.float64ArrayTag=B,t.functionTag=p,t.int16ArrayTag=F,t.int32ArrayTag=N,t.int8ArrayTag=V,t.mapTag=d,t.numberTag=r,t.objectTag=_,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=j,t.uint32ArrayTag=L,t.uint8ArrayTag=T,t.uint8ClampedArrayTag=I})(ub)),ub}var cb={},uO;function _9(){return uO||(uO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(cb)),cb}var cO;function oj(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x9(),n=aj(),r=sj(),i=nj(),s=_9();function l(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,x,_=new Map,E=void 0){const S=E==null?void 0:E(m,p,x,_);if(S!==void 0)return S;if(i.isPrimitive(m))return m;if(_.has(m))return _.get(m);if(Array.isArray(m)){const T=new Array(m.length);_.set(m,T);for(let I=0;I<m.length;I++)T[I]=c(m[I],I,x,_,E);return Object.hasOwn(m,"index")&&(T.index=m.index),Object.hasOwn(m,"input")&&(T.input=m.input),T}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const T=new RegExp(m.source,m.flags);return T.lastIndex=m.lastIndex,T}if(m instanceof Map){const T=new Map;_.set(m,T);for(const[I,j]of m)T.set(I,c(j,I,x,_,E));return T}if(m instanceof Set){const T=new Set;_.set(m,T);for(const I of m)T.add(c(I,void 0,x,_,E));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const T=new(Object.getPrototypeOf(m)).constructor(m.length);_.set(m,T);for(let I=0;I<m.length;I++)T[I]=c(m[I],I,x,_,E);return T}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const T=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return _.set(m,T),d(T,m,x,_,E),T}if(typeof File<"u"&&m instanceof File){const T=new File([m],m.name,{type:m.type});return _.set(m,T),d(T,m,x,_,E),T}if(typeof Blob<"u"&&m instanceof Blob){const T=new Blob([m],{type:m.type});return _.set(m,T),d(T,m,x,_,E),T}if(m instanceof Error){const T=new m.constructor;return _.set(m,T),T.message=m.message,T.name=m.name,T.stack=m.stack,T.cause=m.cause,d(T,m,x,_,E),T}if(m instanceof Boolean){const T=new Boolean(m.valueOf());return _.set(m,T),d(T,m,x,_,E),T}if(m instanceof Number){const T=new Number(m.valueOf());return _.set(m,T),d(T,m,x,_,E),T}if(m instanceof String){const T=new String(m.valueOf());return _.set(m,T),d(T,m,x,_,E),T}if(typeof m=="object"&&h(m)){const T=Object.create(Object.getPrototypeOf(m));return _.set(m,T),d(T,m,x,_,E),T}return m}function d(m,p,x=m,_,E){const S=[...Object.keys(p),...e.getSymbols(p)];for(let T=0;T<S.length;T++){const I=S[T],j=Object.getOwnPropertyDescriptor(m,I);(j==null||j.writable)&&(m[I]=c(p[I],I,x,_,E))}}function h(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=d})(sb)),sb}var fO;function w9(){return fO||(fO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oj();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(ab)),ab}var dO;function E9(){return dO||(dO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ij(),n=w9();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(J0)),J0}var fb={},db={},hb={},hO;function S9(){return hO||(hO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oj(),n=sj();function r(i,s){return e.cloneDeepWith(i,(l,c,d,h)=>{const m=s==null?void 0:s(l,c,d,h);if(m!==void 0)return m;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(hb)),hb}var mO;function A9(){return mO||(mO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S9();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(db)),db}var mb={},gb={},gO;function lj(){return gO||(gO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(gb)),gb}var pb={},pO;function T9(){return pO||(pO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aj();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(pb)),pb}var yO;function O9(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WP(),n=lj(),r=T9(),i=uw();function s(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&(l==null?void 0:l[c])==null?d=i.toPath(c):d=[c],d.length===0)return!1;let h=l;for(let m=0;m<d.length;m++){const p=d[m];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}t.has=s})(mb)),mb}var vO;function C9(){return vO||(vO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ij(),n=lw(),r=A9(),i=cw(),s=O9();function l(c,d){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(h){const m=i.get(h,c);return m===void 0?s.has(h,c):d===void 0?m===void 0:e.isMatch(m,d)}}t.matchesProperty=l})(fb)),fb}var bO;function I9(){return bO||(bO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ej(),n=v9(),r=E9(),i=C9();function s(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=s})(Q0)),Q0}var xO;function N9(){return xO||(xO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m9(),n=ej(),r=y9(),i=I9();function s(l,c=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=s})(H0)),H0}var yb,_O;function k9(){return _O||(_O=1,yb=N9().uniqBy),yb}var P9=k9();const wO=la(P9);function uj(t,e,n){return e===!0?wO(t,n):typeof e=="function"?wO(t,e):t}var vb={exports:{}},bb={},xb={exports:{}},_b={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EO;function j9(){if(EO)return _b;EO=1;var t=Xu();function e(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,l=t.useDebugValue;function c(p,x){var _=x(),E=r({inst:{value:_,getSnapshot:x}}),S=E[0].inst,T=E[1];return s(function(){S.value=_,S.getSnapshot=x,d(S)&&T({inst:S})},[p,_,x]),i(function(){return d(S)&&T({inst:S}),p(function(){d(S)&&T({inst:S})})},[p]),l(_),_}function d(p){var x=p.getSnapshot;p=p.value;try{var _=x();return!n(p,_)}catch{return!0}}function h(p,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return _b.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,_b}var SO;function R9(){return SO||(SO=1,xb.exports=j9()),xb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AO;function D9(){if(AO)return bb;AO=1;var t=Xu(),e=R9();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return bb.useSyncExternalStoreWithSelector=function(h,m,p,x,_){var E=s(null);if(E.current===null){var S={hasValue:!1,value:null};E.current=S}else S=E.current;E=c(function(){function I(F){if(!j){if(j=!0,L=F,F=x(F),_!==void 0&&S.hasValue){var N=S.value;if(_(N,F))return q=N}return q=F}if(N=q,r(L,F))return N;var k=x(F);return _!==void 0&&_(N,k)?(L=F,N):(L=F,q=k)}var j=!1,L,q,V=p===void 0?null:p;return[function(){return I(m())},V===null?void 0:function(){return I(V())}]},[m,p,x,_]);var T=i(h,E[0],E[1]);return l(function(){S.hasValue=!0,S.value=T},[T]),d(T),T},bb}var TO;function M9(){return TO||(TO=1,vb.exports=D9()),vb.exports}var L9=M9(),mw=w.createContext(null),V9=t=>t,Ot=()=>{var t=w.useContext(mw);return t?t.store.dispatch:V9},Jm=()=>{},z9=()=>Jm,U9=(t,e)=>t===e;function Te(t){var e=w.useContext(mw);return L9.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:z9,e?e.store.getState:Jm,e?e.store.getState:Jm,e?t:Jm,U9)}function B9(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function q9(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function F9(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var OO=t=>Array.isArray(t)?t:[t];function H9(t){const e=Array.isArray(t[0])?t[0]:t;return F9(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function $9(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var K9=class{constructor(t){this.value=t}deref(){return this.value}},G9=typeof WeakRef<"u"?WeakRef:K9,Y9=0,CO=1;function Im(){return{s:Y9,v:void 0,o:null,p:null}}function cj(t,e={}){let n=Im();const{resultEqualityCheck:r}=e;let i,s=0;function l(){var p;let c=n;const{length:d}=arguments;for(let x=0,_=d;x<_;x++){const E=arguments[x];if(typeof E=="function"||typeof E=="object"&&E!==null){let S=c.o;S===null&&(c.o=S=new WeakMap);const T=S.get(E);T===void 0?(c=Im(),S.set(E,c)):c=T}else{let S=c.p;S===null&&(c.p=S=new Map);const T=S.get(E);T===void 0?(c=Im(),S.set(E,c)):c=T}}const h=c;let m;if(c.s===CO)m=c.v;else if(m=t.apply(null,arguments),s++,r){const x=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;x!=null&&r(x,m)&&(m=x,s!==0&&s--),i=typeof m=="object"&&m!==null||typeof m=="function"?new G9(m):m}return h.s=CO,h.v=m,m}return l.clearCache=()=>{n=Im(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function W9(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,l=0,c,d={},h=i.pop();typeof h=="object"&&(d=h,h=i.pop()),B9(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...n,...d},{memoize:p,memoizeOptions:x=[],argsMemoize:_=cj,argsMemoizeOptions:E=[]}=m,S=OO(x),T=OO(E),I=H9(i),j=p(function(){return s++,h.apply(null,arguments)},...S),L=_(function(){l++;const V=$9(I,arguments);return c=j.apply(null,V),c},...T);return Object.assign(L,{resultFunc:h,memoizedResultFunc:j,dependencies:I,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var J=W9(cj),X9=Object.assign((t,e=J)=>{q9(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((l,c,d)=>(l[n[d]]=c,l),{}))},{withTypes:()=>X9}),wb={},Eb={},Sb={},IO;function Q9(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=e(r),c=e(i);if(l===c&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?c-l:l-c}return 0};t.compareValues=n})(Sb)),Sb}var Ab={},Tb={},NO;function fj(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Tb)),Tb}var kO;function Z9(){return kO||(kO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fj(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}t.isKey=i})(Ab)),Ab}var PO;function J9(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q9(),n=Z9(),r=uw();function i(s,l,c,d){if(s==null)return[];c=d?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(_=>String(_));const h=(_,E)=>{let S=_;for(let T=0;T<E.length&&S!=null;++T)S=S[E[T]];return S},m=(_,E)=>E==null||_==null?E:typeof _=="object"&&"key"in _?Object.hasOwn(E,_.key)?E[_.key]:h(E,_.path):typeof _=="function"?_(E):Array.isArray(_)?h(E,_):typeof E=="object"?E[_]:E,p=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:p.map(E=>m(E,_))})).slice().sort((_,E)=>{for(let S=0;S<p.length;S++){const T=e.compareValues(_.criteria[S],E.criteria[S],c[S]);if(T!==0)return T}return 0}).map(_=>_.original)}t.orderBy=i})(Eb)),Eb}var Ob={},jO;function ez(){return jO||(jO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),l=(c,d)=>{for(let h=0;h<c.length;h++){const m=c[h];Array.isArray(m)&&d<s?l(m,d+1):i.push(m)}};return l(n,0),i}t.flatten=e})(Ob)),Ob}var Cb={},RO;function dj(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lj(),n=hw(),r=tj(),i=rj();function s(l,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],l):!1}t.isIterateeCall=s})(Cb)),Cb}var DO;function tz(){return DO||(DO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J9(),n=ez(),r=dj();function i(s,...l){const c=l.length;return c>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:c>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(s,n.flatten(l),["asc"])}t.sortBy=i})(wb)),wb}var Ib,MO;function nz(){return MO||(MO=1,Ib=tz().sortBy),Ib}var rz=nz();const Tp=la(rz);var hj=t=>t.legend.settings,iz=t=>t.legend.size,az=t=>t.legend.payload,sz=J([az,hj],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Tp(r,n):r});function oz(){return Te(sz)}var Nm=1;function mj(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-e.height)>Nm||Math.abs(l.left-e.left)>Nm||Math.abs(l.top-e.top)>Nm||Math.abs(l.width-e.width)>Nm)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Ln(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var lz=typeof Symbol=="function"&&Symbol.observable||"@@observable",LO=lz,Nb=()=>Math.random().toString(36).substring(7).split("").join("."),uz={INIT:`@@redux/INIT${Nb()}`,REPLACE:`@@redux/REPLACE${Nb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Nb()}`},xg=uz;function gw(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function gj(t,e,n){if(typeof t!="function")throw new Error(Ln(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ln(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ln(1));return n(gj)(t,e)}let r=t,i=e,s=new Map,l=s,c=0,d=!1;function h(){l===s&&(l=new Map,s.forEach((T,I)=>{l.set(I,T)}))}function m(){if(d)throw new Error(Ln(3));return i}function p(T){if(typeof T!="function")throw new Error(Ln(4));if(d)throw new Error(Ln(5));let I=!0;h();const j=c++;return l.set(j,T),function(){if(I){if(d)throw new Error(Ln(6));I=!1,h(),l.delete(j),s=null}}}function x(T){if(!gw(T))throw new Error(Ln(7));if(typeof T.type>"u")throw new Error(Ln(8));if(typeof T.type!="string")throw new Error(Ln(17));if(d)throw new Error(Ln(9));try{d=!0,i=r(i,T)}finally{d=!1}return(s=l).forEach(j=>{j()}),T}function _(T){if(typeof T!="function")throw new Error(Ln(10));r=T,x({type:xg.REPLACE})}function E(){const T=p;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(Ln(11));function j(){const q=I;q.next&&q.next(m())}return j(),{unsubscribe:T(j)}},[LO](){return this}}}return x({type:xg.INIT}),{dispatch:x,subscribe:p,getState:m,replaceReducer:_,[LO]:E}}function cz(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:xg.INIT})>"u")throw new Error(Ln(12));if(typeof n(void 0,{type:xg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ln(13))})}function pj(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const l=e[s];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{cz(n)}catch(s){i=s}return function(l={},c){if(i)throw i;let d=!1;const h={};for(let m=0;m<r.length;m++){const p=r[m],x=n[p],_=l[p],E=x(_,c);if(typeof E>"u")throw c&&c.type,new Error(Ln(14));h[p]=E,d=d||E!==_}return d=d||r.length!==Object.keys(l).length,d?h:l}}function _g(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function fz(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Ln(15))};const l={getState:i.getState,dispatch:(d,...h)=>s(d,...h)},c=t.map(d=>d(l));return s=_g(...c)(i.dispatch),{...i,dispatch:s}}}function yj(t){return gw(t)&&"type"in t&&typeof t.type=="string"}var vj=Symbol.for("immer-nothing"),VO=Symbol.for("immer-draftable"),Dr=Symbol.for("immer-state");function vi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var $f=Object.getPrototypeOf;function fl(t){return!!t&&!!t[Dr]}function Ua(t){var e;return t?bj(t)||Array.isArray(t)||!!t[VO]||!!((e=t.constructor)!=null&&e[VO])||vd(t)||Cp(t):!1}var dz=Object.prototype.constructor.toString(),zO=new WeakMap;function bj(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=zO.get(n);return r===void 0&&(r=Function.toString.call(n),zO.set(n,r)),r===dz}function wg(t,e,n=!0){Op(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Op(t){const e=t[Dr];return e?e.type_:Array.isArray(t)?1:vd(t)?2:Cp(t)?3:0}function Vx(t,e){return Op(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function xj(t,e,n){const r=Op(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function hz(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function vd(t){return t instanceof Map}function Cp(t){return t instanceof Set}function Xo(t){return t.copy_||t.base_}function zx(t,e){if(vd(t))return new Map(t);if(Cp(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=bj(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Dr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create($f(t),r)}else{const r=$f(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function pw(t,e=!1){return Ip(t)||fl(t)||!Ua(t)||(Op(t)>1&&Object.defineProperties(t,{set:km,add:km,clear:km,delete:km}),Object.freeze(t),e&&Object.values(t).forEach(n=>pw(n,!0))),t}function mz(){vi(2)}var km={value:mz};function Ip(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var gz={};function dl(t){const e=gz[t];return e||vi(0,t),e}var Kf;function _j(){return Kf}function pz(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function UO(t,e){e&&(dl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Ux(t){Bx(t),t.drafts_.forEach(yz),t.drafts_=null}function Bx(t){t===Kf&&(Kf=t.parent_)}function BO(t){return Kf=pz(Kf,t)}function yz(t){const e=t[Dr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function qO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Dr].modified_&&(Ux(e),vi(4)),Ua(t)&&(t=Eg(e,t),e.parent_||Sg(e,t)),e.patches_&&dl("Patches").generateReplacementPatches_(n[Dr].base_,t,e.patches_,e.inversePatches_)):t=Eg(e,n,[]),Ux(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==vj?t:void 0}function Eg(t,e,n){if(Ip(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Dr];if(!i)return wg(e,(s,l)=>FO(t,i,e,s,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Sg(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,c=!1;i.type_===3&&(l=new Set(s),s.clear(),c=!0),wg(l,(d,h)=>FO(t,i,s,d,h,n,c),r),Sg(t,s,!1),n&&t.patches_&&dl("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function FO(t,e,n,r,i,s,l){if(i==null||typeof i!="object"&&!l)return;const c=Ip(i);if(!(c&&!l)){if(fl(i)){const d=s&&e&&e.type_!==3&&!Vx(e.assigned_,r)?s.concat(r):void 0,h=Eg(t,i,d);if(xj(n,r,h),fl(h))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Ua(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&c)return;Eg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(vd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Sg(t,i)}}}function Sg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&pw(e,n)}function vz(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:_j(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=yw;n&&(i=[r],s=Gf);const{revoke:l,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=l,c}var yw={get(t,e){if(e===Dr)return t;const n=Xo(t);if(!Vx(n,e))return bz(t,n,e);const r=n[e];return t.finalized_||!Ua(r)?r:r===kb(t.base_,e)?(Pb(t),t.copy_[e]=Fx(r,t)):r},has(t,e){return e in Xo(t)},ownKeys(t){return Reflect.ownKeys(Xo(t))},set(t,e,n){const r=wj(Xo(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=kb(Xo(t),e),s=i==null?void 0:i[Dr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(hz(n,i)&&(n!==void 0||Vx(t.base_,e)))return!0;Pb(t),qx(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return kb(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Pb(t),qx(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Xo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){vi(11)},getPrototypeOf(t){return $f(t.base_)},setPrototypeOf(){vi(12)}},Gf={};wg(yw,(t,e)=>{Gf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Gf.deleteProperty=function(t,e){return Gf.set.call(this,t,e,void 0)};Gf.set=function(t,e,n){return yw.set.call(this,t[0],e,n,t[0])};function kb(t,e){const n=t[Dr];return(n?Xo(n):t)[e]}function bz(t,e,n){var i;const r=wj(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function wj(t,e){if(!(e in t))return;let n=$f(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=$f(n)}}function qx(t){t.modified_||(t.modified_=!0,t.parent_&&qx(t.parent_))}function Pb(t){t.copy_||(t.copy_=zx(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var xz=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const l=this;return function(d=s,...h){return l.produce(d,m=>n.call(this,m,...h))}}typeof n!="function"&&vi(6),r!==void 0&&typeof r!="function"&&vi(7);let i;if(Ua(e)){const s=BO(this),l=Fx(e,void 0);let c=!0;try{i=n(l),c=!1}finally{c?Ux(s):Bx(s)}return UO(s,r),qO(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===vj&&(i=void 0),this.autoFreeze_&&pw(i,!0),r){const s=[],l=[];dl("Patches").generateReplacementPatches_(e,i,s,l),r(s,l)}return i}else vi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,d=>e(d,...c));let r,i;return[this.produce(e,n,(l,c)=>{r=l,i=c}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ua(t)||vi(8),fl(t)&&(t=Da(t));const e=BO(this),n=Fx(t,void 0);return n[Dr].isManual_=!0,Bx(e),n}finishDraft(t,e){const n=t&&t[Dr];(!n||!n.isManual_)&&vi(9);const{scope_:r}=n;return UO(r,e),qO(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=dl("Patches").applyPatches_;return fl(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Fx(t,e){const n=vd(t)?dl("MapSet").proxyMap_(t,e):Cp(t)?dl("MapSet").proxySet_(t,e):vz(t,e);return(e?e.scope_:_j()).drafts_.push(n),n}function Da(t){return fl(t)||vi(10,t),Ej(t)}function Ej(t){if(!Ua(t)||Ip(t))return t;const e=t[Dr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=zx(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=zx(t,!0);return wg(n,(i,s)=>{xj(n,i,Ej(s))},r),e&&(e.finalized_=!1),n}var Hx=new xz,Sj=Hx.produce,_z=Hx.setUseStrictIteration.bind(Hx);function Aj(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var wz=Aj(),Ez=Aj,Sz=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_g:_g.apply(null,arguments)};function ni(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(jr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>yj(r)&&r.type===t,n}var Tj=class Cf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Cf.prototype)}static get[Symbol.species](){return Cf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Cf(...e[0].concat(this)):new Cf(...e.concat(this))}};function HO(t){return Ua(t)?Sj(t,()=>{}):t}function Pm(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Az(t){return typeof t=="boolean"}var Tz=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let l=new Tj;return n&&(Az(n)?l.push(wz):l.push(Ez(n.extraArgument))),l},Oj="RTK_autoBatch",yn=()=>t=>({payload:t,meta:{[Oj]:!0}}),$O=t=>e=>{setTimeout(e,t)},Cj=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,l=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$O(10):t.type==="callback"?t.queueNotification:$O(t.timeout),h=()=>{l=!1,s&&(s=!1,c.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const p=()=>i&&m(),x=r.subscribe(p);return c.add(m),()=>{x(),c.delete(m)}},dispatch(m){var p;try{return i=!((p=m==null?void 0:m.meta)!=null&&p[Oj]),s=!i,s&&(l||(l=!0,d(h))),r.dispatch(m)}finally{i=!0}}})},Oz=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new Tj(t);return r&&i.push(Cj(typeof r=="object"?r:void 0)),i};function Cz(t){const e=Tz(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(gw(n))c=pj(n);else throw new Error(jr(1));let d;typeof r=="function"?d=r(e):d=e();let h=_g;i&&(h=Sz({trace:!1,...typeof i=="object"&&i}));const m=fz(...d),p=Oz(m);let x=typeof l=="function"?l(p):p();const _=h(...x);return gj(c,s,_)}function Ij(t){const e={},n=[];let r;const i={addCase(s,l){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(jr(28));if(c in e)throw new Error(jr(29));return e[c]=l,i},addAsyncThunk(s,l){return l.pending&&(e[s.pending.type]=l.pending),l.rejected&&(e[s.rejected.type]=l.rejected),l.fulfilled&&(e[s.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:s.settled,reducer:l.settled}),i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}_z(!1);function Iz(t){return typeof t=="function"}function Nz(t,e){let[n,r,i]=Ij(e),s;if(Iz(t))s=()=>HO(t());else{const c=HO(t);s=()=>c}function l(c=s(),d){let h=[n[d.type],...r.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[i]),h.reduce((m,p)=>{if(p)if(fl(m)){const _=p(m,d);return _===void 0?m:_}else{if(Ua(m))return Sj(m,x=>p(x,d));{const x=p(m,d);if(x===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return m},c)}return l.getInitialState=s,l}var kz="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Pz=(t=21)=>{let e="",n=t;for(;n--;)e+=kz[Math.random()*64|0];return e},jz=Symbol.for("rtk-slice-createasyncthunk");function Rz(t,e){return`${t}/${e}`}function Dz({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[jz];return function(i){const{name:s,reducerPath:l=s}=i;if(!s)throw new Error(jr(11));const c=(typeof i.reducers=="function"?i.reducers(Lz()):i.reducers)||{},d=Object.keys(c),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(q,V){const F=typeof q=="string"?q:q.type;if(!F)throw new Error(jr(12));if(F in h.sliceCaseReducersByType)throw new Error(jr(13));return h.sliceCaseReducersByType[F]=V,m},addMatcher(q,V){return h.sliceMatchers.push({matcher:q,reducer:V}),m},exposeAction(q,V){return h.actionCreators[q]=V,m},exposeCaseReducer(q,V){return h.sliceCaseReducersByName[q]=V,m}};d.forEach(q=>{const V=c[q],F={reducerName:q,type:Rz(s,q),createNotation:typeof i.reducers=="function"};zz(V)?Bz(F,V,m,e):Vz(F,V,m)});function p(){const[q={},V=[],F=void 0]=typeof i.extraReducers=="function"?Ij(i.extraReducers):[i.extraReducers],N={...q,...h.sliceCaseReducersByType};return Nz(i.initialState,k=>{for(let D in N)k.addCase(D,N[D]);for(let D of h.sliceMatchers)k.addMatcher(D.matcher,D.reducer);for(let D of V)k.addMatcher(D.matcher,D.reducer);F&&k.addDefaultCase(F)})}const x=q=>q,_=new Map,E=new WeakMap;let S;function T(q,V){return S||(S=p()),S(q,V)}function I(){return S||(S=p()),S.getInitialState()}function j(q,V=!1){function F(k){let D=k[q];return typeof D>"u"&&V&&(D=Pm(E,F,I)),D}function N(k=x){const D=Pm(_,V,()=>new WeakMap);return Pm(D,k,()=>{const B={};for(const[P,U]of Object.entries(i.selectors??{}))B[P]=Mz(U,k,()=>Pm(E,k,I),V);return B})}return{reducerPath:q,getSelectors:N,get selectors(){return N(F)},selectSlice:F}}const L={name:s,reducer:T,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:I,...j(l),injectInto(q,{reducerPath:V,...F}={}){const N=V??l;return q.inject({reducerPath:N,reducer:T},F),{...L,...j(N,!0)}}};return L}}function Mz(t,e,n,r){function i(s,...l){let c=e(s);return typeof c>"u"&&r&&(c=n()),t(c,...l)}return i.unwrapped=t,i}var pr=Dz();function Lz(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Vz({type:t,reducerName:e,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!Uz(r))throw new Error(jr(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,l?ni(t,l):ni(t))}function zz(t){return t._reducerDefinitionType==="asyncThunk"}function Uz(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Bz({type:t,reducerName:e},n,r,i){if(!i)throw new Error(jr(18));const{payloadCreator:s,fulfilled:l,pending:c,rejected:d,settled:h,options:m}=n,p=i(t,s,m);r.exposeAction(e,p),l&&r.addCase(p.fulfilled,l),c&&r.addCase(p.pending,c),d&&r.addCase(p.rejected,d),h&&r.addMatcher(p.settled,h),r.exposeCaseReducer(e,{fulfilled:l||jm,pending:c||jm,rejected:d||jm,settled:h||jm})}function jm(){}var qz="task",Nj="listener",kj="completed",vw="cancelled",Fz=`task-${vw}`,Hz=`task-${kj}`,$x=`${Nj}-${vw}`,$z=`${Nj}-${kj}`,Np=class{constructor(t){C0(this,"name","TaskAbortError");C0(this,"message");this.code=t,this.message=`${qz} ${vw} (reason: ${t})`}},bw=(t,e)=>{if(typeof t!="function")throw new TypeError(jr(32))},Ag=()=>{},Pj=(t,e=Ag)=>(t.catch(e),t),jj=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),il=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},al=t=>{if(t.aborted){const{reason:e}=t;throw new Np(e)}};function Rj(t,e){let n=Ag;return new Promise((r,i)=>{const s=()=>i(new Np(t.reason));if(t.aborted){s();return}n=jj(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Ag})}var Kz=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Np?"cancelled":"rejected",error:n}}finally{e==null||e()}},Tg=t=>e=>Pj(Rj(t,e).then(n=>(al(t),n))),Dj=t=>{const e=Tg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Cu}=Object,KO={},kp="listenerMiddleware",Gz=(t,e)=>{const n=r=>jj(t,()=>il(r,t.reason));return(r,i)=>{bw(r);const s=new AbortController;n(s);const l=Kz(async()=>{al(t),al(s.signal);const c=await r({pause:Tg(s.signal),delay:Dj(s.signal),signal:s.signal});return al(s.signal),c},()=>il(s,Hz));return i!=null&&i.autoJoin&&e.push(l.catch(Ag)),{result:Tg(t)(l),cancel(){il(s,Fz)}}}},Yz=(t,e)=>{const n=async(r,i)=>{al(e);let s=()=>{};const c=[new Promise((d,h)=>{let m=t({predicate:r,effect:(p,x)=>{x.unsubscribe(),d([p,x.getState(),x.getOriginalState()])}});s=()=>{m(),h()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await Rj(e,Promise.race(c));return al(e),d}finally{s()}};return(r,i)=>Pj(n(r,i))},Mj=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=ni(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(jr(21));return bw(s),{predicate:i,type:e,effect:s}},Lj=Cu(t=>{const{type:e,predicate:n,effect:r}=Mj(t);return{id:Pz(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(jr(22))}}},{withTypes:()=>Lj}),GO=(t,e)=>{const{type:n,effect:r,predicate:i}=Mj(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},Kx=t=>{t.pending.forEach(e=>{il(e,$x)})},Wz=(t,e)=>()=>{for(const n of e.keys())Kx(n);t.clear()},YO=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},Vj=Cu(ni(`${kp}/add`),{withTypes:()=>Vj}),Xz=ni(`${kp}/removeAll`),zj=Cu(ni(`${kp}/remove`),{withTypes:()=>zj}),Qz=(...t)=>{console.error(`${kp}/error`,...t)},bd=(t={})=>{const e=new Map,n=new Map,r=_=>{const E=n.get(_)??0;n.set(_,E+1)},i=_=>{const E=n.get(_)??1;E===1?n.delete(_):n.set(_,E-1)},{extra:s,onError:l=Qz}=t;bw(l);const c=_=>(_.unsubscribe=()=>e.delete(_.id),e.set(_.id,_),E=>{_.unsubscribe(),E!=null&&E.cancelActive&&Kx(_)}),d=_=>{const E=GO(e,_)??Lj(_);return c(E)};Cu(d,{withTypes:()=>d});const h=_=>{const E=GO(e,_);return E&&(E.unsubscribe(),_.cancelActive&&Kx(E)),!!E};Cu(h,{withTypes:()=>h});const m=async(_,E,S,T)=>{const I=new AbortController,j=Yz(d,I.signal),L=[];try{_.pending.add(I),r(_),await Promise.resolve(_.effect(E,Cu({},S,{getOriginalState:T,condition:(q,V)=>j(q,V).then(Boolean),take:j,delay:Dj(I.signal),pause:Tg(I.signal),extra:s,signal:I.signal,fork:Gz(I.signal,L),unsubscribe:_.unsubscribe,subscribe:()=>{e.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((q,V,F)=>{q!==I&&(il(q,$x),F.delete(q))})},cancel:()=>{il(I,$x),_.pending.delete(I)},throwIfCancelled:()=>{al(I.signal)}})))}catch(q){q instanceof Np||YO(l,q,{raisedBy:"effect"})}finally{await Promise.all(L),il(I,$z),i(_),_.pending.delete(I)}},p=Wz(e,n);return{middleware:_=>E=>S=>{if(!yj(S))return E(S);if(Vj.match(S))return d(S.payload);if(Xz.match(S)){p();return}if(zj.match(S))return h(S.payload);let T=_.getState();const I=()=>{if(T===KO)throw new Error(jr(23));return T};let j;try{if(j=E(S),e.size>0){const L=_.getState(),q=Array.from(e.values());for(const V of q){let F=!1;try{F=V.predicate(S,L,T)}catch(N){F=!1,YO(l,N,{raisedBy:"predicate"})}F&&m(V,S,_,I)}}}finally{T=KO}return j},startListening:d,stopListening:h,clearListeners:p}};function jr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Zz={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Uj=pr({name:"chartLayout",initialState:Zz,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Jz,setLayout:e8,setChartSize:t8,setScale:n8}=Uj.actions,r8=Uj.reducer;function Bj(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Au(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){i8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i8(t,e,n){return(e=a8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a8(t){var e=s8(t,"string");return typeof e=="symbol"?e:e+""}function s8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tt(t,e,n){return Mt(t)||Mt(e)?n:ia(e)?cl(t,e,n):typeof e=="function"?e(t):n}var o8=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&s!=="center"&&Ce(t[s]))return Au(Au({},t),{},{[s]:t[s]+(r||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&l!=="middle"&&Ce(t[l]))return Au(Au({},t),{},{[l]:t[l]+(i||0)})}return t},uo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",qj=(t,e,n,r)=>{if(r)return t.map(c=>c.coordinate);var i,s,l=t.map(c=>(c.coordinate===e&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate));return i||l.push(e),s||l.push(n),l},Fj=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:c,isCategorical:d,categoricalDomain:h,tickCount:m,ticks:p,niceTicks:x,axisType:_}=t;if(!l)return null;var E=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=i==="category"&&l.bandwidth?l.bandwidth()/E:0;if(S=_==="angleAxis"&&s&&s.length>=2?Cn(s[0]-s[1])*2*S:S,p||x){var T=(p||x||[]).map((I,j)=>{var L=r?r.indexOf(I):I;return{coordinate:l(L)+S,value:I,offset:S,index:j}});return T.filter(I=>!_i(I.coordinate))}return d&&h?h.map((I,j)=>({coordinate:l(I)+S,value:I,index:j,offset:S})):l.ticks&&m!=null?l.ticks(m).map((I,j)=>({coordinate:l(I)+S,value:I,offset:S,index:j})):l.domain().map((I,j)=>({coordinate:l(I)+S,value:r?r[I]:I,index:j,offset:S}))},XO=1e-4,l8=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-XO,s=Math.max(r[0],r[1])+XO,l=t(e[0]),c=t(e[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([e[0],e[n-1]])}},u8=(t,e)=>{if(!e||e.length!==2||!Ce(e[0])||!Ce(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!Ce(t[0])||t[0]<n)&&(i[0]=n),(!Ce(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},c8=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,l=0;l<e;++l){var c=_i(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},f8=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var l=_i(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},d8={sign:c8,expand:MV,none:Du,silhouette:LV,wiggle:VV,positive:f8},h8=(t,e,n)=>{var r=d8[n],i=DV().keys(e).value((s,l)=>Number(Tt(s,l,0))).order(Mx).offset(r);return i(t)};function m8(t){return t==null?void 0:String(t)}function QO(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Mt(i[e.dataKey])){var c=QP(n,"value",i[e.dataKey]);if(c)return c.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var d=Tt(i,Mt(l)?e.dataKey:l);return Mt(d)?null:e.scale(d)}var ZO=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var c=Tt(s,e.dataKey,e.scale.domain()[l]);return Mt(c)?null:e.scale(c)-i/2+r},g8=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},p8=t=>{var e=t.flat(2).filter(Ce);return[Math.min(...e),Math.max(...e)]},y8=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],v8=(t,e,n)=>{if(t!=null)return y8(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:l}=s,c=l.reduce((d,h)=>{var m=Bj(h,e,n),p=p8(m);return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},JO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mu=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Tp(e,m=>m.coordinate),s=1/0,l=1,c=i.length;l<c;l++){var d=i[l],h=i[l-1];s=Math.min((d.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function tC(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Au(Au({},e),{},{dataKey:n,payload:r,value:i,name:s})}function Qu(t,e){if(t)return String(t);if(typeof e=="string")return e}var b8=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},x8=(t,e)=>e==="centric"?t.angle:t.radius,Xa=t=>t.layout.width,Qa=t=>t.layout.height,_8=t=>t.layout.scale,Hj=t=>t.layout.margin,Pp=J(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),jp=J(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),$j="data-recharts-item-index",Kj="data-recharts-item-data-key",xd=60;function nC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nC(Object(n),!0).forEach(function(r){w8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w8(t,e,n){return(e=E8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E8(t){var e=S8(t,"string");return typeof e=="symbol"?e:e+""}function S8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A8=t=>t.brush.height;function T8(t){var e=jp(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:xd;return n+i}return n},0)}function O8(t){var e=jp(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:xd;return n+i}return n},0)}function C8(t){var e=Pp(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function I8(t){var e=Pp(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var bn=J([Xa,Qa,Hj,A8,T8,O8,C8,I8,hj,iz],(t,e,n,r,i,s,l,c,d,h)=>{var m={left:(n.left||0)+i,right:(n.right||0)+s},p={top:(n.top||0)+l,bottom:(n.bottom||0)+c},x=Rm(Rm({},p),m),_=x.bottom;x.bottom+=r,x=o8(x,d,h);var E=t-x.left-x.right,S=e-x.top-x.bottom;return Rm(Rm({brushBottom:_},x),{},{width:Math.max(E,0),height:Math.max(S,0)})}),N8=J(bn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),xw=J(Xa,Qa,(t,e)=>({x:0,y:0,width:t,height:e})),k8=w.createContext(null),Wn=()=>w.useContext(k8)!=null,Rp=t=>t.brush,Dp=J([Rp,bn,Hj],(t,e,n)=>({height:t.height,x:Ce(t.x)?t.x:e.left,y:Ce(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ce(t.width)?t.width:e.width})),jb={},Rb={},Db={},rC;function P8(){return rC||(rC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let l,c=null;const d=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),m=()=>{c!==null&&(n.apply(l,c),l=void 0,c=null)},p=()=>{h&&m(),S()};let x=null;const _=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,p()},r)},E=()=>{x!==null&&(clearTimeout(x),x=null)},S=()=>{E(),l=void 0,c=null},T=()=>{m()},I=function(...j){if(i!=null&&i.aborted)return;l=this,c=j;const L=x==null;_(),d&&L&&m()};return I.schedule=_,I.cancel=S,I.flush=T,i==null||i.addEventListener("abort",S,{once:!0}),I}t.debounce=e})(Db)),Db}var iC;function j8(){return iC||(iC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P8();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:c=!0,maxWait:d}=s,h=Array(2);l&&(h[0]="leading"),c&&(h[1]="trailing");let m,p=null;const x=e.debounce(function(...S){m=r.apply(this,S),p=null},i,{edges:h}),_=function(...S){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(m=r.apply(this,S),p=Date.now(),x.cancel(),x.schedule(),m):(x.apply(this,S),m)},E=()=>(x.flush(),m);return _.cancel=x.cancel,_.flush=E,_}t.debounce=n})(Rb)),Rb}var aC;function R8(){return aC||(aC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j8();function n(r,i=0,s={}){const{leading:l=!0,trailing:c=!0}=s;return e.debounce(r,i,{leading:l,maxWait:i,trailing:c})}t.throttle=n})(jb)),jb}var Mb,sC;function D8(){return sC||(sC=1,Mb=R8().throttle),Mb}var M8=D8();const L8=la(M8);var Og=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},Gj=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:l}=n,c=za(r)?t:Number(r),d=za(i)?e:Number(i);return s&&s>0&&(c?d=c/s:d&&(c=d*s),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:c,calculatedHeight:d}},V8={width:0,height:0,overflow:"visible"},z8={width:0,overflowX:"visible"},U8={height:0,overflowY:"visible"},B8={},q8=t=>{var{width:e,height:n}=t,r=za(e),i=za(n);return r&&i?V8:r?z8:i?U8:B8};function F8(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function Qt(t){return Number.isFinite(t)}function aa(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Gx(){return Gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gx.apply(null,arguments)}function oC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(n),!0).forEach(function(r){H8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H8(t,e,n){return(e=$8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $8(t){var e=K8(t,"string");return typeof e=="symbol"?e:e+""}function K8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yj=w.createContext({width:-1,height:-1});function G8(t){return aa(t.width)&&aa(t.height)}function Wj(t){var{children:e,width:n,height:r}=t,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return G8(i)?w.createElement(Yj.Provider,{value:i},e):null}var _w=()=>w.useContext(Yj),Y8=w.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:l=0,minHeight:c,maxHeight:d,children:h,debounce:m=0,id:p,className:x,onResize:_,style:E={}}=t,S=w.useRef(null),T=w.useRef();T.current=_,w.useImperativeHandle(e,()=>S.current);var[I,j]=w.useState({containerWidth:r.width,containerHeight:r.height}),L=w.useCallback((k,D)=>{j(B=>{var P=Math.round(k),U=Math.round(D);return B.containerWidth===P&&B.containerHeight===U?B:{containerWidth:P,containerHeight:U}})},[]);w.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return Sl;var k=U=>{var M,{width:he,height:be}=U[0].contentRect;L(he,be),(M=T.current)===null||M===void 0||M.call(T,he,be)};m>0&&(k=L8(k,m,{trailing:!0,leading:!1}));var D=new ResizeObserver(k),{width:B,height:P}=S.current.getBoundingClientRect();return L(B,P),D.observe(S.current),()=>{D.disconnect()}},[L,m]);var{containerWidth:q,containerHeight:V}=I;Og(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:F,calculatedHeight:N}=Gj(q,V,{width:i,height:s,aspect:n,maxHeight:d});return Og(F!=null&&F>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,N,i,s,l,c,n),w.createElement("div",{id:p?"".concat(p):void 0,className:at("recharts-responsive-container",x),style:lC(lC({},E),{},{width:i,height:s,minWidth:l,minHeight:c,maxHeight:d}),ref:S},w.createElement("div",{style:q8({width:i,height:s})},w.createElement(Wj,{width:F,height:N},h)))}),Yf=w.forwardRef((t,e)=>{var n=_w();if(aa(n.width)&&aa(n.height))return t.children;var{width:r,height:i}=F8({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:l}=Gj(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ce(s)&&Ce(l)?w.createElement(Wj,{width:s,height:l},t.children):w.createElement(Y8,Gx({},t,{width:r,height:i,ref:e}))});function Xj(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Mp=()=>{var t,e=Wn(),n=Te(N8),r=Te(Dp),i=(t=Te(Rp))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},W8={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Qj=()=>{var t;return(t=Te(bn))!==null&&t!==void 0?t:W8},ww=()=>Te(Xa),Ew=()=>Te(Qa),X8=()=>Te(t=>t.layout.margin),tt=t=>t.layout.layoutType,_d=()=>Te(tt),Q8=()=>{var t=_d();return t!==void 0},Lp=t=>{var e=Ot(),n=Wn(),{width:r,height:i}=t,s=_w(),l=r,c=i;return s&&(l=s.width>0?s.width:r,c=s.height>0?s.height:i),w.useEffect(()=>{!n&&aa(l)&&aa(c)&&e(t8({width:l,height:c}))},[e,n,l,c]),null},Z8={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Zj=pr({name:"legend",initialState:Z8,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:yn()},removeLegendPayload:{reducer(t,e){var n=Da(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:yn()}}}),{setLegendSize:uC,setLegendSettings:J8,addLegendPayload:Jj,removeLegendPayload:eR}=Zj.actions,eU=Zj.reducer,tU=["contextPayload"];function Yx(){return Yx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yx.apply(null,arguments)}function cC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cC(Object(n),!0).forEach(function(r){nU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nU(t,e,n){return(e=rU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rU(t){var e=iU(t,"string");return typeof e=="symbol"?e:e+""}function iU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aU(t,e){if(t==null)return{};var n,r,i=sU(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function oU(t){return t.value}function lU(t){var{contextPayload:e}=t,n=aU(t,tU),r=uj(e,t.payloadUniqBy,oU),i=Lu(Lu({},n),{},{payload:r});return w.isValidElement(t.content)?w.cloneElement(t.content,i):typeof t.content=="function"?w.createElement(t.content,i):w.createElement(h9,i)}function uU(t,e,n,r,i,s){var{layout:l,align:c,verticalAlign:d}=e,h,m;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(c==="center"&&l==="vertical"?h={left:((r||0)-s.width)/2}:h=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(d==="middle"?m={top:((i||0)-s.height)/2}:m=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Lu(Lu({},h),m)}function cU(t){var e=Ot();return w.useEffect(()=>{e(J8(t))},[e,t]),null}function fU(t){var e=Ot();return w.useEffect(()=>(e(uC(t)),()=>{e(uC({width:0,height:0}))}),[e,t]),null}function dU(t,e,n,r){return t==="vertical"&&Ce(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var hU={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Wx(t){var e=mn(t,hU),n=oz(),r=aV(),i=X8(),{width:s,height:l,wrapperStyle:c,portal:d}=e,[h,m]=mj([n]),p=ww(),x=Ew();if(p==null||x==null)return null;var _=p-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),E=dU(e.layout,l,s,_),S=d?c:Lu(Lu({position:"absolute",width:(E==null?void 0:E.width)||s||"auto",height:(E==null?void 0:E.height)||l||"auto"},uU(c,e,i,p,x,h)),c),T=d??r;if(T==null||n==null)return null;var I=w.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:m},w.createElement(cU,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),w.createElement(fU,{width:h.width,height:h.height}),w.createElement(lU,Yx({},e,E,{margin:i,chartWidth:p,chartHeight:x,contextPayload:n})));return iw.createPortal(I,T)}Wx.displayName="Legend";function Xx(){return Xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xx.apply(null,arguments)}function fC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fC(Object(n),!0).forEach(function(r){mU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mU(t,e,n){return(e=gU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gU(t){var e=pU(t,"string");return typeof e=="symbol"?e:e+""}function pU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yU(t){return Array.isArray(t)&&ia(t[0])&&ia(t[1])?t.join(" ~ "):t}var vU=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:h,label:m,labelFormatter:p,accessibilityLayer:x=!1}=t,_=()=>{if(s&&s.length){var V={padding:0,margin:0},F=(c?Tp(s,c):s).map((N,k)=>{if(N.type==="none")return null;var D=N.formatter||l||yU,{value:B,name:P}=N,U=B,M=P;if(D){var he=D(B,P,N,k,s);if(Array.isArray(he))[U,M]=he;else if(he!=null)U=he;else return null}var be=Lb({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:be},ia(M)?w.createElement("span",{className:"recharts-tooltip-item-name"},M):null,ia(M)?w.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,w.createElement("span",{className:"recharts-tooltip-item-value"},U),w.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:V},F)}return null},E=Lb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=Lb({margin:0},i),T=!Mt(m),I=T?m:"",j=at("recharts-default-tooltip",d),L=at("recharts-tooltip-label",h);T&&p&&s!==void 0&&s!==null&&(I=p(m,s));var q=x?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",Xx({className:j,style:E},q),w.createElement("p",{className:L,style:S},w.isValidElement(I)?I:"".concat(I)),_())},bf="recharts-tooltip-wrapper",bU={visibility:"hidden"};function xU(t){var{coordinate:e,translateX:n,translateY:r}=t;return at(bf,{["".concat(bf,"-right")]:Ce(n)&&e&&Ce(e.x)&&n>=e.x,["".concat(bf,"-left")]:Ce(n)&&e&&Ce(e.x)&&n<e.x,["".concat(bf,"-bottom")]:Ce(r)&&e&&Ce(e.y)&&r>=e.y,["".concat(bf,"-top")]:Ce(r)&&e&&Ce(e.y)&&r<e.y})}function dC(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:h}=t;if(s&&Ce(s[r]))return s[r];var m=n[r]-c-(i>0?i:0),p=n[r]+i;if(e[r])return l[r]?m:p;var x=d[r];if(x==null)return 0;if(l[r]){var _=m,E=x;return _<E?Math.max(p,x):Math.max(m,x)}if(h==null)return 0;var S=p+c,T=x+h;return S>T?Math.max(m,x):Math.max(p,x)}function _U(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function wU(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:c,viewBox:d}=t,h,m,p;return l.height>0&&l.width>0&&n?(m=dC({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=dC({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=_U({translateX:m,translateY:p,useTranslate3d:c})):h=bU,{cssProperties:h,cssClasses:xU({translateX:m,translateY:p,coordinate:n})}}function hC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(n),!0).forEach(function(r){Qx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qx(t,e,n){return(e=EU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EU(t){var e=SU(t,"string");return typeof e=="symbol"?e:e+""}function SU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class AU extends w.PureComponent{constructor(){super(...arguments),Qx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Qx(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:c,isAnimationActive:d,offset:h,position:m,reverseDirection:p,useTranslate3d:x,viewBox:_,wrapperStyle:E,lastBoundingBox:S,innerRef:T,hasPortalFromProps:I}=this.props,{cssClasses:j,cssProperties:L}=wU({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:m,reverseDirection:p,tooltipBox:{height:S.height,width:S.width},useTranslate3d:x,viewBox:_}),q=I?{}:Dm(Dm({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},L),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),V=Dm(Dm({},q),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},E);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:V,ref:T},s)}}var TU=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),co={devToolsEnabled:!1,isSsr:TU()},tR=()=>{var t;return(t=Te(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Zx(){return Zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zx.apply(null,arguments)}function mC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mC(Object(n),!0).forEach(function(r){OU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OU(t,e,n){return(e=CU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CU(t){var e=IU(t,"string");return typeof e=="symbol"?e:e+""}function IU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pC={curveBasisClosed:SV,curveBasisOpen:AV,curveBasis:EV,curveBumpX:uV,curveBumpY:cV,curveLinearClosed:TV,curveLinear:Sp,curveMonotoneX:OV,curveMonotoneY:CV,curveNatural:IV,curveStep:NV,curveStepAfter:PV,curveStepBefore:kV},Cg=t=>Qt(t.x)&&Qt(t.y),yC=t=>t.base!=null&&Cg(t.base)&&Cg(t),xf=t=>t.x,_f=t=>t.y,NU=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(pd(t));return(n==="curveMonotone"||n==="curveBump")&&e?pC["".concat(n).concat(e==="vertical"?"Y":"X")]:pC[n]||Sp},kU=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,l=NU(e,i),c=s?n.filter(Cg):n,d;if(Array.isArray(r)){var h=n.map((_,E)=>gC(gC({},_),{},{base:r[E]}));i==="vertical"?d=Cm().y(_f).x1(xf).x0(_=>_.base.x):d=Cm().x(xf).y1(_f).y0(_=>_.base.y);var m=d.defined(yC).curve(l),p=s?h.filter(yC):h;return m(p)}i==="vertical"&&Ce(r)?d=Cm().y(_f).x1(xf).x0(r):Ce(r)?d=Cm().x(xf).y1(_f).y0(r):d=VP().x(xf).y(_f);var x=d.defined(Cg).curve(l);return x(c)},Sw=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?kU(t):r;return w.createElement("path",Zx({},Rr(t),dw(t),{className:at("recharts-curve",e),d:s===null?void 0:s,ref:i}))},PU=["x","y","top","left","width","height","className"];function Jx(){return Jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jx.apply(null,arguments)}function vC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vC(Object(n),!0).forEach(function(r){RU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RU(t,e,n){return(e=DU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DU(t){var e=MU(t,"string");return typeof e=="symbol"?e:e+""}function MU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LU(t,e){if(t==null)return{};var n,r,i=VU(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VU(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zU=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),UU=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:c}=t,d=LU(t,PU),h=jU({x:e,y:n,top:r,left:i,width:s,height:l},d);return!Ce(e)||!Ce(n)||!Ce(s)||!Ce(l)||!Ce(r)||!Ce(i)?null:w.createElement("path",Jx({},nr(h),{className:at("recharts-cross",c),d:zU(e,n,s,l,r,i)}))};function BU(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function bC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(n),!0).forEach(function(r){qU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qU(t,e,n){return(e=FU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FU(t){var e=HU(t,"string");return typeof e=="symbol"?e:e+""}function HU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $U=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),nR=(t,e,n)=>t.map(r=>"".concat($U(r)," ").concat(e,"ms ").concat(n)).join(","),KU=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Wf=(t,e)=>Object.keys(e).reduce((n,r)=>xC(xC({},n),{},{[r]:t(r,e[r])}),{});function _C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_C(Object(n),!0).forEach(function(r){GU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GU(t,e,n){return(e=YU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YU(t){var e=WU(t,"string");return typeof e=="symbol"?e:e+""}function WU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ig=(t,e,n)=>t+(e-t)*n,e_=t=>{var{from:e,to:n}=t;return e!==n},rR=(t,e,n)=>{var r=Wf((i,s)=>{if(e_(s)){var[l,c]=t(s.from,s.to,s.velocity);return pn(pn({},s),{},{from:l,velocity:c})}return s},e);return n<1?Wf((i,s)=>e_(s)?pn(pn({},s),{},{velocity:Ig(s.velocity,r[i].velocity,n),from:Ig(s.from,r[i].from,n)}):s,e):rR(t,r,n-1)};function XU(t,e,n,r,i,s){var l,c=r.reduce((x,_)=>pn(pn({},x),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),d=()=>Wf((x,_)=>_.from,c),h=()=>!Object.values(c).filter(e_).length,m=null,p=x=>{l||(l=x);var _=x-l,E=_/n.dt;c=rR(n,c,E),i(pn(pn(pn({},t),e),d())),l=x,h()||(m=s.setTimeout(p))};return()=>(m=s.setTimeout(p),()=>{var x;(x=m)===null||x===void 0||x()})}function QU(t,e,n,r,i,s,l){var c=null,d=i.reduce((p,x)=>pn(pn({},p),{},{[x]:[t[x],e[x]]}),{}),h,m=p=>{h||(h=p);var x=(p-h)/r,_=Wf((S,T)=>Ig(...T,n(x)),d);if(s(pn(pn(pn({},t),e),_)),x<1)c=l.setTimeout(m);else{var E=Wf((S,T)=>Ig(...T,n(1)),d);s(pn(pn(pn({},t),e),E))}};return()=>(c=l.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const ZU=(t,e,n,r,i,s)=>{var l=KU(t,e);return n==null?()=>(i(pn(pn({},t),e)),()=>{}):n.isStepper===!0?XU(t,e,n,l,i,s):QU(t,e,n,r,l,i,s)};var Ng=1e-4,iR=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],aR=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),wC=(t,e)=>n=>{var r=iR(t,e);return aR(r,n)},JU=(t,e)=>n=>{var r=iR(t,e),i=[...r.map((s,l)=>s*l).slice(1),0];return aR(i,n)},e7=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=s[1].split(")")[0].split(",").map(c=>parseFloat(c));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},t7=(t,e,n,r)=>{var i=wC(t,n),s=wC(e,r),l=JU(t,n),c=h=>h>1?1:h<0?0:h,d=h=>{for(var m=h>1?1:h,p=m,x=0;x<8;++x){var _=i(p)-m,E=l(p);if(Math.abs(_-m)<Ng||E<Ng)return s(p);p=c(p-_/E)}return s(p)};return d.isStepper=!1,d},EC=function(){return t7(...e7(...arguments))},n7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(l,c,d)=>{var h=-(l-c)*n,m=d*r,p=d+(h-m)*i/1e3,x=d*i/1e3+l;return Math.abs(x-c)<Ng&&Math.abs(p)<Ng?[c,0]:[x,p]};return s.isStepper=!0,s.dt=i,s},r7=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return EC(t);case"spring":return n7();default:if(t.split("(")[0]==="cubic-bezier")return EC(t)}return typeof t=="function"?t:null};function i7(t){var e,n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...h]=c;if(typeof d=="number"){i=t.setTimeout(s.bind(null,h),d);return}s(d),i=t.setTimeout(s.bind(null,h));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class a7{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function s7(){return i7(new a7)}var o7=w.createContext(s7);function l7(t,e){var n=w.useContext(o7);return w.useMemo(()=>e??n(t),[t,e,n])}var u7={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},SC={t:0},Vb={t:1};function wd(t){var e=mn(t,u7),{isActive:n,canBegin:r,duration:i,easing:s,begin:l,onAnimationEnd:c,onAnimationStart:d,children:h}=e,m=l7(e.animationId,e.animationManager),[p,x]=w.useState(n?SC:Vb),_=w.useRef(null);return w.useEffect(()=>{n||x(Vb)},[n]),w.useEffect(()=>{if(!n||!r)return Sl;var E=ZU(SC,Vb,r7(s),i,x,m.getTimeoutController()),S=()=>{_.current=E()};return m.start([d,l,S,i,c]),()=>{m.stop(),_.current&&_.current(),c()}},[n,r,i,s,l,d,c,m]),h(p.t)}function Ed(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Hf(e)),r=w.useRef(t);return r.current!==t&&(n.current=Hf(e),r.current=t),n.current}var c7=["radius"],f7=["radius"];function AC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(n),!0).forEach(function(r){d7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d7(t,e,n){return(e=h7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h7(t){var e=m7(t,"string");return typeof e=="symbol"?e:e+""}function m7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kg(){return kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kg.apply(null,arguments)}function OC(t,e){if(t==null)return{};var n,r,i=g7(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function g7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var CC=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,c=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,x=4;p<x;p++)m[p]=i[p]>s?s:i[p];h="M".concat(t,",").concat(e+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+c*m[0],",").concat(e)),h+="L ".concat(t+n-c*m[1],",").concat(e),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(e+l*m[1])),h+="L ".concat(t+n,",").concat(e+r-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+n-c*m[2],",").concat(e+r)),h+="L ".concat(t+c*m[3],",").concat(e+r),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(e+r-l*m[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var _=Math.min(s,i);h="M ".concat(t,",").concat(e+l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t+c*_,",").concat(e,`
            L `).concat(t+n-c*_,",").concat(e,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t+n,",").concat(e+l*_,`
            L `).concat(t+n,",").concat(e+r-l*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t+n-c*_,",").concat(e+r,`
            L `).concat(t+c*_,",").concat(e+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(d,",").concat(t,",").concat(e+r-l*_," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},IC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sR=t=>{var e=mn(t,IC),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var te=n.current.getTotalLength();te&&i(te)}catch{}},[]);var{x:s,y:l,width:c,height:d,radius:h,className:m}=e,{animationEasing:p,animationDuration:x,animationBegin:_,isAnimationActive:E,isUpdateAnimationActive:S}=e,T=w.useRef(c),I=w.useRef(d),j=w.useRef(s),L=w.useRef(l),q=w.useMemo(()=>({x:s,y:l,width:c,height:d,radius:h}),[s,l,c,d,h]),V=Ed(q,"rectangle-");if(s!==+s||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var F=at("recharts-rectangle",m);if(!S){var N=nr(e),{radius:k}=N,D=OC(N,c7);return w.createElement("path",kg({},D,{radius:typeof h=="number"?h:void 0,className:F,d:CC(s,l,c,d,h)}))}var B=T.current,P=I.current,U=j.current,M=L.current,he="0px ".concat(r===-1?1:r,"px"),be="".concat(r,"px 0px"),W=nR(["strokeDasharray"],x,typeof p=="string"?p:IC.animationEasing);return w.createElement(wd,{animationId:V,key:V,canBegin:r>0,duration:x,easing:p,isActive:S,begin:_},te=>{var G=jt(B,c,te),ce=jt(P,d,te),xe=jt(U,s,te),$=jt(M,l,te);n.current&&(T.current=G,I.current=ce,j.current=xe,L.current=$);var re;E?te>0?re={transition:W,strokeDasharray:be}:re={strokeDasharray:he}:re={strokeDasharray:be};var ge=nr(e),{radius:ve}=ge,me=OC(ge,f7);return w.createElement("path",kg({},me,{radius:typeof h=="number"?h:void 0,className:F,d:CC(xe,$,G,ce,h),ref:n,style:TC(TC({},re),e.style)}))})};function NC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NC(Object(n),!0).forEach(function(r){p7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p7(t,e,n){return(e=y7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y7(t){var e=v7(t,"string");return typeof e=="symbol"?e:e+""}function v7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pg=Math.PI/180,b7=t=>t*180/Math.PI,cn=(t,e,n,r)=>({x:t+Math.cos(-Pg*r)*n,y:e+Math.sin(-Pg*r)*n}),oR=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},x7=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},_7=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,l=x7({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var c=(n-i)/l,d=Math.acos(c);return r>s&&(d=2*Math.PI-d),{radius:l,angle:b7(d),angleInRadian:d}},w7=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},E7=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return t+l*360},S7=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=_7({x:n,y:r},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:d,endAngle:h}=w7(e),m=s,p;if(d<=h){for(;m>h;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=h}else{for(;m>d;)m-=360;for(;m<h;)m+=360;p=m>=h&&m<=d}return p?kC(kC({},e),{},{radius:i,angle:E7(m,e)}):null};function lR(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,l=cn(e,n,r,i),c=cn(e,n,r,s);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function t_(){return t_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t_.apply(null,arguments)}var A7=(t,e)=>{var n=Cn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Mm=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:c,cornerIsExternal:d}=t,h=c*(l?1:-1)+r,m=Math.asin(c/h)/Pg,p=d?i:i+s*m,x=cn(e,n,h,p),_=cn(e,n,r,p),E=d?i-s*m:i,S=cn(e,n,h*Math.cos(m*Pg),E);return{center:x,circleTangency:_,lineTangency:S,theta:m}},uR=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=t,c=A7(s,l),d=s+c,h=cn(e,n,i,s),m=cn(e,n,i,d),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var x=cn(e,n,r,s),_=cn(e,n,r,d);p+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},T7=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:h}=t,m=Cn(h-d),{circleTangency:p,lineTangency:x,theta:_}=Mm({cx:e,cy:n,radius:i,angle:d,sign:m,cornerRadius:s,cornerIsExternal:c}),{circleTangency:E,lineTangency:S,theta:T}=Mm({cx:e,cy:n,radius:i,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:c}),I=c?Math.abs(d-h):Math.abs(d-h)-_-T;if(I<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):uR({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:h});var j="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:L,lineTangency:q,theta:V}=Mm({cx:e,cy:n,radius:r,angle:d,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:F,lineTangency:N,theta:k}=Mm({cx:e,cy:n,radius:r,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),D=c?Math.abs(d-h):Math.abs(d-h)-V-k;if(D<0&&s===0)return"".concat(j,"L").concat(e,",").concat(n,"Z");j+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(D>180),",").concat(+(m>0),",").concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(q.x,",").concat(q.y,"Z")}else j+="L".concat(e,",").concat(n,"Z");return j},O7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cR=t=>{var e=mn(t,O7),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:m,className:p}=e;if(s<i||h===m)return null;var x=at("recharts-sector",p),_=s-i,E=Gn(l,_,0,!0),S;return E>0&&Math.abs(h-m)<360?S=T7({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(E,_/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:m}):S=uR({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:m}),w.createElement("path",t_({},nr(e),{className:x,d:S}))};function C7(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(JP(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:l,angle:c}=e,d=cn(r,i,s,c),h=cn(r,i,l,c);return[{x:d.x,y:d.y},{x:h.x,y:h.y}]}return lR(e)}}var zb={},Ub={},Bb={},PC;function I7(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fj();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Bb)),Bb}var jC;function N7(){return jC||(jC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=I7();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Ub)),Ub}var RC;function k7(){return RC||(RC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dj(),n=N7();function r(i,s,l){l&&typeof l!="number"&&e.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const c=Math.max(Math.ceil((s-i)/(l||1)),0),d=new Array(c);for(let h=0;h<c;h++)d[h]=i,i+=l;return d}t.range=r})(zb)),zb}var qb,DC;function P7(){return DC||(DC=1,qb=k7().range),qb}var j7=P7();const fR=la(j7);function Gs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function R7(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Aw(t){let e,n,r;t.length!==2?(e=Gs,n=(c,d)=>Gs(t(c),d),r=(c,d)=>t(c)-d):(e=t===Gs||t===R7?t:D7,n=t,r=t);function i(c,d,h=0,m=c.length){if(h<m){if(e(d,d)!==0)return m;do{const p=h+m>>>1;n(c[p],d)<0?h=p+1:m=p}while(h<m)}return h}function s(c,d,h=0,m=c.length){if(h<m){if(e(d,d)!==0)return m;do{const p=h+m>>>1;n(c[p],d)<=0?h=p+1:m=p}while(h<m)}return h}function l(c,d,h=0,m=c.length){const p=i(c,d,h,m-1);return p>h&&r(c[p-1],d)>-r(c[p],d)?p-1:p}return{left:i,center:l,right:s}}function D7(){return 0}function dR(t){return t===null?NaN:+t}function*M7(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const L7=Aw(Gs),Sd=L7.right;Aw(dR).center;class MC extends Map{constructor(e,n=U7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(LC(this,e))}has(e){return super.has(LC(this,e))}set(e,n){return super.set(V7(this,e),n)}delete(e){return super.delete(z7(this,e))}}function LC({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function V7({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function z7({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function U7(t){return t!==null&&typeof t=="object"?t.valueOf():t}function B7(t=Gs){if(t===Gs)return hR;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function hR(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const q7=Math.sqrt(50),F7=Math.sqrt(10),H7=Math.sqrt(2);function jg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=q7?10:s>=F7?5:s>=H7?2:1;let c,d,h;return i<0?(h=Math.pow(10,-i)/l,c=Math.round(t*h),d=Math.round(e*h),c/h<t&&++c,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*l,c=Math.round(t/h),d=Math.round(e/h),c*h<t&&++c,d*h>e&&--d),d<c&&.5<=n&&n<2?jg(t,e,n*2):[c,d,h]}function n_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?jg(e,t,n):jg(t,e,n);if(!(s>=i))return[];const c=s-i+1,d=new Array(c);if(r)if(l<0)for(let h=0;h<c;++h)d[h]=(s-h)/-l;else for(let h=0;h<c;++h)d[h]=(s-h)*l;else if(l<0)for(let h=0;h<c;++h)d[h]=(i+h)/-l;else for(let h=0;h<c;++h)d[h]=(i+h)*l;return d}function r_(t,e,n){return e=+e,t=+t,n=+n,jg(t,e,n)[2]}function i_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?r_(e,t,n):r_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function VC(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function zC(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function mR(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?hR:B7(i);r>n;){if(r-n>600){const d=r-n+1,h=e-n+1,m=Math.log(d),p=.5*Math.exp(2*m/3),x=.5*Math.sqrt(m*p*(d-p)/d)*(h-d/2<0?-1:1),_=Math.max(n,Math.floor(e-h*p/d+x)),E=Math.min(r,Math.floor(e+(d-h)*p/d+x));mR(t,e,_,E,i)}const s=t[e];let l=n,c=r;for(wf(t,n,e),i(t[r],s)>0&&wf(t,n,r);l<c;){for(wf(t,l,c),++l,--c;i(t[l],s)<0;)++l;for(;i(t[c],s)>0;)--c}i(t[n],s)===0?wf(t,n,c):(++c,wf(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function wf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function $7(t,e,n){if(t=Float64Array.from(M7(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return zC(t);if(e>=1)return VC(t);var r,i=(r-1)*e,s=Math.floor(i),l=VC(mR(t,s).subarray(0,s+1)),c=zC(t.subarray(s+1));return l+(c-l)*(i-s)}}function K7(t,e,n=dR){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return l+(c-l)*(i-s)}}function G7(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ai(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Za(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const a_=Symbol("implicit");function Tw(){var t=new MC,e=[],n=[],r=a_;function i(s){let l=t.get(s);if(l===void 0){if(r!==a_)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new MC;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Tw(e,n).unknown(r)},ai.apply(i,arguments),i}function Ow(){var t=Tw().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,c=!1,d=0,h=0,m=.5;delete t.unknown;function p(){var x=e().length,_=i<r,E=_?i:r,S=_?r:i;s=(S-E)/Math.max(1,x-d+h*2),c&&(s=Math.floor(s)),E+=(S-E-s*(x-d))*m,l=s*(1-d),c&&(E=Math.round(E),l=Math.round(l));var T=G7(x).map(function(I){return E+s*I});return n(_?T.reverse():T)}return t.domain=function(x){return arguments.length?(e(x),p()):e()},t.range=function(x){return arguments.length?([r,i]=x,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(x){return[r,i]=x,r=+r,i=+i,c=!0,p()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(x){return arguments.length?(c=!!x,p()):c},t.padding=function(x){return arguments.length?(d=Math.min(1,h=+x),p()):d},t.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),p()):d},t.paddingOuter=function(x){return arguments.length?(h=+x,p()):h},t.align=function(x){return arguments.length?(m=Math.max(0,Math.min(1,x)),p()):m},t.copy=function(){return Ow(e(),[r,i]).round(c).paddingInner(d).paddingOuter(h).align(m)},ai.apply(p(),arguments)}function gR(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return gR(e())},t}function Y7(){return gR(Ow.apply(null,arguments).paddingInner(1))}function Cw(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function pR(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ad(){}var Xf=.7,Rg=1/Xf,Iu="\\s*([+-]?\\d+)\\s*",Qf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",W7=/^#([0-9a-f]{3,8})$/,X7=new RegExp(`^rgb\\(${Iu},${Iu},${Iu}\\)$`),Q7=new RegExp(`^rgb\\(${Qi},${Qi},${Qi}\\)$`),Z7=new RegExp(`^rgba\\(${Iu},${Iu},${Iu},${Qf}\\)$`),J7=new RegExp(`^rgba\\(${Qi},${Qi},${Qi},${Qf}\\)$`),eB=new RegExp(`^hsl\\(${Qf},${Qi},${Qi}\\)$`),tB=new RegExp(`^hsla\\(${Qf},${Qi},${Qi},${Qf}\\)$`),UC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cw(Ad,Zf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:BC,formatHex:BC,formatHex8:nB,formatHsl:rB,formatRgb:qC,toString:qC});function BC(){return this.rgb().formatHex()}function nB(){return this.rgb().formatHex8()}function rB(){return yR(this).formatHsl()}function qC(){return this.rgb().formatRgb()}function Zf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=W7.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?FC(e):n===3?new gr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Lm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Lm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=X7.exec(t))?new gr(e[1],e[2],e[3],1):(e=Q7.exec(t))?new gr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Z7.exec(t))?Lm(e[1],e[2],e[3],e[4]):(e=J7.exec(t))?Lm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=eB.exec(t))?KC(e[1],e[2]/100,e[3]/100,1):(e=tB.exec(t))?KC(e[1],e[2]/100,e[3]/100,e[4]):UC.hasOwnProperty(t)?FC(UC[t]):t==="transparent"?new gr(NaN,NaN,NaN,0):null}function FC(t){return new gr(t>>16&255,t>>8&255,t&255,1)}function Lm(t,e,n,r){return r<=0&&(t=e=n=NaN),new gr(t,e,n,r)}function iB(t){return t instanceof Ad||(t=Zf(t)),t?(t=t.rgb(),new gr(t.r,t.g,t.b,t.opacity)):new gr}function s_(t,e,n,r){return arguments.length===1?iB(t):new gr(t,e,n,r??1)}function gr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Cw(gr,s_,pR(Ad,{brighter(t){return t=t==null?Rg:Math.pow(Rg,t),new gr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xf:Math.pow(Xf,t),new gr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gr(sl(this.r),sl(this.g),sl(this.b),Dg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HC,formatHex:HC,formatHex8:aB,formatRgb:$C,toString:$C}));function HC(){return`#${el(this.r)}${el(this.g)}${el(this.b)}`}function aB(){return`#${el(this.r)}${el(this.g)}${el(this.b)}${el((isNaN(this.opacity)?1:this.opacity)*255)}`}function $C(){const t=Dg(this.opacity);return`${t===1?"rgb(":"rgba("}${sl(this.r)}, ${sl(this.g)}, ${sl(this.b)}${t===1?")":`, ${t})`}`}function Dg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function sl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function el(t){return t=sl(t),(t<16?"0":"")+t.toString(16)}function KC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new bi(t,e,n,r)}function yR(t){if(t instanceof bi)return new bi(t.h,t.s,t.l,t.opacity);if(t instanceof Ad||(t=Zf(t)),!t)return new bi;if(t instanceof bi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,d=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=d<.5?s+i:2-s-i,l*=60):c=d>0&&d<1?0:l,new bi(l,c,d,t.opacity)}function sB(t,e,n,r){return arguments.length===1?yR(t):new bi(t,e,n,r??1)}function bi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Cw(bi,sB,pR(Ad,{brighter(t){return t=t==null?Rg:Math.pow(Rg,t),new bi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xf:Math.pow(Xf,t),new bi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new gr(Fb(t>=240?t-240:t+120,i,r),Fb(t,i,r),Fb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new bi(GC(this.h),Vm(this.s),Vm(this.l),Dg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Dg(this.opacity);return`${t===1?"hsl(":"hsla("}${GC(this.h)}, ${Vm(this.s)*100}%, ${Vm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function GC(t){return t=(t||0)%360,t<0?t+360:t}function Vm(t){return Math.max(0,Math.min(1,t||0))}function Fb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Iw=t=>()=>t;function oB(t,e){return function(n){return t+n*e}}function lB(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function uB(t){return(t=+t)==1?vR:function(e,n){return n-e?lB(e,n,t):Iw(isNaN(e)?n:e)}}function vR(t,e){var n=e-t;return n?oB(t,n):Iw(isNaN(t)?e:t)}const YC=(function t(e){var n=uB(e);function r(i,s){var l=n((i=s_(i)).r,(s=s_(s)).r),c=n(i.g,s.g),d=n(i.b,s.b),h=vR(i.opacity,s.opacity);return function(m){return i.r=l(m),i.g=c(m),i.b=d(m),i.opacity=h(m),i+""}}return r.gamma=t,r})(1);function cB(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function fB(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dB(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=Zu(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function hB(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Mg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function mB(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Zu(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var o_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hb=new RegExp(o_.source,"g");function gB(t){return function(){return t}}function pB(t){return function(e){return t(e)+""}}function yB(t,e){var n=o_.lastIndex=Hb.lastIndex=0,r,i,s,l=-1,c=[],d=[];for(t=t+"",e=e+"";(r=o_.exec(t))&&(i=Hb.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,d.push({i:l,x:Mg(r,i)})),n=Hb.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?d[0]?pB(d[0].x):gB(e):(e=d.length,function(h){for(var m=0,p;m<e;++m)c[(p=d[m]).i]=p.x(h);return c.join("")})}function Zu(t,e){var n=typeof e,r;return e==null||n==="boolean"?Iw(e):(n==="number"?Mg:n==="string"?(r=Zf(e))?(e=r,YC):yB:e instanceof Zf?YC:e instanceof Date?hB:fB(e)?cB:Array.isArray(e)?dB:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?mB:Mg)(t,e)}function Nw(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function vB(t,e){e===void 0&&(e=t,t=Zu);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[c](l-c)}}function bB(t){return function(){return t}}function Lg(t){return+t}var WC=[0,1];function er(t){return t}function l_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:bB(isNaN(e)?NaN:.5)}function xB(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function _B(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=l_(i,r),s=n(l,s)):(r=l_(r,i),s=n(s,l)),function(c){return s(r(c))}}function wB(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=l_(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(c){var d=Sd(t,c,1,r)-1;return s[d](i[d](c))}}function Td(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vp(){var t=WC,e=WC,n=Zu,r,i,s,l=er,c,d,h;function m(){var x=Math.min(t.length,e.length);return l!==er&&(l=xB(t[0],t[x-1])),c=x>2?wB:_B,d=h=null,p}function p(x){return x==null||isNaN(x=+x)?s:(d||(d=c(t.map(r),e,n)))(r(l(x)))}return p.invert=function(x){return l(i((h||(h=c(e,t.map(r),Mg)))(x)))},p.domain=function(x){return arguments.length?(t=Array.from(x,Lg),m()):t.slice()},p.range=function(x){return arguments.length?(e=Array.from(x),m()):e.slice()},p.rangeRound=function(x){return e=Array.from(x),n=Nw,m()},p.clamp=function(x){return arguments.length?(l=x?!0:er,m()):l!==er},p.interpolate=function(x){return arguments.length?(n=x,m()):n},p.unknown=function(x){return arguments.length?(s=x,p):s},function(x,_){return r=x,i=_,m()}}function kw(){return Vp()(er,er)}function EB(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Vg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Vu(t){return t=Vg(Math.abs(t)),t?t[1]:NaN}function SB(t,e){return function(n,r){for(var i=n.length,s=[],l=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),s.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[l=(l+1)%t.length];return s.reverse().join(e)}}function AB(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var TB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jf(t){if(!(e=TB.exec(t)))throw new Error("invalid format: "+t);var e;return new Pw({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Jf.prototype=Pw.prototype;function Pw(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Pw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OB(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var bR;function CB(t,e){var n=Vg(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(bR=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Vg(t,Math.max(0,e+s-1))[0]}function XC(t,e){var n=Vg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const QC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:EB,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>XC(t*100,e),r:XC,s:CB,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ZC(t){return t}var JC=Array.prototype.map,eI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function IB(t){var e=t.grouping===void 0||t.thousands===void 0?ZC:SB(JC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?ZC:AB(JC.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(p){p=Jf(p);var x=p.fill,_=p.align,E=p.sign,S=p.symbol,T=p.zero,I=p.width,j=p.comma,L=p.precision,q=p.trim,V=p.type;V==="n"?(j=!0,V="g"):QC[V]||(L===void 0&&(L=12),q=!0,V="g"),(T||x==="0"&&_==="=")&&(T=!0,x="0",_="=");var F=S==="$"?n:S==="#"&&/[boxX]/.test(V)?"0"+V.toLowerCase():"",N=S==="$"?r:/[%p]/.test(V)?l:"",k=QC[V],D=/[defgprs%]/.test(V);L=L===void 0?6:/[gprs]/.test(V)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function B(P){var U=F,M=N,he,be,W;if(V==="c")M=k(P)+M,P="";else{P=+P;var te=P<0||1/P<0;if(P=isNaN(P)?d:k(Math.abs(P),L),q&&(P=OB(P)),te&&+P==0&&E!=="+"&&(te=!1),U=(te?E==="("?E:c:E==="-"||E==="("?"":E)+U,M=(V==="s"?eI[8+bR/3]:"")+M+(te&&E==="("?")":""),D){for(he=-1,be=P.length;++he<be;)if(W=P.charCodeAt(he),48>W||W>57){M=(W===46?i+P.slice(he+1):P.slice(he))+M,P=P.slice(0,he);break}}}j&&!T&&(P=e(P,1/0));var G=U.length+P.length+M.length,ce=G<I?new Array(I-G+1).join(x):"";switch(j&&T&&(P=e(ce+P,ce.length?I-M.length:1/0),ce=""),_){case"<":P=U+P+M+ce;break;case"=":P=U+ce+P+M;break;case"^":P=ce.slice(0,G=ce.length>>1)+U+P+M+ce.slice(G);break;default:P=ce+U+P+M;break}return s(P)}return B.toString=function(){return p+""},B}function m(p,x){var _=h((p=Jf(p),p.type="f",p)),E=Math.max(-8,Math.min(8,Math.floor(Vu(x)/3)))*3,S=Math.pow(10,-E),T=eI[8+E/3];return function(I){return _(S*I)+T}}return{format:h,formatPrefix:m}}var zm,jw,xR;NB({thousands:",",grouping:[3],currency:["$",""]});function NB(t){return zm=IB(t),jw=zm.format,xR=zm.formatPrefix,zm}function kB(t){return Math.max(0,-Vu(Math.abs(t)))}function PB(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vu(e)/3)))*3-Vu(Math.abs(t)))}function jB(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Vu(e)-Vu(t))+1}function _R(t,e,n,r){var i=i_(t,e,n),s;switch(r=Jf(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=PB(i,l))&&(r.precision=s),xR(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=jB(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=kB(i))&&(r.precision=s-(r.type==="%")*2);break}}return jw(r)}function fo(t){var e=t.domain;return t.ticks=function(n){var r=e();return n_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return _R(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],c=r[s],d,h,m=10;for(c<l&&(h=l,l=c,c=h,h=i,i=s,s=h);m-- >0;){if(h=r_(l,c,n),h===d)return r[i]=l,r[s]=c,e(r);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;d=h}return t},t}function wR(){var t=kw();return t.copy=function(){return Td(t,wR())},ai.apply(t,arguments),fo(t)}function ER(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Lg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return ER(t).unknown(e)},t=arguments.length?Array.from(t,Lg):[0,1],fo(n)}function SR(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function tI(t){return Math.log(t)}function nI(t){return Math.exp(t)}function RB(t){return-Math.log(-t)}function DB(t){return-Math.exp(-t)}function MB(t){return isFinite(t)?+("1e"+t):t<0?0:t}function LB(t){return t===10?MB:t===Math.E?Math.exp:e=>Math.pow(t,e)}function VB(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function rI(t){return(e,n)=>-t(-e,n)}function Rw(t){const e=t(tI,nI),n=e.domain;let r=10,i,s;function l(){return i=VB(r),s=LB(r),n()[0]<0?(i=rI(i),s=rI(s),t(RB,DB)):t(tI,nI),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const d=n();let h=d[0],m=d[d.length-1];const p=m<h;p&&([h,m]=[m,h]);let x=i(h),_=i(m),E,S;const T=c==null?10:+c;let I=[];if(!(r%1)&&_-x<T){if(x=Math.floor(x),_=Math.ceil(_),h>0){for(;x<=_;++x)for(E=1;E<r;++E)if(S=x<0?E/s(-x):E*s(x),!(S<h)){if(S>m)break;I.push(S)}}else for(;x<=_;++x)for(E=r-1;E>=1;--E)if(S=x>0?E/s(-x):E*s(x),!(S<h)){if(S>m)break;I.push(S)}I.length*2<T&&(I=n_(h,m,T))}else I=n_(x,_,Math.min(_-x,T)).map(s);return p?I.reverse():I},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Jf(d)).precision==null&&(d.trim=!0),d=jw(d)),c===1/0)return d;const h=Math.max(1,r*c/e.ticks().length);return m=>{let p=m/s(Math.round(i(m)));return p*r<r-.5&&(p*=r),p<=h?d(m):""}},e.nice=()=>n(SR(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function AR(){const t=Rw(Vp()).domain([1,10]);return t.copy=()=>Td(t,AR()).base(t.base()),ai.apply(t,arguments),t}function iI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function aI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Dw(t){var e=1,n=t(iI(e),aI(e));return n.constant=function(r){return arguments.length?t(iI(e=+r),aI(e)):e},fo(n)}function TR(){var t=Dw(Vp());return t.copy=function(){return Td(t,TR()).constant(t.constant())},ai.apply(t,arguments)}function sI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zB(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function UB(t){return t<0?-t*t:t*t}function Mw(t){var e=t(er,er),n=1;function r(){return n===1?t(er,er):n===.5?t(zB,UB):t(sI(n),sI(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},fo(e)}function Lw(){var t=Mw(Vp());return t.copy=function(){return Td(t,Lw()).exponent(t.exponent())},ai.apply(t,arguments),t}function BB(){return Lw.apply(null,arguments).exponent(.5)}function oI(t){return Math.sign(t)*t*t}function qB(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function OR(){var t=kw(),e=[0,1],n=!1,r;function i(s){var l=qB(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(oI(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Lg)).map(oI)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return OR(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ai.apply(i,arguments),fo(i)}function CR(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=K7(t,l/c);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Sd(n,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Gs),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return CR().domain(t).range(e).unknown(r)},ai.apply(s,arguments)}function IR(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(d){return d!=null&&d<=d?i[Sd(r,d,0,n)]:s}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},l.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(d){return arguments.length&&(s=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return IR().domain([t,e]).range(i).unknown(s)},ai.apply(fo(l),arguments)}function NR(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Sd(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return NR().domain(t).range(e).unknown(n)},ai.apply(i,arguments)}const $b=new Date,Kb=new Date;function xn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const d=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return d;let h;do d.push(h=new Date(+s)),e(s,c),t(s);while(h<s&&s<l);return d},i.filter=s=>xn(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>($b.setTime(+s),Kb.setTime(+l),t($b),t(Kb),Math.floor(n($b,Kb))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const zg=xn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);zg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?xn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):zg);zg.range;const ka=1e3,ti=ka*60,Pa=ti*60,Ba=Pa*24,Vw=Ba*7,lI=Ba*30,Gb=Ba*365,tl=xn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ka)},(t,e)=>(e-t)/ka,t=>t.getUTCSeconds());tl.range;const zw=xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ka)},(t,e)=>{t.setTime(+t+e*ti)},(t,e)=>(e-t)/ti,t=>t.getMinutes());zw.range;const Uw=xn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ti)},(t,e)=>(e-t)/ti,t=>t.getUTCMinutes());Uw.range;const Bw=xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ka-t.getMinutes()*ti)},(t,e)=>{t.setTime(+t+e*Pa)},(t,e)=>(e-t)/Pa,t=>t.getHours());Bw.range;const qw=xn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Pa)},(t,e)=>(e-t)/Pa,t=>t.getUTCHours());qw.range;const Od=xn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ti)/Ba,t=>t.getDate()-1);Od.range;const zp=xn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ba,t=>t.getUTCDate()-1);zp.range;const kR=xn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ba,t=>Math.floor(t/Ba));kR.range;function Al(t){return xn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ti)/Vw)}const Up=Al(0),Ug=Al(1),FB=Al(2),HB=Al(3),zu=Al(4),$B=Al(5),KB=Al(6);Up.range;Ug.range;FB.range;HB.range;zu.range;$B.range;KB.range;function Tl(t){return xn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Vw)}const Bp=Tl(0),Bg=Tl(1),GB=Tl(2),YB=Tl(3),Uu=Tl(4),WB=Tl(5),XB=Tl(6);Bp.range;Bg.range;GB.range;YB.range;Uu.range;WB.range;XB.range;const Fw=xn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Fw.range;const Hw=xn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Hw.range;const qa=xn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());qa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});qa.range;const Fa=xn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Fa.range;function PR(t,e,n,r,i,s){const l=[[tl,1,ka],[tl,5,5*ka],[tl,15,15*ka],[tl,30,30*ka],[s,1,ti],[s,5,5*ti],[s,15,15*ti],[s,30,30*ti],[i,1,Pa],[i,3,3*Pa],[i,6,6*Pa],[i,12,12*Pa],[r,1,Ba],[r,2,2*Ba],[n,1,Vw],[e,1,lI],[e,3,3*lI],[t,1,Gb]];function c(h,m,p){const x=m<h;x&&([h,m]=[m,h]);const _=p&&typeof p.range=="function"?p:d(h,m,p),E=_?_.range(h,+m+1):[];return x?E.reverse():E}function d(h,m,p){const x=Math.abs(m-h)/p,_=Aw(([,,T])=>T).right(l,x);if(_===l.length)return t.every(i_(h/Gb,m/Gb,p));if(_===0)return zg.every(Math.max(i_(h,m,p),1));const[E,S]=l[x/l[_-1][2]<l[_][2]/x?_-1:_];return E.every(S)}return[c,d]}const[QB,ZB]=PR(Fa,Hw,Bp,kR,qw,Uw),[JB,eq]=PR(qa,Fw,Up,Od,Bw,zw);function Yb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Wb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ef(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function tq(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,h=Sf(i),m=Af(i),p=Sf(s),x=Af(s),_=Sf(l),E=Af(l),S=Sf(c),T=Af(c),I=Sf(d),j=Af(d),L={a:te,A:G,b:ce,B:xe,c:null,d:mI,e:mI,f:Sq,g:Rq,G:Mq,H:_q,I:wq,j:Eq,L:jR,m:Aq,M:Tq,p:$,q:re,Q:yI,s:vI,S:Oq,u:Cq,U:Iq,V:Nq,w:kq,W:Pq,x:null,X:null,y:jq,Y:Dq,Z:Lq,"%":pI},q={a:ge,A:ve,b:me,B:ye,c:null,d:gI,e:gI,f:Bq,g:Qq,G:Jq,H:Vq,I:zq,j:Uq,L:DR,m:qq,M:Fq,p:pe,q:Oe,Q:yI,s:vI,S:Hq,u:$q,U:Kq,V:Gq,w:Yq,W:Wq,x:null,X:null,y:Xq,Y:Zq,Z:eF,"%":pI},V={a:B,A:P,b:U,B:M,c:he,d:dI,e:dI,f:yq,g:fI,G:cI,H:hI,I:hI,j:hq,L:pq,m:dq,M:mq,p:D,q:fq,Q:bq,s:xq,S:gq,u:sq,U:oq,V:lq,w:aq,W:uq,x:be,X:W,y:fI,Y:cI,Z:cq,"%":vq};L.x=F(n,L),L.X=F(r,L),L.c=F(e,L),q.x=F(n,q),q.X=F(r,q),q.c=F(e,q);function F(ae,Ie){return function(je){var ue=[],He=-1,Le=0,ct=ae.length,xt,rr,Ai;for(je instanceof Date||(je=new Date(+je));++He<ct;)ae.charCodeAt(He)===37&&(ue.push(ae.slice(Le,He)),(rr=uI[xt=ae.charAt(++He)])!=null?xt=ae.charAt(++He):rr=xt==="e"?" ":"0",(Ai=Ie[xt])&&(xt=Ai(je,rr)),ue.push(xt),Le=He+1);return ue.push(ae.slice(Le,He)),ue.join("")}}function N(ae,Ie){return function(je){var ue=Ef(1900,void 0,1),He=k(ue,ae,je+="",0),Le,ct;if(He!=je.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(Ie&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Le=Wb(Ef(ue.y,0,1)),ct=Le.getUTCDay(),Le=ct>4||ct===0?Bg.ceil(Le):Bg(Le),Le=zp.offset(Le,(ue.V-1)*7),ue.y=Le.getUTCFullYear(),ue.m=Le.getUTCMonth(),ue.d=Le.getUTCDate()+(ue.w+6)%7):(Le=Yb(Ef(ue.y,0,1)),ct=Le.getDay(),Le=ct>4||ct===0?Ug.ceil(Le):Ug(Le),Le=Od.offset(Le,(ue.V-1)*7),ue.y=Le.getFullYear(),ue.m=Le.getMonth(),ue.d=Le.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),ct="Z"in ue?Wb(Ef(ue.y,0,1)).getUTCDay():Yb(Ef(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(ct+5)%7:ue.w+ue.U*7-(ct+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,Wb(ue)):Yb(ue)}}function k(ae,Ie,je,ue){for(var He=0,Le=Ie.length,ct=je.length,xt,rr;He<Le;){if(ue>=ct)return-1;if(xt=Ie.charCodeAt(He++),xt===37){if(xt=Ie.charAt(He++),rr=V[xt in uI?Ie.charAt(He++):xt],!rr||(ue=rr(ae,je,ue))<0)return-1}else if(xt!=je.charCodeAt(ue++))return-1}return ue}function D(ae,Ie,je){var ue=h.exec(Ie.slice(je));return ue?(ae.p=m.get(ue[0].toLowerCase()),je+ue[0].length):-1}function B(ae,Ie,je){var ue=_.exec(Ie.slice(je));return ue?(ae.w=E.get(ue[0].toLowerCase()),je+ue[0].length):-1}function P(ae,Ie,je){var ue=p.exec(Ie.slice(je));return ue?(ae.w=x.get(ue[0].toLowerCase()),je+ue[0].length):-1}function U(ae,Ie,je){var ue=I.exec(Ie.slice(je));return ue?(ae.m=j.get(ue[0].toLowerCase()),je+ue[0].length):-1}function M(ae,Ie,je){var ue=S.exec(Ie.slice(je));return ue?(ae.m=T.get(ue[0].toLowerCase()),je+ue[0].length):-1}function he(ae,Ie,je){return k(ae,e,Ie,je)}function be(ae,Ie,je){return k(ae,n,Ie,je)}function W(ae,Ie,je){return k(ae,r,Ie,je)}function te(ae){return l[ae.getDay()]}function G(ae){return s[ae.getDay()]}function ce(ae){return d[ae.getMonth()]}function xe(ae){return c[ae.getMonth()]}function $(ae){return i[+(ae.getHours()>=12)]}function re(ae){return 1+~~(ae.getMonth()/3)}function ge(ae){return l[ae.getUTCDay()]}function ve(ae){return s[ae.getUTCDay()]}function me(ae){return d[ae.getUTCMonth()]}function ye(ae){return c[ae.getUTCMonth()]}function pe(ae){return i[+(ae.getUTCHours()>=12)]}function Oe(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var Ie=F(ae+="",L);return Ie.toString=function(){return ae},Ie},parse:function(ae){var Ie=N(ae+="",!1);return Ie.toString=function(){return ae},Ie},utcFormat:function(ae){var Ie=F(ae+="",q);return Ie.toString=function(){return ae},Ie},utcParse:function(ae){var Ie=N(ae+="",!0);return Ie.toString=function(){return ae},Ie}}}var uI={"-":"",_:" ",0:"0"},Nn=/^\s*\d+/,nq=/^%/,rq=/[\\^$*+?|[\]().{}]/g;function st(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function iq(t){return t.replace(rq,"\\$&")}function Sf(t){return new RegExp("^(?:"+t.map(iq).join("|")+")","i")}function Af(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function aq(t,e,n){var r=Nn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function sq(t,e,n){var r=Nn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function oq(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lq(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uq(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function cI(t,e,n){var r=Nn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function fI(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cq(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fq(t,e,n){var r=Nn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function dq(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function dI(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function hq(t,e,n){var r=Nn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function hI(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function mq(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gq(t,e,n){var r=Nn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function pq(t,e,n){var r=Nn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function yq(t,e,n){var r=Nn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vq(t,e,n){var r=nq.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function bq(t,e,n){var r=Nn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xq(t,e,n){var r=Nn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function mI(t,e){return st(t.getDate(),e,2)}function _q(t,e){return st(t.getHours(),e,2)}function wq(t,e){return st(t.getHours()%12||12,e,2)}function Eq(t,e){return st(1+Od.count(qa(t),t),e,3)}function jR(t,e){return st(t.getMilliseconds(),e,3)}function Sq(t,e){return jR(t,e)+"000"}function Aq(t,e){return st(t.getMonth()+1,e,2)}function Tq(t,e){return st(t.getMinutes(),e,2)}function Oq(t,e){return st(t.getSeconds(),e,2)}function Cq(t){var e=t.getDay();return e===0?7:e}function Iq(t,e){return st(Up.count(qa(t)-1,t),e,2)}function RR(t){var e=t.getDay();return e>=4||e===0?zu(t):zu.ceil(t)}function Nq(t,e){return t=RR(t),st(zu.count(qa(t),t)+(qa(t).getDay()===4),e,2)}function kq(t){return t.getDay()}function Pq(t,e){return st(Ug.count(qa(t)-1,t),e,2)}function jq(t,e){return st(t.getFullYear()%100,e,2)}function Rq(t,e){return t=RR(t),st(t.getFullYear()%100,e,2)}function Dq(t,e){return st(t.getFullYear()%1e4,e,4)}function Mq(t,e){var n=t.getDay();return t=n>=4||n===0?zu(t):zu.ceil(t),st(t.getFullYear()%1e4,e,4)}function Lq(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+st(e/60|0,"0",2)+st(e%60,"0",2)}function gI(t,e){return st(t.getUTCDate(),e,2)}function Vq(t,e){return st(t.getUTCHours(),e,2)}function zq(t,e){return st(t.getUTCHours()%12||12,e,2)}function Uq(t,e){return st(1+zp.count(Fa(t),t),e,3)}function DR(t,e){return st(t.getUTCMilliseconds(),e,3)}function Bq(t,e){return DR(t,e)+"000"}function qq(t,e){return st(t.getUTCMonth()+1,e,2)}function Fq(t,e){return st(t.getUTCMinutes(),e,2)}function Hq(t,e){return st(t.getUTCSeconds(),e,2)}function $q(t){var e=t.getUTCDay();return e===0?7:e}function Kq(t,e){return st(Bp.count(Fa(t)-1,t),e,2)}function MR(t){var e=t.getUTCDay();return e>=4||e===0?Uu(t):Uu.ceil(t)}function Gq(t,e){return t=MR(t),st(Uu.count(Fa(t),t)+(Fa(t).getUTCDay()===4),e,2)}function Yq(t){return t.getUTCDay()}function Wq(t,e){return st(Bg.count(Fa(t)-1,t),e,2)}function Xq(t,e){return st(t.getUTCFullYear()%100,e,2)}function Qq(t,e){return t=MR(t),st(t.getUTCFullYear()%100,e,2)}function Zq(t,e){return st(t.getUTCFullYear()%1e4,e,4)}function Jq(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Uu(t):Uu.ceil(t),st(t.getUTCFullYear()%1e4,e,4)}function eF(){return"+0000"}function pI(){return"%"}function yI(t){return+t}function vI(t){return Math.floor(+t/1e3)}var vu,LR,VR;tF({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tF(t){return vu=tq(t),LR=vu.format,vu.parse,VR=vu.utcFormat,vu.utcParse,vu}function nF(t){return new Date(t)}function rF(t){return t instanceof Date?+t:+new Date(+t)}function $w(t,e,n,r,i,s,l,c,d,h){var m=kw(),p=m.invert,x=m.domain,_=h(".%L"),E=h(":%S"),S=h("%I:%M"),T=h("%I %p"),I=h("%a %d"),j=h("%b %d"),L=h("%B"),q=h("%Y");function V(F){return(d(F)<F?_:c(F)<F?E:l(F)<F?S:s(F)<F?T:r(F)<F?i(F)<F?I:j:n(F)<F?L:q)(F)}return m.invert=function(F){return new Date(p(F))},m.domain=function(F){return arguments.length?x(Array.from(F,rF)):x().map(nF)},m.ticks=function(F){var N=x();return t(N[0],N[N.length-1],F??10)},m.tickFormat=function(F,N){return N==null?V:h(N)},m.nice=function(F){var N=x();return(!F||typeof F.range!="function")&&(F=e(N[0],N[N.length-1],F??10)),F?x(SR(N,F)):m},m.copy=function(){return Td(m,$w(t,e,n,r,i,s,l,c,d,h))},m}function iF(){return ai.apply($w(JB,eq,qa,Fw,Up,Od,Bw,zw,tl,LR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aF(){return ai.apply($w(QB,ZB,Fa,Hw,Bp,zp,qw,Uw,tl,VR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qp(){var t=0,e=1,n,r,i,s,l=er,c=!1,d;function h(p){return p==null||isNaN(p=+p)?d:l(i===0?.5:(p=(s(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(p){return arguments.length?(c=!!p,h):c},h.interpolator=function(p){return arguments.length?(l=p,h):l};function m(p){return function(x){var _,E;return arguments.length?([_,E]=x,l=p(_,E),h):[l(0),l(1)]}}return h.range=m(Zu),h.rangeRound=m(Nw),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return s=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),h}}function ho(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function zR(){var t=fo(qp()(er));return t.copy=function(){return ho(t,zR())},Za.apply(t,arguments)}function UR(){var t=Rw(qp()).domain([1,10]);return t.copy=function(){return ho(t,UR()).base(t.base())},Za.apply(t,arguments)}function BR(){var t=Dw(qp());return t.copy=function(){return ho(t,BR()).constant(t.constant())},Za.apply(t,arguments)}function Kw(){var t=Mw(qp());return t.copy=function(){return ho(t,Kw()).exponent(t.exponent())},Za.apply(t,arguments)}function sF(){return Kw.apply(null,arguments).exponent(.5)}function qR(){var t=[],e=er;function n(r){if(r!=null&&!isNaN(r=+r))return e((Sd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Gs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>$7(t,s/r))},n.copy=function(){return qR(e).domain(t)},Za.apply(n,arguments)}function Fp(){var t=0,e=.5,n=1,r=1,i,s,l,c,d,h=er,m,p=!1,x;function _(S){return isNaN(S=+S)?x:(S=.5+((S=+m(S))-s)*(r*S<r*s?c:d),h(p?Math.max(0,Math.min(1,S)):S))}_.domain=function(S){return arguments.length?([t,e,n]=S,i=m(t=+t),s=m(e=+e),l=m(n=+n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(S){return arguments.length?(p=!!S,_):p},_.interpolator=function(S){return arguments.length?(h=S,_):h};function E(S){return function(T){var I,j,L;return arguments.length?([I,j,L]=T,h=vB(S,[I,j,L]),_):[h(0),h(.5),h(1)]}}return _.range=E(Zu),_.rangeRound=E(Nw),_.unknown=function(S){return arguments.length?(x=S,_):x},function(S){return m=S,i=S(t),s=S(e),l=S(n),c=i===s?0:.5/(s-i),d=s===l?0:.5/(l-s),r=s<i?-1:1,_}}function FR(){var t=fo(Fp()(er));return t.copy=function(){return ho(t,FR())},Za.apply(t,arguments)}function HR(){var t=Rw(Fp()).domain([.1,1,10]);return t.copy=function(){return ho(t,HR()).base(t.base())},Za.apply(t,arguments)}function $R(){var t=Dw(Fp());return t.copy=function(){return ho(t,$R()).constant(t.constant())},Za.apply(t,arguments)}function Gw(){var t=Mw(Fp());return t.copy=function(){return ho(t,Gw()).exponent(t.exponent())},Za.apply(t,arguments)}function oF(){return Gw.apply(null,arguments).exponent(.5)}const If=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ow,scaleDiverging:FR,scaleDivergingLog:HR,scaleDivergingPow:Gw,scaleDivergingSqrt:oF,scaleDivergingSymlog:$R,scaleIdentity:ER,scaleImplicit:a_,scaleLinear:wR,scaleLog:AR,scaleOrdinal:Tw,scalePoint:Y7,scalePow:Lw,scaleQuantile:CR,scaleQuantize:IR,scaleRadial:OR,scaleSequential:zR,scaleSequentialLog:UR,scaleSequentialPow:Kw,scaleSequentialQuantile:qR,scaleSequentialSqrt:sF,scaleSequentialSymlog:BR,scaleSqrt:BB,scaleSymlog:TR,scaleThreshold:NR,scaleTime:iF,scaleUtc:aF,tickFormat:_R},Symbol.toStringTag,{value:"Module"}));var mo=t=>t.chartData,Yw=J([mo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Hp=(t,e,n,r)=>r?Yw(t):mo(t);function hl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Qt(e)&&Qt(n))return!0}return!1}function bI(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function KR(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Qt(n))i=n;else if(typeof n=="function")return;if(Qt(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(hl(l))return l}}function lF(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(hl(r))return bI(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(Ce(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&JO.test(i)){var d=JO.exec(i);if(d==null||e==null)l=void 0;else{var h=+d[1];l=e[0]-h}}else l=e==null?void 0:e[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(Ce(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&eC.test(s)){var m=eC.exec(s);if(m==null||e==null)c=void 0;else{var p=+m[1];c=e[1]+p}}else c=e==null?void 0:e[1];var x=[l,c];if(hl(x))return e==null?x:bI(x,e,n)}}}var Ju=1e9,uF={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Xw,Dt=!0,ri="[DecimalError] ",ol=ri+"Invalid argument: ",Ww=ri+"Exponent out of range: ",ec=Math.floor,Qo=Math.pow,cF=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kr,Tn=1e7,Nt=7,GR=9007199254740991,qg=ec(GR/Nt),Se={};Se.absoluteValue=Se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Se.comparedTo=Se.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Nt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Se.dividedBy=Se.div=function(t){return Ma(this,new this.constructor(t))};Se.dividedToIntegerBy=Se.idiv=function(t){var e=this,n=e.constructor;return wt(Ma(e,new n(t),0,1),n.precision)};Se.equals=Se.eq=function(t){return!this.cmp(t)};Se.exponent=function(){return hn(this)};Se.greaterThan=Se.gt=function(t){return this.cmp(t)>0};Se.greaterThanOrEqualTo=Se.gte=function(t){return this.cmp(t)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(t){return this.cmp(t)<0};Se.lessThanOrEqualTo=Se.lte=function(t){return this.cmp(t)<1};Se.logarithm=Se.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(kr))throw Error(ri+"NaN");if(n.s<1)throw Error(ri+(n.s?"NaN":"-Infinity"));return n.eq(kr)?new r(0):(Dt=!1,e=Ma(ed(n,s),ed(t,s),s),Dt=!0,wt(e,i))};Se.minus=Se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?XR(e,t):YR(e,(t.s=-t.s,t))};Se.modulo=Se.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ri+"NaN");return n.s?(Dt=!1,e=Ma(n,t,0,1).times(t),Dt=!0,n.minus(e)):wt(new r(n),i)};Se.naturalExponential=Se.exp=function(){return WR(this)};Se.naturalLogarithm=Se.ln=function(){return ed(this)};Se.negated=Se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Se.plus=Se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YR(e,t):XR(e,(t.s=-t.s,t))};Se.precision=Se.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ol+t);if(e=hn(i)+1,r=i.d.length-1,n=r*Nt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Se.squareRoot=Se.sqrt=function(){var t,e,n,r,i,s,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(ri+"NaN")}for(t=hn(c),Dt=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Xi(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ec((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(s=r,r=s.plus(Ma(c,s,l+2)).times(.5),Xi(s.d).slice(0,l)===(e=Xi(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(wt(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;l+=4}return Dt=!0,wt(r,n)};Se.times=Se.mul=function(t){var e,n,r,i,s,l,c,d,h,m=this,p=m.constructor,x=m.d,_=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,n=m.e+t.e,d=x.length,h=_.length,d<h&&(s=x,x=_,_=s,l=d,d=h,h=l),s=[],l=d+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=d+r;i>r;)c=s[i]+_[r]*x[i-r-1]+e,s[i--]=c%Tn|0,e=c/Tn|0;s[i]=(s[i]+e)%Tn|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Dt?wt(t,p.precision):t};Se.toDecimalPlaces=Se.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(sa(t,0,Ju),e===void 0?e=r.rounding:sa(e,0,8),wt(n,t+hn(n)+1,e))};Se.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ml(r,!0):(sa(t,0,Ju),e===void 0?e=i.rounding:sa(e,0,8),r=wt(new i(r),t+1,e),n=ml(r,!0,t+1)),n};Se.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?ml(i):(sa(t,0,Ju),e===void 0?e=s.rounding:sa(e,0,8),r=wt(new s(i),t+hn(i)+1,e),n=ml(r.abs(),!1,t+hn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Se.toInteger=Se.toint=function(){var t=this,e=t.constructor;return wt(new e(t),hn(t)+1,e.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(t){var e,n,r,i,s,l,c=this,d=c.constructor,h=12,m=+(t=new d(t));if(!t.s)return new d(kr);if(c=new d(c),!c.s){if(t.s<1)throw Error(ri+"Infinity");return c}if(c.eq(kr))return c;if(r=d.precision,t.eq(kr))return wt(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=c.s,l){if((n=m<0?-m:m)<=GR){for(i=new d(kr),e=Math.ceil(r/Nt+4),Dt=!1;n%2&&(i=i.times(c),_I(i.d,e)),n=ec(n/2),n!==0;)c=c.times(c),_I(c.d,e);return Dt=!0,t.s<0?new d(kr).div(i):wt(i,r)}}else if(s<0)throw Error(ri+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,Dt=!1,i=t.times(ed(c,r+h)),Dt=!0,i=WR(i),i.s=s,i};Se.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=hn(i),r=ml(i,n<=s.toExpNeg||n>=s.toExpPos)):(sa(t,1,Ju),e===void 0?e=s.rounding:sa(e,0,8),i=wt(new s(i),t,e),n=hn(i),r=ml(i,t<=n||n<=s.toExpNeg,t)),r};Se.toSignificantDigits=Se.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(sa(t,1,Ju),e===void 0?e=r.rounding:sa(e,0,8)),wt(new r(n),t,e)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=hn(t),n=t.constructor;return ml(t,e<=n.toExpNeg||e>=n.toExpPos)};function YR(t,e){var n,r,i,s,l,c,d,h,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),Dt?wt(e,p):e;if(d=t.d,h=e.d,l=t.e,i=e.e,d=d.slice(),s=l-i,s){for(s<0?(r=d,s=-s,c=h.length):(r=h,i=l,c=d.length),l=Math.ceil(p/Nt),c=l>c?l+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=d.length,s=h.length,c-s<0&&(s=c,r=h,h=d,d=r),n=0;s;)n=(d[--s]=d[s]+h[s]+n)/Tn|0,d[s]%=Tn;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,Dt?wt(e,p):e}function sa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ol+t)}function Xi(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=Nt-r.length,n&&(s+=Ls(n)),s+=r;l=t[e],r=l+"",n=Nt-r.length,n&&(s+=Ls(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ma=(function(){function t(r,i){var s,l=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+l,r[c]=s%Tn|0,l=s/Tn|0;return l&&r.unshift(l),r}function e(r,i,s,l){var c,d;if(s!=l)d=s>l?1:-1;else for(c=d=0;c<s;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*Tn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var c,d,h,m,p,x,_,E,S,T,I,j,L,q,V,F,N,k,D=r.constructor,B=r.s==i.s?1:-1,P=r.d,U=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(ri+"Division by zero");for(d=r.e-i.e,N=U.length,V=P.length,_=new D(B),E=_.d=[],h=0;U[h]==(P[h]||0);)++h;if(U[h]>(P[h]||0)&&--d,s==null?j=s=D.precision:l?j=s+(hn(r)-hn(i))+1:j=s,j<0)return new D(0);if(j=j/Nt+2|0,h=0,N==1)for(m=0,U=U[0],j++;(h<V||m)&&j--;h++)L=m*Tn+(P[h]||0),E[h]=L/U|0,m=L%U|0;else{for(m=Tn/(U[0]+1)|0,m>1&&(U=t(U,m),P=t(P,m),N=U.length,V=P.length),q=N,S=P.slice(0,N),T=S.length;T<N;)S[T++]=0;k=U.slice(),k.unshift(0),F=U[0],U[1]>=Tn/2&&++F;do m=0,c=e(U,S,N,T),c<0?(I=S[0],N!=T&&(I=I*Tn+(S[1]||0)),m=I/F|0,m>1?(m>=Tn&&(m=Tn-1),p=t(U,m),x=p.length,T=S.length,c=e(p,S,x,T),c==1&&(m--,n(p,N<x?k:U,x))):(m==0&&(c=m=1),p=U.slice()),x=p.length,x<T&&p.unshift(0),n(S,p,T),c==-1&&(T=S.length,c=e(U,S,N,T),c<1&&(m++,n(S,N<T?k:U,T))),T=S.length):c===0&&(m++,S=[0]),E[h++]=m,c&&S[0]?S[T++]=P[q]||0:(S=[P[q]],T=1);while((q++<V||S[0]!==void 0)&&j--)}return E[0]||E.shift(),_.e=d,wt(_,l?s+hn(_)+1:s)}})();function WR(t,e){var n,r,i,s,l,c,d=0,h=0,m=t.constructor,p=m.precision;if(hn(t)>16)throw Error(Ww+hn(t));if(!t.s)return new m(kr);for(Dt=!1,c=p,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(Qo(2,h))/Math.LN10*2+5|0,c+=r,n=i=s=new m(kr),m.precision=c;;){if(i=wt(i.times(t),c),n=n.times(++d),l=s.plus(Ma(i,n,c)),Xi(l.d).slice(0,c)===Xi(s.d).slice(0,c)){for(;h--;)s=wt(s.times(s),c);return m.precision=p,e==null?(Dt=!0,wt(s,p)):s}s=l}}function hn(t){for(var e=t.e*Nt,n=t.d[0];n>=10;n/=10)e++;return e}function Xb(t,e,n){if(e>t.LN10.sd())throw Dt=!0,n&&(t.precision=n),Error(ri+"LN10 precision limit exceeded");return wt(new t(t.LN10),e)}function Ls(t){for(var e="";t--;)e+="0";return e}function ed(t,e){var n,r,i,s,l,c,d,h,m,p=1,x=10,_=t,E=_.d,S=_.constructor,T=S.precision;if(_.s<1)throw Error(ri+(_.s?"NaN":"-Infinity"));if(_.eq(kr))return new S(0);if(e==null?(Dt=!1,h=T):h=e,_.eq(10))return e==null&&(Dt=!0),Xb(S,h);if(h+=x,S.precision=h,n=Xi(E),r=n.charAt(0),s=hn(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Xi(_.d),r=n.charAt(0),p++;s=hn(_),r>1?(_=new S("0."+n),s++):_=new S(r+"."+n.slice(1))}else return d=Xb(S,h+2,T).times(s+""),_=ed(new S(r+"."+n.slice(1)),h-x).plus(d),S.precision=T,e==null?(Dt=!0,wt(_,T)):_;for(c=l=_=Ma(_.minus(kr),_.plus(kr),h),m=wt(_.times(_),h),i=3;;){if(l=wt(l.times(m),h),d=c.plus(Ma(l,new S(i),h)),Xi(d.d).slice(0,h)===Xi(c.d).slice(0,h))return c=c.times(2),s!==0&&(c=c.plus(Xb(S,h+2,T).times(s+""))),c=Ma(c,new S(p),h),S.precision=T,e==null?(Dt=!0,wt(c,T)):c;c=d,i+=2}}function xI(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ec(n/Nt),t.d=[],r=(n+1)%Nt,n<0&&(r+=Nt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Nt;r<i;)t.d.push(+e.slice(r,r+=Nt));e=e.slice(r),r=Nt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Dt&&(t.e>qg||t.e<-qg))throw Error(Ww+n)}else t.s=0,t.e=0,t.d=[0];return t}function wt(t,e,n){var r,i,s,l,c,d,h,m,p=t.d;for(l=1,s=p[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=Nt,i=e,h=p[m=0];else{if(m=Math.ceil((r+1)/Nt),s=p.length,m>=s)return t;for(h=s=p[m],l=1;s>=10;s/=10)l++;r%=Nt,i=r-Nt+l}if(n!==void 0&&(s=Qo(10,l-i-1),c=h/s%10|0,d=e<0||p[m+1]!==void 0||h%s,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?h/Qo(10,l-i):0:p[m-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return d?(s=hn(t),p.length=1,e=e-s-1,p[0]=Qo(10,(Nt-e%Nt)%Nt),t.e=ec(-e/Nt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=m,s=1,m--):(p.length=m+1,s=Qo(10,Nt-r),p[m]=i>0?(h/Qo(10,l-i)%Qo(10,i)|0)*s:0),d)for(;;)if(m==0){(p[0]+=s)==Tn&&(p[0]=1,++t.e);break}else{if(p[m]+=s,p[m]!=Tn)break;p[m--]=0,s=1}for(r=p.length;p[--r]===0;)p.pop();if(Dt&&(t.e>qg||t.e<-qg))throw Error(Ww+hn(t));return t}function XR(t,e){var n,r,i,s,l,c,d,h,m,p,x=t.constructor,_=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),Dt?wt(e,_):e;if(d=t.d,p=e.d,r=e.e,h=t.e,d=d.slice(),l=h-r,l){for(m=l<0,m?(n=d,l=-l,c=p.length):(n=p,r=h,c=d.length),i=Math.max(Math.ceil(_/Nt),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=p.length,m=i<c,m&&(c=i),i=0;i<c;i++)if(d[i]!=p[i]){m=d[i]<p[i];break}l=0}for(m&&(n=d,d=p,p=n,e.s=-e.s),c=d.length,i=p.length-c;i>0;--i)d[c++]=0;for(i=p.length;i>l;){if(d[--i]<p[i]){for(s=i;s&&d[--s]===0;)d[s]=Tn-1;--d[s],d[i]+=Tn}d[i]-=p[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,Dt?wt(e,_):e):new x(0)}function ml(t,e,n){var r,i=hn(t),s=Xi(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Ls(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ls(-i-1)+s,n&&(r=n-l)>0&&(s+=Ls(r))):i>=l?(s+=Ls(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Ls(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Ls(r))),t.s<0?"-"+s:s}function _I(t,e){if(t.length>e)return t.length=e,!0}function QR(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ol+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return xI(l,s.toString())}else if(typeof s!="string")throw Error(ol+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,cF.test(s))xI(l,s);else throw Error(ol+s)}if(i.prototype=Se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=QR,i.config=i.set=fF,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function fF(t){if(!t||typeof t!="object")throw Error(ri+"Object expected");var e,n,r,i=["precision",1,Ju,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ec(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ol+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ol+n+": "+r);return this}var Xw=QR(uF);kr=new Xw(1);const mt=Xw;var dF=t=>t,ZR={},JR=t=>t===ZR,wI=t=>function e(){return arguments.length===0||arguments.length===1&&JR(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},eD=(t,e)=>t===1?e:wI(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==ZR).length;return s>=t?e(...r):eD(t-s,wI(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=r.map(m=>JR(m)?c.shift():m);return e(...h,...c)}))}),$p=t=>eD(t.length,t),u_=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},hF=$p((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),mF=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return dF;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((c,d)=>d(c),s(...arguments))}},c_=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),tD=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((l,c)=>{var d;return l===((d=e)===null||d===void 0?void 0:d[c])})||(e=i,n=t(...i)),n}};function nD(t){var e;return t===0?e=1:e=Math.floor(new mt(t).abs().log(10).toNumber())+1,e}function rD(t,e,n){for(var r=new mt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}$p((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});$p((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});$p((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var iD=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},aD=(t,e,n)=>{if(t.lte(0))return new mt(0);var r=nD(t.toNumber()),i=new mt(10).pow(r),s=t.div(i),l=r!==1?.05:.1,c=new mt(Math.ceil(s.div(l).toNumber())).add(n).mul(l),d=c.mul(i);return e?new mt(d.toNumber()):new mt(Math.ceil(d.toNumber()))},gF=(t,e,n)=>{var r=new mt(1),i=new mt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new mt(10).pow(nD(t)-1),i=new mt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new mt(Math.floor(t)))}else t===0?i=new mt(Math.floor((e-1)/2)):n||(i=new mt(Math.floor(t)));var l=Math.floor((e-1)/2),c=mF(hF(d=>i.add(new mt(d-l).mul(r)).toNumber()),u_);return c(0,e)},sD=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var l=aD(new mt(n).sub(e).div(r-1),i,s),c;e<=0&&n>=0?c=new mt(0):(c=new mt(e).add(n).div(2),c=c.sub(new mt(c).mod(l)));var d=Math.ceil(c.sub(e).div(l).toNumber()),h=Math.ceil(new mt(n).sub(c).div(l).toNumber()),m=d+h+1;return m>r?sD(e,n,r,i,s+1):(m<r&&(h=n>0?h+(r-m):h,d=n>0?d:d+(r-m)),{step:l,tickMin:c.sub(new mt(d).mul(l)),tickMax:c.add(new mt(h).mul(l))})};function pF(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[l,c]=iD([e,n]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...u_(0,r-1).map(()=>1/0)]:[...u_(0,r-1).map(()=>-1/0),c];return e>n?c_(d):d}if(l===c)return gF(l,r,i);var{step:h,tickMin:m,tickMax:p}=sD(l,c,s,i,0),x=rD(m,p.add(new mt(.1).mul(h)),h);return e>n?c_(x):x}function yF(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=iD([n,r]);if(s===-1/0||l===1/0)return[n,r];if(s===l)return[s];var c=Math.max(e,2),d=aD(new mt(l).sub(s).div(c-1),i,0),h=[...rD(new mt(s),new mt(l),d),l];return i===!1&&(h=h.map(m=>Math.round(m))),n>r?c_(h):h}var vF=tD(pF),bF=tD(yF),oD=t=>t.rootProps.maxBarSize,xF=t=>t.rootProps.barGap,lD=t=>t.rootProps.barCategoryGap,_F=t=>t.rootProps.barSize,Cd=t=>t.rootProps.stackOffset,Qw=t=>t.options.chartName,Zw=t=>t.rootProps.syncId,uD=t=>t.rootProps.syncMethod,Jw=t=>t.options.eventEmitter,fn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ca={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Nr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Kp=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},wF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ca.angleAxisId,includeHidden:!1,name:void 0,reversed:Ca.reversed,scale:Ca.scale,tick:Ca.tick,tickCount:void 0,ticks:void 0,type:Ca.type,unit:void 0},EF={allowDataOverflow:Nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nr.scale,tick:Nr.tick,tickCount:Nr.tickCount,ticks:void 0,type:Nr.type,unit:void 0},SF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ca.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ca.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ca.scale,tick:Ca.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},AF={allowDataOverflow:Nr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Nr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nr.scale,tick:Nr.tick,tickCount:Nr.tickCount,ticks:void 0,type:"category",unit:void 0},e1=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?SF:wF,t1=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?AF:EF,Gp=t=>t.polarOptions,n1=J([Xa,Qa,bn],oR),cD=J([Gp,n1],(t,e)=>{if(t!=null)return Gn(t.innerRadius,e,0)}),fD=J([Gp,n1],(t,e)=>{if(t!=null)return Gn(t.outerRadius,e,e*.8)}),TF=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},dD=J([Gp],TF);J([e1,dD],Kp);var hD=J([n1,cD,fD],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});J([t1,hD],Kp);var mD=J([tt,Gp,cD,fD,Xa,Qa],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:c,startAngle:d,endAngle:h}=e;return{cx:Gn(l,i,i/2),cy:Gn(c,s,s/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:h,clockWise:!1}}}),Lt=(t,e)=>e,Id=(t,e,n)=>n;function r1(t){return t==null?void 0:t.id}function gD(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,l=new Map;return t.forEach(c=>{var d,h=(d=c.data)!==null&&d!==void 0?d:r;if(!(h==null||h.length===0)){var m=r1(c);h.forEach((p,x)=>{var _=s==null||i?x:String(Tt(p,s,null)),E=Tt(p,c.dataKey,0),S;l.has(_)?S=l.get(_):S={},Object.assign(S,{[m]:E}),l.set(_,S)})}}),Array.from(l.values())}function Yp(t){return t.stackId!=null&&t.dataKey!=null}var Wp=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Xp(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function OF(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var _n=t=>{var e=tt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},tc=t=>t.tooltip.settings.axisId;function EI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(n),!0).forEach(function(r){CF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CF(t,e,n){return(e=IF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IF(t){var e=NF(t,"string");return typeof e=="symbol"?e:e+""}function NF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f_=[0,"auto"],Cr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},pD=(t,e)=>t.cartesianAxis.xAxis[e],Ja=(t,e)=>{var n=pD(t,e);return n??Cr},Ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:f_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:xd},yD=(t,e)=>t.cartesianAxis.yAxis[e],es=(t,e)=>{var n=yD(t,e);return n??Ir},kF={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},i1=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??kF},zt=(t,e,n)=>{switch(e){case"xAxis":return Ja(t,n);case"yAxis":return es(t,n);case"zAxis":return i1(t,n);case"angleAxis":return e1(t,n);case"radiusAxis":return t1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},PF=(t,e,n)=>{switch(e){case"xAxis":return Ja(t,n);case"yAxis":return es(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Nd=(t,e,n)=>{switch(e){case"xAxis":return Ja(t,n);case"yAxis":return es(t,n);case"angleAxis":return e1(t,n);case"radiusAxis":return t1(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},vD=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function a1(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Qp=t=>t.graphicalItems.cartesianItems,jF=J([Lt,Id],a1),s1=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),kd=J([Qp,zt,jF],s1,{memoizeOptions:{resultEqualityCheck:Xp}}),bD=J([kd],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Yp)),xD=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),RF=J([kd],xD),o1=t=>t.map(e=>e.data).filter(Boolean).flat(1),DF=J([kd],o1,{memoizeOptions:{resultEqualityCheck:Xp}}),l1=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},u1=J([DF,Hp],l1),c1=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Tt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Tt(i,r)}))):t.map(r=>({value:r})),Zp=J([u1,zt,kd],c1);function _D(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function eg(t){if(ia(t)||t instanceof Date){var e=Number(t);if(Qt(e))return e}}function SI(t){if(Array.isArray(t)){var e=[eg(t[0]),eg(t[1])];return hl(e)?e:void 0}var n=eg(t);if(n!=null)return[n,n]}function Ha(t){return t.map(eg).filter(HV)}function MF(t,e,n){return!n||typeof e!="number"||_i(e)?[]:n.length?Ha(n.flatMap(r=>{var i=Tt(t,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!Qt(s)||!Qt(l)))return[e-s,e+l]})):[]}var wn=t=>{var e=_n(t),n=tc(t);return Nd(t,e,n)},wD=J([wn],t=>t==null?void 0:t.dataKey),LF=J([bD,Hp,wn],gD),ED=(t,e,n)=>{var r={},i=e.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[l,c]=s,d=c.map(r1);return[l,{stackedData:h8(t,d,n),graphicalItems:c}]}))},d_=J([LF,bD,Cd],ED),SD=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var l=v8(t,i,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},VF=J([zt],t=>t.allowDataOverflow),f1=t=>{var e;if(t==null||!("domain"in t))return f_;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Ha(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:f_},d1=J([zt],f1),h1=J([d1,VF],KR),zF=J([d_,mo,Lt,h1],SD,{memoizeOptions:{resultEqualityCheck:Wp}}),Jp=t=>t.errorBars,UF=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>_D(n,r)),Hg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),c=Math.max(...s);return[l,c]}},m1=(t,e,n,r,i)=>{var s,l;if(n.length>0&&t.forEach(c=>{n.forEach(d=>{var h,m,p=(h=r[d.id])===null||h===void 0?void 0:h.filter(I=>_D(i,I)),x=Tt(c,(m=e.dataKey)!==null&&m!==void 0?m:d.dataKey),_=MF(c,x,p);if(_.length>=2){var E=Math.min(..._),S=Math.max(..._);(s==null||E<s)&&(s=E),(l==null||S>l)&&(l=S)}var T=SI(x);T!=null&&(s=s==null?T[0]:Math.min(s,T[0]),l=l==null?T[1]:Math.max(l,T[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(c=>{var d=SI(Tt(c,e.dataKey));d!=null&&(s=s==null?d[0]:Math.min(s,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Qt(s)&&Qt(l))return[s,l]},BF=J([u1,zt,RF,Jp,Lt],m1,{memoizeOptions:{resultEqualityCheck:Wp}});function qF(t){var{value:e}=t;if(ia(e)||e instanceof Date)return e}var FF=(t,e,n)=>{var r=t.map(qF).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&XP(r))?fR(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},AD=t=>t.referenceElements.dots,nc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),HF=J([AD,Lt,Id],nc),TD=t=>t.referenceElements.areas,$F=J([TD,Lt,Id],nc),OD=t=>t.referenceElements.lines,KF=J([OD,Lt,Id],nc),CD=(t,e)=>{var n=Ha(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},GF=J(HF,Lt,CD),ID=(t,e)=>{var n=Ha(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},YF=J([$F,Lt],ID);function WF(t){var e;if(t.x!=null)return Ha([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ha(n)}function XF(t){var e;if(t.y!=null)return Ha([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ha(n)}var ND=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?WF(r):XF(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},QF=J([KF,Lt],ND),ZF=J(GF,QF,YF,(t,e,n)=>Hg(t,n,e)),g1=(t,e,n,r,i,s,l,c)=>{if(n!=null)return n;var d=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",h=d?Hg(r,s,i):Hg(s,i);return lF(e,h,t.allowDataOverflow)},JF=J([zt,d1,h1,zF,BF,ZF,tt,Lt],g1,{memoizeOptions:{resultEqualityCheck:Wp}}),eH=[0,1],p1=(t,e,n,r,i,s,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:c,type:d}=t,h=uo(e,s);if(h&&c==null){var m;return fR(0,(m=n==null?void 0:n.length)!==null&&m!==void 0?m:0)}return d==="category"?FF(r,t,h):i==="expand"?eH:l}},y1=J([zt,tt,u1,Zp,Cd,Lt,JF],p1),kD=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:l}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat(pd(s));return c in If?c:"point"}}},rc=J([zt,tt,vD,Qw,Lt],kD);function tH(t){if(t!=null){if(t in If)return If[t]();var e="scale".concat(pd(t));if(e in If)return If[e]()}}function v1(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=tH(e);if(i!=null){var s=i.domain(n).range(r);return l8(s),s}}}var b1=(t,e,n)=>{var r=f1(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&hl(t))return vF(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&hl(t))return bF(t,e.tickCount,e.allowDecimals)}},x1=J([y1,Nd,rc],b1),_1=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&hl(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],l=e[1],c=n[n.length-1];return[Math.min(i,s),Math.max(l,c)]}return e},nH=J([zt,y1,x1,Lt],_1),rH=J(Zp,zt,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ha(t.map(c=>c.value))).sort((c,d)=>c-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s+1]-r[s];n=Math.min(n,l)}return n/i}}),PD=J(rH,tt,lD,bn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Qt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var l=Gn(n,t*s),c=t*s/2;return c-l-(c-l)/s*l}return 0}),iH=(t,e)=>{var n=Ja(t,e);return n==null||typeof n.padding!="string"?0:PD(t,"xAxis",e,n.padding)},aH=(t,e)=>{var n=es(t,e);return n==null||typeof n.padding!="string"?0:PD(t,"yAxis",e,n.padding)},sH=J(Ja,iH,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),oH=J(es,aH,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),lH=J([bn,sH,Dp,Rp,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),uH=J([bn,tt,oH,Dp,Rp,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Pd=(t,e,n,r)=>{var i;switch(e){case"xAxis":return lH(t,n,r);case"yAxis":return uH(t,n,r);case"zAxis":return(i=i1(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return dD(t);case"radiusAxis":return hD(t,n);default:return}},jD=J([zt,Pd],Kp),ic=J([zt,rc,nH,jD],v1);J([kd,Jp,Lt],UF);function RD(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var ey=(t,e)=>e,ty=(t,e,n)=>n,cH=J(Pp,ey,ty,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(RD)),fH=J(jp,ey,ty,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(RD)),DD=(t,e)=>({width:t.width,height:e.height}),dH=(t,e)=>{var n=typeof e.width=="number"?e.width:xd;return{width:n,height:t.height}},MD=J(bn,Ja,DD),hH=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},mH=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},gH=J(Qa,bn,cH,ey,ty,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var d=DD(e,c);l==null&&(l=hH(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;s[c.id]=l-Number(h)*d.height,l+=(h?-1:1)*d.height}),s}),pH=J(Xa,bn,fH,ey,ty,(t,e,n,r,i)=>{var s={},l;return n.forEach(c=>{var d=dH(e,c);l==null&&(l=mH(e,r,t));var h=r==="left"&&!i||r==="right"&&i;s[c.id]=l-Number(h)*d.width,l+=(h?-1:1)*d.width}),s}),yH=(t,e)=>{var n=Ja(t,e);if(n!=null)return gH(t,n.orientation,n.mirror)},vH=J([bn,Ja,yH,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),bH=(t,e)=>{var n=es(t,e);if(n!=null)return pH(t,n.orientation,n.mirror)},xH=J([bn,es,bH,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),LD=J(bn,es,(t,e)=>{var n=typeof e.width=="number"?e.width:xd;return{width:n,height:t.height}}),AI=(t,e,n)=>{switch(e){case"xAxis":return MD(t,n).width;case"yAxis":return LD(t,n).height;default:return}},VD=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,c=uo(t,r),d=e.map(h=>h.value);if(l&&c&&s==="category"&&i&&XP(d))return d}},w1=J([tt,Zp,zt,Lt],VD),zD=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=uo(t,r);if(l&&(i==="number"||s!=="auto"))return e.map(c=>c.value)}},E1=J([tt,Zp,Nd,Lt],zD),TI=J([tt,PF,rc,ic,w1,E1,Pd,x1,Lt],(t,e,n,r,i,s,l,c,d)=>{if(e!=null){var h=uo(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:c,range:l,realScaleType:n,scale:r}}}),_H=(t,e,n,r,i,s,l,c,d)=>{if(!(e==null||r==null)){var h=uo(t,d),{type:m,ticks:p,tickCount:x}=e,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,E=m==="category"&&r.bandwidth?r.bandwidth()/_:0;E=d==="angleAxis"&&s!=null&&s.length>=2?Cn(s[0]-s[1])*2*E:E;var S=p||i;if(S){var T=S.map((I,j)=>{var L=l?l.indexOf(I):I;return{index:j,coordinate:r(L)+E,value:I,offset:E}});return T.filter(I=>Qt(I.coordinate))}return h&&c?c.map((I,j)=>({coordinate:r(I)+E,value:I,index:j,offset:E})).filter(I=>Qt(I.coordinate)):r.ticks?r.ticks(x).map(I=>({coordinate:r(I)+E,value:I,offset:E})):r.domain().map((I,j)=>({coordinate:r(I)+E,value:l?l[I]:I,index:j,offset:E}))}},UD=J([tt,Nd,rc,ic,x1,Pd,w1,E1,Lt],_H),wH=(t,e,n,r,i,s,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=uo(t,l),{tickCount:d}=e,h=0;return h=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Cn(r[0]-r[1])*2*h:h,c&&s?s.map((m,p)=>({coordinate:n(m)+h,value:m,index:p,offset:h})):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+h,value:m,offset:h})):n.domain().map((m,p)=>({coordinate:n(m)+h,value:i?i[m]:m,index:p,offset:h}))}},Js=J([tt,Nd,ic,Pd,w1,E1,Lt],wH),eo=J(zt,ic,(t,e)=>{if(!(t==null||e==null))return Fg(Fg({},t),{},{scale:e})}),EH=J([zt,rc,y1,jD],v1);J((t,e,n)=>i1(t,n),EH,(t,e)=>{if(!(t==null||e==null))return Fg(Fg({},t),{},{scale:e})});var SH=J([tt,Pp,jp],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),BD=t=>t.options.defaultTooltipEventType,qD=t=>t.options.validateTooltipEventTypes;function FD(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function S1(t,e){var n=BD(t),r=qD(t);return FD(e,n,r)}function AH(t){return Te(e=>S1(e,t))}var HD=(t,e)=>{var n,r=Number(e);if(!(_i(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},TH=t=>t.tooltip.settings,zs={active:!1,index:null,dataKey:void 0,coordinate:void 0},OH={itemInteraction:{click:zs,hover:zs},axisInteraction:{click:zs,hover:zs},keyboardInteraction:zs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},$D=pr({name:"tooltip",initialState:OH,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:yn()},removeTooltipEntrySettings:{reducer(t,e){var n=Da(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:yn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:CH,removeTooltipEntrySettings:IH,setTooltipSettingsState:NH,setActiveMouseOverItemIndex:KD,mouseLeaveItem:kH,mouseLeaveChart:GD,setActiveClickItemIndex:PH,setMouseOverAxisIndex:YD,setMouseClickAxisIndex:jH,setSyncInteraction:h_,setKeyboardInteraction:m_}=$D.actions,RH=$D.reducer;function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){DH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DH(t,e,n){return(e=MH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MH(t){var e=LH(t,"string");return typeof e=="symbol"?e:e+""}function LH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VH(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function zH(t){return t.index!=null}var WD=(t,e,n,r)=>{if(e==null)return zs;var i=VH(t,e,n);if(i==null)return zs;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(zH(i)){if(s)return Um(Um({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Um(Um({},zs),{},{coordinate:i.coordinate})},A1=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!Qt(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},XD=(t,e,n,r,i,s,l,c)=>{if(!(s==null||c==null)){var d=l[0],h=d==null?void 0:c(d.positions,s);if(h!=null)return h;var m=i==null?void 0:i[Number(s)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},QD=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===i})},jd=t=>t.options.tooltipPayloadSearcher,ac=t=>t.tooltip;function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function II(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){UH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UH(t,e,n){return(e=BH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BH(t){var e=qH(t,"string");return typeof e=="symbol"?e:e+""}function qH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FH(t,e){return t??e}var ZD=(t,e,n,r,i,s,l)=>{if(!(e==null||s==null)){var{chartData:c,computedData:d,dataStartIndex:h,dataEndIndex:m}=n,p=[];return t.reduce((x,_)=>{var E,{dataDefinedOnItem:S,settings:T}=_,I=FH(S,c),j=Array.isArray(I)?Bj(I,h,m):I,L=(E=T==null?void 0:T.dataKey)!==null&&E!==void 0?E:r,q=T==null?void 0:T.nameKey,V;if(r&&Array.isArray(j)&&!Array.isArray(j[0])&&l==="axis"?V=QP(j,r,i):V=s(j,e,d,q),Array.isArray(V))V.forEach(N=>{var k=II(II({},T),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});x.push(tC({tooltipEntrySettings:k,dataKey:N.dataKey,payload:N.payload,value:Tt(N.payload,N.dataKey),name:N.name}))});else{var F;x.push(tC({tooltipEntrySettings:T,dataKey:L,payload:V,value:Tt(V,L),name:(F=Tt(V,q))!==null&&F!==void 0?F:T==null?void 0:T.name}))}return x},p)}},T1=J([wn,tt,vD,Qw,_n],kD),HH=J([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),$H=J([_n,tc],a1),Rd=J([HH,wn,$H],s1,{memoizeOptions:{resultEqualityCheck:Xp}}),KH=J([Rd],t=>t.filter(Yp)),GH=J([Rd],o1,{memoizeOptions:{resultEqualityCheck:Xp}}),sc=J([GH,mo],l1),YH=J([KH,mo,wn],gD),O1=J([sc,wn,Rd],c1),JD=J([wn],f1),WH=J([wn],t=>t.allowDataOverflow),eM=J([JD,WH],KR),XH=J([Rd],t=>t.filter(Yp)),QH=J([YH,XH,Cd],ED),ZH=J([QH,mo,_n,eM],SD),JH=J([Rd],xD),e$=J([sc,wn,JH,Jp,_n],m1,{memoizeOptions:{resultEqualityCheck:Wp}}),t$=J([AD,_n,tc],nc),n$=J([t$,_n],CD),r$=J([TD,_n,tc],nc),i$=J([r$,_n],ID),a$=J([OD,_n,tc],nc),s$=J([a$,_n],ND),o$=J([n$,s$,i$],Hg),l$=J([wn,JD,eM,ZH,e$,o$,tt,_n],g1),tM=J([wn,tt,sc,O1,Cd,_n,l$],p1),u$=J([tM,wn,T1],b1),c$=J([wn,tM,u$,_n],_1),nM=t=>{var e=_n(t),n=tc(t),r=!1;return Pd(t,e,n,r)},rM=J([wn,nM],Kp),iM=J([wn,T1,c$,rM],v1),f$=J([tt,O1,wn,_n],VD),d$=J([tt,O1,wn,_n],zD),h$=(t,e,n,r,i,s,l,c)=>{if(e){var{type:d}=e,h=uo(t,c);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;return p=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Cn(i[0]-i[1])*2*p:p,h&&l?l.map((x,_)=>({coordinate:r(x)+p,value:x,index:_,offset:p})):r.domain().map((x,_)=>({coordinate:r(x)+p,value:s?s[x]:x,index:_,offset:p}))}}},ts=J([tt,wn,T1,iM,nM,f$,d$,_n],h$),C1=J([BD,qD,TH],(t,e,n)=>FD(n.shared,t,e)),aM=t=>t.tooltip.settings.trigger,I1=t=>t.tooltip.settings.defaultIndex,ny=J([ac,C1,aM,I1],WD),to=J([ny,sc],A1),sM=J([ts,to],HD),oM=J([ny],t=>{if(t)return t.dataKey}),lM=J([ac,C1,aM,I1],QD),m$=J([Xa,Qa,tt,bn,ts,I1,lM,jd],XD),g$=J([ny,m$],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),p$=J([ny],t=>t.active),y$=J([lM,to,mo,wD,sM,jd,C1],ZD),v$=J([y$],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){b$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b$(t,e,n){return(e=x$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x$(t){var e=_$(t,"string");return typeof e=="symbol"?e:e+""}function _$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w$=()=>Te(wn),E$=()=>{var t=w$(),e=Te(ts),n=Te(iM);return Mu(!t||!n?void 0:kI(kI({},t),{},{scale:n}),e)};function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){S$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S$(t,e,n){return(e=A$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A$(t){var e=T$(t,"string");return typeof e=="symbol"?e:e+""}function T$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O$=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},C$=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:l}=r;return bu(bu(bu({},r),cn(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,{angle:d}=r;return bu(bu(bu({},r),cn(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function I$(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var uM=(t,e,n,r,i)=>{var s,l=-1,c=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var h=d>0?n[d-1].coordinate:n[c-1].coordinate,m=n[d].coordinate,p=d>=c-1?n[0].coordinate:n[d+1].coordinate,x=void 0;if(Cn(m-h)!==Cn(p-m)){var _=[];if(Cn(p-m)===Cn(i[1]-i[0])){x=p;var E=m+i[1]-i[0];_[0]=Math.min(E,(E+h)/2),_[1]=Math.max(E,(E+h)/2)}else{x=h;var S=p+i[1]-i[0];_[0]=Math.min(m,(S+m)/2),_[1]=Math.max(m,(S+m)/2)}var T=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(t>T[0]&&t<=T[1]||t>=_[0]&&t<=_[1]){({index:l}=n[d]);break}}else{var I=Math.min(h,p),j=Math.max(h,p);if(t>(I+m)/2&&t<=(j+m)/2){({index:l}=n[d]);break}}}else if(e){for(var L=0;L<c;L++)if(L===0&&t<=(e[L].coordinate+e[L+1].coordinate)/2||L>0&&L<c-1&&t>(e[L].coordinate+e[L-1].coordinate)/2&&t<=(e[L].coordinate+e[L+1].coordinate)/2||L===c-1&&t>(e[L].coordinate+e[L-1].coordinate)/2){({index:l}=e[L]);break}}return l},N$=()=>Te(Qw),N1=(t,e)=>e,cM=(t,e,n)=>n,k1=(t,e,n,r)=>r,k$=J(ts,t=>Tp(t,e=>e.coordinate)),P1=J([ac,N1,cM,k1],WD),fM=J([P1,sc],A1),P$=(t,e,n)=>{if(e!=null){var r=ac(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},dM=J([ac,N1,cM,k1],QD),$g=J([Xa,Qa,tt,bn,ts,k1,dM,jd],XD),j$=J([P1,$g],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),hM=J([ts,fM],HD),R$=J([dM,fM,mo,wD,hM,jd,N1],ZD),D$=J([P1],t=>({isActive:t.active,activeIndex:t.index})),M$=(t,e,n,r,i,s,l)=>{if(!(!t||!n||!r||!i)&&I$(t,l)){var c=b8(t,e),d=uM(c,s,i,n,r),h=O$(e,i,d,t);return{activeIndex:String(d),activeCoordinate:h}}},L$=(t,e,n,r,i,s,l)=>{if(!(!t||!r||!i||!s||!n)){var c=S7(t,n);if(c){var d=x8(c,e),h=uM(d,l,s,r,i),m=C$(e,s,h,c);return{activeIndex:String(h),activeCoordinate:m}}}},V$=(t,e,n,r,i,s,l,c)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?M$(t,e,r,i,s,l,c):L$(t,e,n,r,i,s,l)},z$=J(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),U$=J(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(fn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:OF}});function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){B$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B$(t,e,n){return(e=q$(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q$(t){var e=F$(t,"string");return typeof e=="symbol"?e:e+""}function F$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H$={},$$={zIndexMap:Object.values(fn).reduce((t,e)=>RI(RI({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),H$)},K$=new Set(Object.values(fn));function G$(t){return K$.has(t)}var mM=pr({name:"zIndex",initialState:$$,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:yn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!G$(n)&&delete t.zIndexMap[n])},prepare:yn()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:yn()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:yn()}}}),{registerZIndexPortal:Y$,unregisterZIndexPortal:W$,registerZIndexPortalId:X$,unregisterZIndexPortalId:Q$}=mM.actions,Z$=mM.reducer;function yr(t){var{zIndex:e,children:n}=t,r=Q8(),i=r&&e!==void 0&&e!==0,s=Wn(),l=Ot();w.useLayoutEffect(()=>i?(l(Y$({zIndex:e})),()=>{l(W$({zIndex:e}))}):Sl,[l,e,i]);var c=Te(h=>z$(h,e,s));if(!i)return n;if(!c)return null;var d=document.getElementById(c);return d?iw.createPortal(n,d):null}function g_(){return g_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g_.apply(null,arguments)}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){J$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J$(t,e,n){return(e=eK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eK(t){var e=tK(t,"string");return typeof e=="symbol"?e:e+""}function tK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nK(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return w.isValidElement(e)?w.cloneElement(e,r):w.createElement(n,r)}function rK(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:h,chartName:m}=t,p=n,x=r,_=i;if(!d||!p||m!=="ScatterChart"&&h!=="axis")return null;var E,S,T;if(m==="ScatterChart")E=p,S=UU,T=fn.cursorLine;else if(m==="BarChart")E=BU(c,p,s,l),S=sR,T=fn.cursorRectangle;else if(c==="radial"&&JP(p)){var{cx:I,cy:j,radius:L,startAngle:q,endAngle:V}=lR(p);E={cx:I,cy:j,startAngle:q,endAngle:V,innerRadius:L,outerRadius:L},S=cR,T=fn.cursorLine}else E={points:C7(c,p,s)},S=Sw,T=fn.cursorLine;var F=typeof d=="object"&&"className"in d?d.className:void 0,N=Bm(Bm(Bm(Bm({stroke:"#ccc",pointerEvents:"none"},s),E),ul(d)),{},{payload:x,payloadIndex:_,className:at("recharts-tooltip-cursor",F)});return w.createElement(yr,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:T},w.createElement(nK,{cursor:d,cursorComp:S,cursorProps:N}))}function iK(t){var e=E$(),n=Qj(),r=_d(),i=N$();return e==null||n==null||r==null||i==null?null:w.createElement(rK,g_({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var gM=w.createContext(null),aK=()=>w.useContext(gM),Qb={exports:{}},MI;function sK(){return MI||(MI=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,h,m){this.fn=d,this.context=h,this.once=m||!1}function s(d,h,m,p,x){if(typeof m!="function")throw new TypeError("The listener must be a function");var _=new i(m,p||d,x),E=n?n+h:h;return d._events[E]?d._events[E].fn?d._events[E]=[d._events[E],_]:d._events[E].push(_):(d._events[E]=_,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new r:delete d._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],m,p;if(this._eventsCount===0)return h;for(p in m=this._events)e.call(m,p)&&h.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},c.prototype.listeners=function(h){var m=n?n+h:h,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var x=0,_=p.length,E=new Array(_);x<_;x++)E[x]=p[x].fn;return E},c.prototype.listenerCount=function(h){var m=n?n+h:h,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(h,m,p,x,_,E){var S=n?n+h:h;if(!this._events[S])return!1;var T=this._events[S],I=arguments.length,j,L;if(T.fn){switch(T.once&&this.removeListener(h,T.fn,void 0,!0),I){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,m),!0;case 3:return T.fn.call(T.context,m,p),!0;case 4:return T.fn.call(T.context,m,p,x),!0;case 5:return T.fn.call(T.context,m,p,x,_),!0;case 6:return T.fn.call(T.context,m,p,x,_,E),!0}for(L=1,j=new Array(I-1);L<I;L++)j[L-1]=arguments[L];T.fn.apply(T.context,j)}else{var q=T.length,V;for(L=0;L<q;L++)switch(T[L].once&&this.removeListener(h,T[L].fn,void 0,!0),I){case 1:T[L].fn.call(T[L].context);break;case 2:T[L].fn.call(T[L].context,m);break;case 3:T[L].fn.call(T[L].context,m,p);break;case 4:T[L].fn.call(T[L].context,m,p,x);break;default:if(!j)for(V=1,j=new Array(I-1);V<I;V++)j[V-1]=arguments[V];T[L].fn.apply(T[L].context,j)}}return!0},c.prototype.on=function(h,m,p){return s(this,h,m,p,!1)},c.prototype.once=function(h,m,p){return s(this,h,m,p,!0)},c.prototype.removeListener=function(h,m,p,x){var _=n?n+h:h;if(!this._events[_])return this;if(!m)return l(this,_),this;var E=this._events[_];if(E.fn)E.fn===m&&(!x||E.once)&&(!p||E.context===p)&&l(this,_);else{for(var S=0,T=[],I=E.length;S<I;S++)(E[S].fn!==m||x&&!E[S].once||p&&E[S].context!==p)&&T.push(E[S]);T.length?this._events[_]=T.length===1?T[0]:T:l(this,_)}return this},c.prototype.removeAllListeners=function(h){var m;return h?(m=n?n+h:h,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(Qb)),Qb.exports}var oK=sK();const lK=la(oK);var td=new lK,p_="recharts.syncEvent.tooltip",LI="recharts.syncEvent.brush";function j1(t,e){if(e){var n=Number.parseInt(e,10);if(!_i(n))return t==null?void 0:t[n]}}var uK={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},pM=pr({name:"options",initialState:uK,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),cK=pM.reducer,{createEventEmitter:fK}=pM.actions;function dK(t){return t.tooltip.syncInteraction}var hK={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},yM=pr({name:"chartData",initialState:hK,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:VI,setDataStartEndIndexes:mK,setComputedData:zoe}=yM.actions,gK=yM.reducer,pK=["x","y"];function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){yK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yK(t,e,n){return(e=vK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vK(t){var e=bK(t,"string");return typeof e=="symbol"?e:e+""}function bK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xK(t,e){if(t==null)return{};var n,r,i=_K(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _K(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wK(){var t=Te(Zw),e=Te(Jw),n=Ot(),r=Te(uD),i=Te(ts),s=_d(),l=Mp(),c=Te(d=>d.rootProps.className);w.useEffect(()=>{if(t==null)return Sl;var d=(h,m,p)=>{if(e!==p&&t===h){if(r==="index"){var x;if(l&&m!==null&&m!==void 0&&(x=m.payload)!==null&&x!==void 0&&x.coordinate&&m.payload.sourceViewBox){var _=m.payload.coordinate,{x:E,y:S}=_,T=xK(_,pK),{x:I,y:j,width:L,height:q}=m.payload.sourceViewBox,V=xu(xu({},T),{},{x:l.x+(L?(E-I)/L:0)*l.width,y:l.y+(q?(S-j)/q:0)*l.height});n(xu(xu({},m),{},{payload:xu(xu({},m.payload),{},{coordinate:V})}))}else n(m);return}if(i!=null){var F;if(typeof r=="function"){var N={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},k=r(i,N);F=i[k]}else r==="value"&&(F=i.find(W=>String(W.value)===m.payload.label));var{coordinate:D}=m.payload;if(F==null||m.payload.active===!1||D==null||l==null){n(h_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:B,y:P}=D,U=Math.min(B,l.x+l.width),M=Math.min(P,l.y+l.height),he={x:s==="horizontal"?F.coordinate:U,y:s==="horizontal"?M:F.coordinate},be=h_({active:m.payload.active,coordinate:he,dataKey:m.payload.dataKey,index:String(F.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox});n(be)}}};return td.on(p_,d),()=>{td.off(p_,d)}},[c,n,e,t,r,i,s,l])}function EK(){var t=Te(Zw),e=Te(Jw),n=Ot();w.useEffect(()=>{if(t==null)return Sl;var r=(i,s,l)=>{e!==l&&t===i&&n(mK(s))};return td.on(LI,r),()=>{td.off(LI,r)}},[n,e,t])}function SK(){var t=Ot();w.useEffect(()=>{t(fK())},[t]),wK(),EK()}function AK(t,e,n,r,i,s){var l=Te(_=>P$(_,t,e)),c=Te(Jw),d=Te(Zw),h=Te(uD),m=Te(dK),p=m==null?void 0:m.active,x=Mp();w.useEffect(()=>{if(!p&&d!=null&&c!=null){var _=h_({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:x});td.emit(p_,d,_,c)}},[p,n,l,i,r,c,d,h,s,x])}function UI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(n),!0).forEach(function(r){TK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TK(t,e,n){return(e=OK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OK(t){var e=CK(t,"string");return typeof e=="symbol"?e:e+""}function CK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IK(t){return t.dataKey}function NK(t,e){return w.isValidElement(t)?w.cloneElement(t,e):typeof t=="function"?w.createElement(t,e):w.createElement(vU,e)}var qI=[],kK={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!co.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function nd(t){var e,n,r=mn(t,kK),{active:i,allowEscapeViewBox:s,animationDuration:l,animationEasing:c,content:d,filterNull:h,isAnimationActive:m,offset:p,payloadUniqBy:x,position:_,reverseDirection:E,useTranslate3d:S,wrapperStyle:T,cursor:I,shared:j,trigger:L,defaultIndex:q,portal:V,axisId:F}=r,N=Ot(),k=typeof q=="number"?String(q):q;w.useEffect(()=>{N(NH({shared:j,trigger:L,axisId:F,active:i,defaultIndex:k}))},[N,j,L,F,i,k]);var D=Mp(),B=tR(),P=AH(j),{activeIndex:U,isActive:M}=(e=Te(pe=>D$(pe,P,L,k)))!==null&&e!==void 0?e:{},he=Te(pe=>R$(pe,P,L,k)),be=Te(pe=>hM(pe,P,L,k)),W=Te(pe=>j$(pe,P,L,k)),te=he,G=aK(),ce=(n=i??M)!==null&&n!==void 0?n:!1,[xe,$]=mj([te,ce]),re=P==="axis"?be:void 0;AK(P,L,W,re,U,ce);var ge=V??G;if(ge==null||D==null||P==null)return null;var ve=te??qI;ce||(ve=qI),h&&ve.length&&(ve=uj(ve.filter(pe=>pe.value!=null&&(pe.hide!==!0||r.includeHidden)),x,IK));var me=ve.length>0,ye=w.createElement(AU,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:m,active:ce,coordinate:W,hasPayload:me,offset:p,position:_,reverseDirection:E,useTranslate3d:S,viewBox:D,wrapperStyle:T,lastBoundingBox:xe,innerRef:$,hasPortalFromProps:!!V},NK(d,BI(BI({},r),{},{payload:ve,label:re,active:ce,activeIndex:U,coordinate:W,accessibilityLayer:B})));return w.createElement(w.Fragment,null,iw.createPortal(ye,ge),ce&&w.createElement(iK,{cursor:I,tooltipEventType:P,coordinate:W,payload:ve,index:U}))}var Dd=t=>null;Dd.displayName="Cell";function PK(t,e,n){return(e=jK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jK(t){var e=RK(t,"string");return typeof e=="symbol"?e:e+""}function RK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class DK{constructor(e){PK(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function FI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(n),!0).forEach(function(r){LK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LK(t,e,n){return(e=VK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VK(t){var e=zK(t,"string");return typeof e=="symbol"?e:e+""}function zK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UK={cacheSize:2e3,enableCache:!0},vM=MK({},UK),HI=new DK(vM.cacheSize),BK={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$I="recharts_measurement_span";function qK(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(l,"|").concat(c)}var KI=(t,e)=>{try{var n=document.getElementById($I);n||(n=document.createElement("span"),n.setAttribute("id",$I),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,BK,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Mf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||co.isSsr)return{width:0,height:0};if(!vM.enableCache)return KI(e,n);var r=qK(e,n),i=HI.get(r);if(i)return i;var s=KI(e,n);return HI.set(r,s),s},GI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FK=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,HK=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$K=Object.keys(bM),Tu="NaN";function KK(t,e){return t*bM[e]}class dr{static parse(e){var n,[,r,i]=(n=HK.exec(e))!==null&&n!==void 0?n:[];return new dr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,_i(e)&&(this.unit=""),n!==""&&!FK.test(n)&&(this.num=NaN,this.unit=""),$K.includes(n)&&(this.num=KK(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new dr(NaN,""):new dr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new dr(NaN,""):new dr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new dr(NaN,""):new dr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new dr(NaN,""):new dr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _i(this.num)}}function xM(t){if(t.includes(Tu))return Tu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=GI.exec(e))!==null&&n!==void 0?n:[],l=dr.parse(r??""),c=dr.parse(s??""),d=i==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Tu;e=e.replace(GI,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,m,p,x]=(h=YI.exec(e))!==null&&h!==void 0?h:[],_=dr.parse(m??""),E=dr.parse(x??""),S=p==="+"?_.add(E):_.subtract(E);if(S.isNaN())return Tu;e=e.replace(YI,S.toString())}return e}var WI=/\(([^()]*)\)/;function GK(t){for(var e=t,n;(n=WI.exec(e))!=null;){var[,r]=n;e=e.replace(WI,xM(r))}return e}function YK(t){var e=t.replace(/\s+/g,"");return e=GK(e),e=xM(e),e}function WK(t){try{return YK(t)}catch{return Tu}}function Zb(t){var e=WK(t.slice(5,-1));return e===Tu?"":e}var XK=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],QK=["dx","dy","angle","className","breakAll"];function y_(){return y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y_.apply(null,arguments)}function XI(t,e){if(t==null)return{};var n,r,i=ZK(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ZK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _M=/[ \f\n\r\t\v\u2028\u2029]+/,wM=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Mt(e)||(n?i=e.toString().split(""):i=e.toString().split(_M));var s=i.map(c=>({word:c,width:Mf(c,r).width})),l=n?0:Mf("",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function JK(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var EM=(t,e,n,r)=>t.reduce((i,s)=>{var{word:l,width:c}=s,d=i[i.length-1];if(d&&c!=null&&(e==null||r||d.width+c+n<Number(e)))d.words.push(l),d.width+=c+n;else{var h={words:[l],width:c};i.push(h)}return i},[]),SM=t=>t.reduce((e,n)=>e.width>n.width?e:n),eG="",QI=(t,e,n,r,i,s,l,c)=>{var d=t.slice(0,e),h=wM({breakAll:n,style:r,children:d+eG});if(!h)return[!1,[]];var m=EM(h.wordsWithComputedWidth,s,l,c),p=m.length>i||SM(m).width>Number(s);return[p,m]},tG=(t,e,n,r,i)=>{var{maxLines:s,children:l,style:c,breakAll:d}=t,h=Ce(s),m=String(l),p=EM(e,r,n,i);if(!h||i)return p;var x=p.length>s||SM(p).width>Number(r);if(!x)return p;for(var _=0,E=m.length-1,S=0,T;_<=E&&S<=m.length-1;){var I=Math.floor((_+E)/2),j=I-1,[L,q]=QI(m,j,d,c,s,r,n,i),[V]=QI(m,I,d,c,s,r,n,i);if(!L&&!V&&(_=I+1),L&&V&&(E=I-1),!L&&V){T=q;break}S++}return T||p},ZI=t=>{var e=Mt(t)?[]:t.toString().split(_M);return[{words:e,width:void 0}]},nG=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=t;if((e||n)&&!co.isSsr){var c,d,h=wM({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:m,spaceWidth:p}=h;c=m,d=p}else return ZI(r);return tG({breakAll:s,children:r,maxLines:l,style:i},c,d,e,!!n)}return ZI(r)},AM="#808080",rG={breakAll:!1,capHeight:"0.71em",fill:AM,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ry=w.forwardRef((t,e)=>{var n=mn(t,rG),{x:r,y:i,lineHeight:s,capHeight:l,fill:c,scaleToFit:d,textAnchor:h,verticalAnchor:m}=n,p=XI(n,XK),x=w.useMemo(()=>nG({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:_,dy:E,angle:S,className:T,breakAll:I}=p,j=XI(p,QK);if(!ia(r)||!ia(i)||x.length===0)return null;var L=Number(r)+(Ce(_)?_:0),q=Number(i)+(Ce(E)?E:0);if(!Qt(L)||!Qt(q))return null;var V;switch(m){case"start":V=Zb("calc(".concat(l,")"));break;case"middle":V=Zb("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:V=Zb("calc(".concat(x.length-1," * -").concat(s,")"));break}var F=[];if(d){var N=x[0].width,{width:k}=p;F.push("scale(".concat(Ce(k)&&Ce(N)?k/N:1,")"))}return S&&F.push("rotate(".concat(S,", ").concat(L,", ").concat(q,")")),F.length&&(j.transform=F.join(" ")),w.createElement("text",y_({},nr(j),{ref:e,x:L,y:q,className:at("recharts-text",T),textAnchor:h,fill:c.includes("url")?AM:c}),x.map((D,B)=>{var P=D.words.join(I?"":" ");return w.createElement("tspan",{x:L,dy:B===0?V:s,key:"".concat(P,"-").concat(B)},P)}))});ry.displayName="Text";var iG=["labelRef"];function aG(t,e){if(t==null)return{};var n,r,i=sG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){oG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oG(t,e,n){return(e=lG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lG(t){var e=uG(t,"string");return typeof e=="symbol"?e:e+""}function uG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ia(){return Ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ia.apply(null,arguments)}var TM=w.createContext(null),cG=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l,children:c}=t,d=w.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:l}),[e,n,r,i,s,l]);return w.createElement(TM.Provider,{value:d},c)},OM=()=>{var t=w.useContext(TM),e=Mp();return t||Xj(e)},fG=w.createContext(null),dG=()=>{var t=w.useContext(fG),e=Te(mD);return t||e},hG=t=>{var{value:e,formatter:n}=t,r=Mt(t.children)?e:t.children;return typeof n=="function"?n(r):r},R1=t=>t!=null&&typeof t=="function",mG=(t,e)=>{var n=Cn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},gG=(t,e,n,r,i)=>{var{offset:s,className:l}=t,{cx:c,cy:d,innerRadius:h,outerRadius:m,startAngle:p,endAngle:x,clockWise:_}=i,E=(h+m)/2,S=mG(p,x),T=S>=0?1:-1,I,j;switch(e){case"insideStart":I=p+T*s,j=_;break;case"insideEnd":I=x-T*s,j=!_;break;case"end":I=x+T*s,j=_;break;default:throw new Error("Unsupported position ".concat(e))}j=S<=0?j:!j;var L=cn(c,d,E,I),q=cn(c,d,E,I+(j?1:-1)*359),V="M".concat(L.x,",").concat(L.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(j?0:1,`,
    `).concat(q.x,",").concat(q.y),F=Mt(t.id)?Hf("recharts-radial-line-"):t.id;return w.createElement("text",Ia({},r,{dominantBaseline:"central",className:at("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:F,d:V})),w.createElement("textPath",{xlinkHref:"#".concat(F)},n))},pG=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:c,endAngle:d}=t,h=(c+d)/2;if(n==="outside"){var{x:m,y:p}=cn(r,i,l+e,h);return{x:m,y:p,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var x=(s+l)/2,{x:_,y:E}=cn(r,i,x,h);return{x:_,y:E,textAnchor:"middle",verticalAnchor:"middle"}},v_=t=>"cx"in t&&Ce(t.cx),yG=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!v_(n)&&(s=n);var{x:l,y:c,upperWidth:d,lowerWidth:h,height:m}=e,p=l,x=l+(d-h)/2,_=(p+x)/2,E=(d+h)/2,S=p+d/2,T=m>=0?1:-1,I=T*r,j=T>0?"end":"start",L=T>0?"start":"end",q=d>=0?1:-1,V=q*r,F=q>0?"end":"start",N=q>0?"start":"end";if(i==="top"){var k={x:p+d/2,y:c-I,textAnchor:"middle",verticalAnchor:j};return Yt(Yt({},k),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var D={x:x+h/2,y:c+m+I,textAnchor:"middle",verticalAnchor:L};return Yt(Yt({},D),s?{height:Math.max(s.y+s.height-(c+m),0),width:h}:{})}if(i==="left"){var B={x:_-V,y:c+m/2,textAnchor:F,verticalAnchor:"middle"};return Yt(Yt({},B),s?{width:Math.max(B.x-s.x,0),height:m}:{})}if(i==="right"){var P={x:_+E+V,y:c+m/2,textAnchor:N,verticalAnchor:"middle"};return Yt(Yt({},P),s?{width:Math.max(s.x+s.width-P.x,0),height:m}:{})}var U=s?{width:E,height:m}:{};return i==="insideLeft"?Yt({x:_+V,y:c+m/2,textAnchor:N,verticalAnchor:"middle"},U):i==="insideRight"?Yt({x:_+E-V,y:c+m/2,textAnchor:F,verticalAnchor:"middle"},U):i==="insideTop"?Yt({x:p+d/2,y:c+I,textAnchor:"middle",verticalAnchor:L},U):i==="insideBottom"?Yt({x:x+h/2,y:c+m-I,textAnchor:"middle",verticalAnchor:j},U):i==="insideTopLeft"?Yt({x:p+V,y:c+I,textAnchor:N,verticalAnchor:L},U):i==="insideTopRight"?Yt({x:p+d-V,y:c+I,textAnchor:F,verticalAnchor:L},U):i==="insideBottomLeft"?Yt({x:x+V,y:c+m-I,textAnchor:N,verticalAnchor:j},U):i==="insideBottomRight"?Yt({x:x+h-V,y:c+m-I,textAnchor:F,verticalAnchor:j},U):i&&typeof i=="object"&&(Ce(i.x)||za(i.x))&&(Ce(i.y)||za(i.y))?Yt({x:l+Gn(i.x,E),y:c+Gn(i.y,m),textAnchor:"end",verticalAnchor:"end"},U):Yt({x:S,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},U)},vG={offset:5,zIndex:fn.label};function Vs(t){var e=mn(t,vG),{viewBox:n,position:r,value:i,children:s,content:l,className:c="",textBreakAll:d,labelRef:h}=e,m=dG(),p=OM(),x=r==="center"?p:m??p,_,E,S;if(n==null?_=x:v_(n)?_=n:_=Xj(n),!_||Mt(i)&&Mt(s)&&!w.isValidElement(l)&&typeof l!="function")return null;var T=Yt(Yt({},e),{},{viewBox:_});if(w.isValidElement(l)){var{labelRef:I}=T,j=aG(T,iG);return w.cloneElement(l,j)}if(typeof l=="function"){if(E=w.createElement(l,T),w.isValidElement(E))return E}else E=hG(e);var L=nr(e);if(v_(_)){if(r==="insideStart"||r==="insideEnd"||r==="end")return gG(e,r,E,L,_);S=pG(_,e.offset,e.position)}else S=yG(e,_);return w.createElement(yr,{zIndex:e.zIndex},w.createElement(ry,Ia({ref:h,className:at("recharts-label",c)},L,S,{textAnchor:JK(L.textAnchor)?L.textAnchor:S.textAnchor,breakAll:d}),E))}Vs.displayName="Label";var bG=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?w.createElement(Vs,Ia({key:"label-implicit"},r)):ia(t)?w.createElement(Vs,Ia({key:"label-implicit",value:t},r)):w.isValidElement(t)?t.type===Vs?w.cloneElement(t,Yt({key:"label-implicit"},r)):w.createElement(Vs,Ia({key:"label-implicit",content:t},r)):R1(t)?w.createElement(Vs,Ia({key:"label-implicit",content:t},r)):t&&typeof t=="object"?w.createElement(Vs,Ia({},t,{key:"label-implicit"},r)):null};function xG(t){var{label:e,labelRef:n}=t,r=OM();return bG(e,r,n)||null}var Jb={},ex={},eN;function _G(){return eN||(eN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(ex)),ex}var tx={},tN;function wG(){return tN||(tN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(tx)),tx}var nN;function EG(){return nN||(nN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_G(),n=wG(),r=hw();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(Jb)),Jb}var nx,rN;function SG(){return rN||(rN=1,nx=EG().last),nx}var AG=SG();const TG=la(AG);var OG=["valueAccessor"],CG=["dataKey","clockWise","id","textBreakAll","zIndex"];function Kg(){return Kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kg.apply(null,arguments)}function iN(t,e){if(t==null)return{};var n,r,i=IG(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function IG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var NG=t=>Array.isArray(t.value)?TG(t.value):t.value,CM=w.createContext(void 0),IM=CM.Provider,NM=w.createContext(void 0),kG=NM.Provider;function PG(){return w.useContext(CM)}function jG(){return w.useContext(NM)}function tg(t){var{valueAccessor:e=NG}=t,n=iN(t,OG),{dataKey:r,clockWise:i,id:s,textBreakAll:l,zIndex:c}=n,d=iN(n,CG),h=PG(),m=jG(),p=h||m;return!p||!p.length?null:w.createElement(yr,{zIndex:c??fn.label},w.createElement(In,{className:"recharts-label-list"},p.map((x,_)=>{var E,S=Mt(r)?e(x,_):Tt(x&&x.payload,r),T=Mt(s)?{}:{id:"".concat(s,"-").concat(_)};return w.createElement(Vs,Kg({key:"label-".concat(_)},nr(x),d,T,{fill:(E=n.fill)!==null&&E!==void 0?E:x.fill,parentViewBox:x.parentViewBox,value:S,textBreakAll:l,viewBox:x.viewBox,index:_,zIndex:0}))})))}tg.displayName="LabelList";function D1(t){var{label:e}=t;return e?e===!0?w.createElement(tg,{key:"labelList-implicit"}):w.isValidElement(e)||R1(e)?w.createElement(tg,{key:"labelList-implicit",content:e}):typeof e=="object"?w.createElement(tg,Kg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function b_(){return b_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b_.apply(null,arguments)}var kM=t=>{var{cx:e,cy:n,r,className:i}=t,s=at("recharts-dot",i);return Ce(e)&&Ce(n)&&Ce(r)?w.createElement("circle",b_({},Rr(t),dw(t),{className:s,cx:e,cy:n,r})):null},PM=t=>t.graphicalItems.polarItems,RG=J([Lt,Id],a1),iy=J([PM,zt,RG],s1),DG=J([iy],o1),ay=J([DG,Yw],l1),MG=J([ay,zt,iy],c1);J([ay,zt,iy],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,l=Tt(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:Tt(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var aN=()=>{},LG=J([ay,zt,iy,Jp,Lt],m1),VG=J([zt,d1,h1,aN,LG,aN,tt,Lt],g1),jM=J([zt,tt,ay,MG,Cd,Lt,VG],p1),zG=J([jM,zt,rc],b1);J([zt,jM,zG,Lt],_1);var UG={radiusAxis:{},angleAxis:{}},RM=pr({name:"polarAxis",initialState:UG,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Uoe,removeRadiusAxis:Boe,addAngleAxis:qoe,removeAngleAxis:Foe}=RM.actions,BG=RM.reducer;function sN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(n),!0).forEach(function(r){qG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qG(t,e,n){return(e=FG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FG(t){var e=HG(t,"string");return typeof e=="symbol"?e:e+""}function HG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $G=(t,e)=>e,M1=J([PM,$G],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),KG=[],L1=(t,e,n)=>(n==null?void 0:n.length)===0?KG:n,DM=J([Yw,M1,L1],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>oN(oN({},e.presentationProps),s.props))),i!=null)return i}}),GG=J([DM,M1,L1],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,l=Tt(r,e.nameKey,e.name),c;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?c=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?c=r.fill:c=e.fill,{value:Qu(l,e.dataKey),color:c,payload:r,type:e.legendType}})}),YG=J([DM,M1,L1,bn],(t,e,n,r)=>{if(!(e==null||t==null))return GY({offset:r,pieSettings:e,displayedData:t,cells:n})}),rx={exports:{}},bt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lN;function WG(){if(lN)return bt;lN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function E(S){if(typeof S=="object"&&S!==null){var T=S.$$typeof;switch(T){case t:switch(S=S.type,S){case n:case i:case r:case d:case h:case x:return S;default:switch(S=S&&S.$$typeof,S){case l:case c:case p:case m:return S;case s:return S;default:return T}}case e:return T}}}return bt.ContextConsumer=s,bt.ContextProvider=l,bt.Element=t,bt.ForwardRef=c,bt.Fragment=n,bt.Lazy=p,bt.Memo=m,bt.Portal=e,bt.Profiler=i,bt.StrictMode=r,bt.Suspense=d,bt.SuspenseList=h,bt.isContextConsumer=function(S){return E(S)===s},bt.isContextProvider=function(S){return E(S)===l},bt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},bt.isForwardRef=function(S){return E(S)===c},bt.isFragment=function(S){return E(S)===n},bt.isLazy=function(S){return E(S)===p},bt.isMemo=function(S){return E(S)===m},bt.isPortal=function(S){return E(S)===e},bt.isProfiler=function(S){return E(S)===i},bt.isStrictMode=function(S){return E(S)===r},bt.isSuspense=function(S){return E(S)===d},bt.isSuspenseList=function(S){return E(S)===h},bt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===d||S===h||typeof S=="object"&&S!==null&&(S.$$typeof===p||S.$$typeof===m||S.$$typeof===l||S.$$typeof===s||S.$$typeof===c||S.$$typeof===_||S.getModuleId!==void 0)},bt.typeOf=E,bt}var uN;function XG(){return uN||(uN=1,rx.exports=WG()),rx.exports}var QG=XG(),cN=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",fN=null,ix=null,MM=t=>{if(t===fN&&Array.isArray(ix))return ix;var e=[];return w.Children.forEach(t,n=>{Mt(n)||(QG.isFragment(n)?e=e.concat(MM(n.props.children)):e.push(n))}),ix=e,fN=t,e};function V1(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>cN(i)):r=[cN(e)],MM(t).forEach(i=>{var s=cl(i,"type.displayName")||cl(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var LM=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,ax={},dN;function ZG(){return dN||(dN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(ax)),ax}var sx,hN;function JG(){return hN||(hN=1,sx=ZG().isPlainObject),sx}var eY=JG();const tY=la(eY);function mN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(n),!0).forEach(function(r){nY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nY(t,e,n){return(e=rY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rY(t){var e=iY(t,"string");return typeof e=="symbol"?e:e+""}function iY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(null,arguments)}var pN=(t,e,n,r,i)=>{var s=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-s/2,",").concat(e+i),l+="L ".concat(t+n-s/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},aY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sY=t=>{var e=mn(t,aY),{x:n,y:r,upperWidth:i,lowerWidth:s,height:l,className:c}=e,{animationEasing:d,animationDuration:h,animationBegin:m,isUpdateAnimationActive:p}=e,x=w.useRef(null),[_,E]=w.useState(-1),S=w.useRef(i),T=w.useRef(s),I=w.useRef(l),j=w.useRef(n),L=w.useRef(r),q=Ed(t,"trapezoid-");if(w.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var he=x.current.getTotalLength();he&&E(he)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||l!==+l||i===0&&s===0||l===0)return null;var V=at("recharts-trapezoid",c);if(!p)return w.createElement("g",null,w.createElement("path",Gg({},nr(e),{className:V,d:pN(n,r,i,s,l)})));var F=S.current,N=T.current,k=I.current,D=j.current,B=L.current,P="0px ".concat(_===-1?1:_,"px"),U="".concat(_,"px 0px"),M=nR(["strokeDasharray"],h,d);return w.createElement(wd,{animationId:q,key:q,canBegin:_>0,duration:h,easing:d,isActive:p,begin:m},he=>{var be=jt(F,i,he),W=jt(N,s,he),te=jt(k,l,he),G=jt(D,n,he),ce=jt(B,r,he);x.current&&(S.current=be,T.current=W,I.current=te,j.current=G,L.current=ce);var xe=he>0?{transition:M,strokeDasharray:U}:{strokeDasharray:P};return w.createElement("path",Gg({},nr(e),{className:V,d:pN(G,ce,be,W,te),ref:x,style:gN(gN({},xe),e.style)}))})},oY=["option","shapeType","propTransformer","activeClassName","isActive"];function lY(t,e){if(t==null)return{};var n,r,i=uY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yN(Object(n),!0).forEach(function(r){cY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cY(t,e,n){return(e=fY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fY(t){var e=dY(t,"string");return typeof e=="symbol"?e:e+""}function dY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hY(t,e){return Yg(Yg({},e),t)}function mY(t,e){return t==="symbols"}function vN(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return w.createElement(sR,n);case"trapezoid":return w.createElement(sY,n);case"sector":return w.createElement(cR,n);case"symbols":if(mY(e))return w.createElement(fw,n);break;case"curve":return w.createElement(Sw,n);default:return null}}function gY(t){return w.isValidElement(t)?t.props:t}function z1(t){var{option:e,shapeType:n,propTransformer:r=hY,activeClassName:i="recharts-active-shape",isActive:s}=t,l=lY(t,oY),c;if(w.isValidElement(e))c=w.cloneElement(e,Yg(Yg({},l),gY(e)));else if(typeof e=="function")c=e(l);else if(tY(e)&&typeof e!="boolean"){var d=r(e,l);c=w.createElement(vN,{shapeType:n,elementProps:d})}else{var h=l;c=w.createElement(vN,{shapeType:n,elementProps:h})}return s?w.createElement(In,{className:i},c):c}var U1=(t,e)=>{var n=Ot();return(r,i)=>s=>{t==null||t(r,i,s),n(KD({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},B1=t=>{var e=Ot();return(n,r)=>i=>{t==null||t(n,r,i),e(kH())}},q1=(t,e)=>{var n=Ot();return(r,i)=>s=>{t==null||t(r,i,s),n(PH({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function F1(t){var{fn:e,args:n}=t,r=Ot(),i=Wn();return w.useLayoutEffect(()=>{if(!i){var s=e(n);return r(CH(s)),()=>{r(IH(s))}}},[e,n,r,i]),null}function VM(t){var{legendPayload:e}=t,n=Ot(),r=Wn();return w.useLayoutEffect(()=>r?Sl:(n(Jj(e)),()=>{n(eR(e))}),[n,r,e]),null}function pY(t){var{legendPayload:e}=t,n=Ot(),r=Te(tt);return w.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?Sl:(n(Jj(e)),()=>{n(eR(e))}),[n,r,e]),null}var ox,yY=()=>{var[t]=w.useState(()=>Hf("uid-"));return t},vY=(ox=ML.useId)!==null&&ox!==void 0?ox:yY;function zM(t,e){var n=vY();return e||(t?"".concat(t,"-").concat(n):n)}var bY=w.createContext(void 0),H1=t=>{var{id:e,type:n,children:r}=t,i=zM("recharts-".concat(n),e);return w.createElement(bY.Provider,{value:i},r(i))},xY={cartesianItems:[],polarItems:[]},UM=pr({name:"graphicalItems",initialState:xY,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:yn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Da(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:yn()},removeCartesianGraphicalItem:{reducer(t,e){var n=Da(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:yn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:yn()},removePolarGraphicalItem:{reducer(t,e){var n=Da(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:yn()}}}),{addCartesianGraphicalItem:_Y,replaceCartesianGraphicalItem:wY,removeCartesianGraphicalItem:EY,addPolarGraphicalItem:SY,removePolarGraphicalItem:AY}=UM.actions,TY=UM.reducer;function BM(t){var e=Ot(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?e(_Y(t)):n.current!==t&&e(wY({prev:n.current,next:t})),n.current=t},[e,t]),w.useLayoutEffect(()=>()=>{n.current&&(e(EY(n.current)),n.current=null)},[e]),null}function OY(t){var e=Ot();return w.useLayoutEffect(()=>(e(SY(t)),()=>{e(AY(t))}),[e,t]),null}var CY=["onMouseEnter","onClick","onMouseLeave"],IY=["id"],NY=["id"];function $1(t,e){if(t==null)return{};var n,r,i=kY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bN(Object(n),!0).forEach(function(r){PY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PY(t,e,n){return(e=jY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jY(t){var e=RY(t,"string");return typeof e=="symbol"?e:e+""}function RY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function no(){return no=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},no.apply(null,arguments)}function DY(t){var e=w.useMemo(()=>V1(t.children,Dd),[t.children]),n=Te(r=>GG(r,t.id,e));return n==null?null:w.createElement(pY,{legendPayload:n})}function MY(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:l,name:c,hide:d,tooltipType:h}=t;return{dataDefinedOnItem:r.map(m=>m.tooltipPayload),positions:r.map(m=>m.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:l,dataKey:e,nameKey:n,name:Qu(c,e),hide:d,type:h,color:l,unit:""}}}var LY=(t,e)=>t>e?"start":t<e?"end":"middle",VY=(t,e,n)=>Gn(typeof e=="function"?e(t):e,n,n*.8),zY=(t,e,n)=>{var{top:r,left:i,width:s,height:l}=e,c=oR(s,l),d=i+Gn(t.cx,s,s/2),h=r+Gn(t.cy,l,l/2),m=Gn(t.innerRadius,c,0),p=VY(n,t.outerRadius,c),x=t.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:d,cy:h,innerRadius:m,outerRadius:p,maxRadius:x}},UY=(t,e)=>{var n=Cn(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function BY(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var qY=(t,e)=>{if(w.isValidElement(t))return w.cloneElement(t,e);if(typeof t=="function")return t(e);var n=at("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return w.createElement(Sw,no({},e,{type:"linear",className:n}))},FY=(t,e,n)=>{if(w.isValidElement(t))return w.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),w.isValidElement(r)))return r;var i=at("recharts-pie-label-text",BY(t));return w.createElement(ry,no({},e,{alignmentBaseline:"middle",className:i}),r)};function HY(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:l}=n;if(!r||!i||!e)return null;var c=Rr(n),d=ul(i),h=ul(s),m=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=e.map((x,_)=>{var E=(x.startAngle+x.endAngle)/2,S=cn(x.cx,x.cy,x.outerRadius+m,E),T=Rt(Rt(Rt(Rt({},c),x),{},{stroke:"none"},d),{},{index:_,textAnchor:LY(S.x,x.cx)},S),I=Rt(Rt(Rt(Rt({},c),x),{},{fill:"none",stroke:x.fill},h),{},{index:_,points:[cn(x.cx,x.cy,x.outerRadius,E),S],key:"line"});return w.createElement(yr,{zIndex:fn.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(_)},w.createElement(In,null,s&&qY(s,I),FY(i,T,Tt(x,l))))});return w.createElement(In,{className:"recharts-pie-labels"},p)}function $Y(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?w.createElement(D1,{label:i}):w.createElement(HY,{sectors:e,props:n,showLabels:r})}function KY(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,s=Te(to),{onMouseEnter:l,onClick:c,onMouseLeave:d}=i,h=$1(i,CY),m=U1(l,i.dataKey),p=B1(d),x=q1(c,i.dataKey);return e==null||e.length===0?null:w.createElement(w.Fragment,null,e.map((_,E)=>{if((_==null?void 0:_.startAngle)===0&&(_==null?void 0:_.endAngle)===0&&e.length!==1)return null;var S=n&&String(E)===s,T=s?r:null,I=S?n:T,j=Rt(Rt({},_),{},{stroke:_.stroke,tabIndex:-1,[$j]:E,[Kj]:i.dataKey});return w.createElement(In,no({key:"sector-".concat(_==null?void 0:_.startAngle,"-").concat(_==null?void 0:_.endAngle,"-").concat(_.midAngle,"-").concat(E),tabIndex:-1,className:"recharts-pie-sector"},yd(h,_,E),{onMouseEnter:m(_,E),onMouseLeave:p(_,E),onClick:x(_,E)}),w.createElement(z1,no({option:I,isActive:S,shapeType:"sector"},j)))}))}function GY(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:h,nameKey:m,tooltipType:p}=n,x=Math.abs(n.minAngle),_=UY(c,d),E=Math.abs(_),S=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,T=r.filter(F=>Tt(F,h,0)!==0).length,I=(E>=360?T:T-1)*S,j=E-T*x-I,L=r.reduce((F,N)=>{var k=Tt(N,h,0);return F+(Ce(k)?k:0)},0),q;if(L>0){var V;q=r.map((F,N)=>{var k=Tt(F,h,0),D=Tt(F,m,N),B=zY(n,s,F),P=(Ce(k)?k:0)/L,U,M=Rt(Rt({},F),i&&i[N]&&i[N].props);N?U=V.endAngle+Cn(_)*S*(k!==0?1:0):U=c;var he=U+Cn(_)*((k!==0?x:0)+P*j),be=(U+he)/2,W=(B.innerRadius+B.outerRadius)/2,te=[{name:D,value:k,payload:M,dataKey:h,type:p}],G=cn(B.cx,B.cy,W,be);return V=Rt(Rt(Rt(Rt({},n.presentationProps),{},{percent:P,cornerRadius:typeof l=="string"?parseFloat(l):l,name:D,tooltipPayload:te,midAngle:be,middleRadius:W,tooltipPosition:G},M),B),{},{value:k,startAngle:U,endAngle:he,payload:M,paddingAngle:Cn(_)*S}),V})}return q}function YY(t){var{showLabels:e,sectors:n,children:r}=t,i=w.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return w.createElement(kG,{value:e?i:void 0},r)}function WY(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:l,animationEasing:c,activeShape:d,inactiveShape:h,onAnimationStart:m,onAnimationEnd:p}=e,x=Ed(e,"recharts-pie-"),_=n.current,[E,S]=w.useState(!1),T=w.useCallback(()=>{typeof p=="function"&&p(),S(!1)},[p]),I=w.useCallback(()=>{typeof m=="function"&&m(),S(!0)},[m]);return w.createElement(YY,{showLabels:!E,sectors:r},w.createElement(wd,{animationId:x,begin:s,duration:l,isActive:i,easing:c,onAnimationStart:I,onAnimationEnd:T,key:x},j=>{var L=[],q=r&&r[0],V=q==null?void 0:q.startAngle;return r==null||r.forEach((F,N)=>{var k=_&&_[N],D=N>0?cl(F,"paddingAngle",0):0;if(k){var B=jt(k.endAngle-k.startAngle,F.endAngle-F.startAngle,j),P=Rt(Rt({},F),{},{startAngle:V+D,endAngle:V+B+D});L.push(P),V=P.endAngle}else{var{endAngle:U,startAngle:M}=F,he=jt(0,U-M,j),be=Rt(Rt({},F),{},{startAngle:V+D,endAngle:V+he+D});L.push(be),V=be.endAngle}}),n.current=L,w.createElement(In,null,w.createElement(KY,{sectors:L,activeShape:d,inactiveShape:h,allOtherPieProps:e}))}),w.createElement($Y,{showLabels:!E,sectors:r,props:e}),e.children)}var XY={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!co.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:fn.area};function QY(t){var{id:e}=t,n=$1(t,IY),{hide:r,className:i,rootTabIndex:s}=t,l=w.useMemo(()=>V1(t.children,Dd),[t.children]),c=Te(m=>YG(m,e,l)),d=w.useRef(null),h=at("recharts-pie",i);return r||c==null?(d.current=null,w.createElement(In,{tabIndex:s,className:h})):w.createElement(yr,{zIndex:t.zIndex},w.createElement(F1,{fn:MY,args:Rt(Rt({},t),{},{sectors:c})}),w.createElement(In,{tabIndex:s,className:h},w.createElement(WY,{props:Rt(Rt({},n),{},{sectors:c}),previousSectorsRef:d})))}function qM(t){var e=mn(t,XY),{id:n}=e,r=$1(e,NY),i=Rr(r);return w.createElement(H1,{id:n,type:"pie"},s=>w.createElement(w.Fragment,null,w.createElement(OY,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),w.createElement(DY,no({},r,{id:s})),w.createElement(QY,no({},r,{id:s}))))}qM.displayName="Pie";var ZY=["points"];function xN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(n),!0).forEach(function(r){JY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JY(t,e,n){return(e=eW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eW(t){var e=tW(t,"string");return typeof e=="symbol"?e:e+""}function tW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wg(){return Wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wg.apply(null,arguments)}function nW(t,e){if(t==null)return{};var n,r,i=rW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function iW(t){var{option:e,dotProps:n,className:r}=t;if(w.isValidElement(e))return w.cloneElement(e,n);if(typeof e=="function")return e(n);var i=at(r,typeof e!="boolean"?e.className:""),s=n??{},{points:l}=s,c=nW(s,ZY);return w.createElement(kM,Wg({},c,{className:i}))}function aW(t,e){return t==null?!1:e?!0:t.length===1}function sW(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:l,needClip:c,clipPathId:d,zIndex:h=fn.scatter}=t;if(!aW(e,n))return null;var m=LM(n),p=ZL(n),x=e.map((E,S)=>{var T,I,j=lx(lx(lx({r:3},l),p),{},{index:S,cx:(T=E.x)!==null&&T!==void 0?T:void 0,cy:(I=E.y)!==null&&I!==void 0?I:void 0,dataKey:s,value:E.value,payload:E.payload,points:e});return w.createElement(iW,{key:"dot-".concat(S),option:n,dotProps:j,className:i})}),_={};return c&&d!=null&&(_.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(d,")")),w.createElement(yr,{zIndex:h},w.createElement(In,Wg({className:r},_),x))}function _N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(n),!0).forEach(function(r){oW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oW(t,e,n){return(e=lW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lW(t){var e=uW(t,"string");return typeof e=="symbol"?e:e+""}function uW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cW={xAxis:{},yAxis:{},zAxis:{}},FM=pr({name:"cartesianAxis",initialState:cW,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:yn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:yn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:yn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:yn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:yn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:yn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var l=[...s,r].slice(-3);t.yAxis[n]=wN(wN({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:fW,removeXAxis:dW,addYAxis:hW,removeYAxis:mW,addZAxis:Hoe,removeZAxis:$oe,updateYAxisWidth:gW}=FM.actions,pW=FM.reducer,yW=J([bn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),vW=J([yW,Xa,Qa],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),K1=()=>Te(vW),bW=()=>Te(v$);function EN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ux(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EN(Object(n),!0).forEach(function(r){xW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xW(t,e,n){return(e=_W(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _W(t){var e=wW(t,"string");return typeof e=="symbol"?e:e+""}function wW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EW=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var l={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},c=ux(ux(ux({},l),ul(i)),dw(i)),d;return w.isValidElement(i)?d=w.cloneElement(i,c):typeof i=="function"?d=i(c):d=w.createElement(kM,c),w.createElement(In,{className:"recharts-active-dot"},d)};function SW(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,zIndex:s=fn.activeDot}=t,l=Te(to),c=bW();if(e==null||c==null)return null;var d=e.find(h=>c.includes(h.payload));return Mt(d)?null:w.createElement(yr,{zIndex:s},w.createElement(EW,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r}))}var AW="Invariant failed";function TW(t,e){throw new Error(AW)}var OW=["x","y"];function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x_.apply(null,arguments)}function SN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(n),!0).forEach(function(r){CW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CW(t,e,n){return(e=IW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IW(t){var e=NW(t,"string");return typeof e=="symbol"?e:e+""}function NW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kW(t,e){if(t==null)return{};var n,r,i=PW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function PW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jW(t,e){var{x:n,y:r}=t,i=kW(t,OW),s="".concat(n),l=parseInt(s,10),c="".concat(r),d=parseInt(c,10),h="".concat(e.height||i.height),m=parseInt(h,10),p="".concat(e.width||i.width),x=parseInt(p,10);return Tf(Tf(Tf(Tf(Tf({},e),i),l?{x:l}:{}),d?{y:d}:{}),{},{height:m,width:x,name:e.name,radius:e.radius})}function Xg(t){return w.createElement(z1,x_({shapeType:"rectangle",propTransformer:jW,activeClassName:"recharts-active-bar"},t))}var RW=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ce(e))return e;var s=Ce(r)||Mt(r);return s?e(r,i):(s||TW(),n)}},DW={},HM=pr({name:"errorBars",initialState:DW,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Koe,replaceErrorBar:Goe,removeErrorBar:Yoe}=HM.actions,MW=HM.reducer,LW=["children"];function VW(t,e){if(t==null)return{};var n,r,i=zW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var UW={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},BW=w.createContext(UW);function $M(t){var{children:e}=t,n=VW(t,LW);return w.createElement(BW.Provider,{value:n},e)}function G1(t,e){var n,r,i=Te(h=>Ja(h,t)),s=Te(h=>es(h,e)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Cr.allowDataOverflow,c=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Ir.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function KM(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=K1(),{needClipX:s,needClipY:l,needClip:c}=G1(e,n);if(!c||!i)return null;var{x:d,y:h,width:m,height:p}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:s?d:d-m/2,y:l?h:h-p/2,width:s?m:m*2,height:l?p:p*2}))}function qW(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Qt(t.zIndex)?t.zIndex:e}var FW=["onMouseEnter","onMouseLeave","onClick"],HW=["value","background","tooltipPosition"],$W=["id"],KW=["onMouseEnter","onClick","onMouseLeave"];function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$a.apply(null,arguments)}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){GW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GW(t,e,n){return(e=YW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YW(t){var e=WW(t,"string");return typeof e=="symbol"?e:e+""}function WW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qg(t,e){if(t==null)return{};var n,r,i=XW(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function XW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var QW=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Qu(n,e),payload:t}]};function ZW(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:c}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Qu(s,e),hide:l,type:t.tooltipType,color:t.fill,unit:c}}}function JW(t){var e=Te(to),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:l,onMouseLeave:c,onClick:d}=s,h=Qg(s,FW),m=U1(l,r),p=B1(c),x=q1(d,r);if(!i||n==null)return null;var _=ul(i);return w.createElement(yr,{zIndex:qW(i,fn.barBackground)},n.map((E,S)=>{var{value:T,background:I,tooltipPosition:j}=E,L=Qg(E,HW);if(!I)return null;var q=m(E,S),V=p(E,S),F=x(E,S),N=Jn(Jn(Jn(Jn(Jn({option:i,isActive:String(S)===e},L),{},{fill:"#eee"},I),_),yd(h,E,S)),{},{onMouseEnter:q,onMouseLeave:V,onClick:F,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return w.createElement(Xg,$a({key:"background-bar-".concat(S)},N))}))}function eX(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(s=>{var l={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Jn(Jn({},l),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:l,fill:s.fill})});return w.createElement(IM,{value:e?i:void 0},n)}function tX(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:l}=t,c=Te(to),d=Te(oM),h=n&&String(s)===c&&(d==null||l===d),m=h?n:e;return h?w.createElement(yr,{zIndex:fn.activeBar},w.createElement(Xg,$a({},r,{name:String(r.name)},i,{isActive:h,option:m,index:s,dataKey:l}))):w.createElement(Xg,$a({},r,{name:String(r.name)},i,{isActive:h,option:m,index:s,dataKey:l}))}function nX(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return w.createElement(Xg,$a({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function rX(t){var e,{data:n,props:r}=t,i=(e=Rr(r))!==null&&e!==void 0?e:{},{id:s}=i,l=Qg(i,$W),{shape:c,dataKey:d,activeBar:h}=r,{onMouseEnter:m,onClick:p,onMouseLeave:x}=r,_=Qg(r,KW),E=U1(m,d),S=B1(x),T=q1(p,d);return n?w.createElement(w.Fragment,null,n.map((I,j)=>w.createElement(In,$a({key:"rectangle-".concat(I==null?void 0:I.x,"-").concat(I==null?void 0:I.y,"-").concat(I==null?void 0:I.value,"-").concat(j),className:"recharts-bar-rectangle"},yd(_,I,j),{onMouseEnter:E(I,j),onMouseLeave:S(I,j),onClick:T(I,j)}),h?w.createElement(tX,{shape:c,activeBar:h,baseProps:l,entry:I,index:j,dataKey:d}):w.createElement(nX,{shape:c,baseProps:l,entry:I,index:j,dataKey:d})))):null}function iX(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:h,onAnimationStart:m}=e,p=n.current,x=Ed(e,"recharts-bar-"),[_,E]=w.useState(!1),S=!_,T=w.useCallback(()=>{typeof h=="function"&&h(),E(!1)},[h]),I=w.useCallback(()=>{typeof m=="function"&&m(),E(!0)},[m]);return w.createElement(eX,{showLabels:S,rects:r},w.createElement(wd,{animationId:x,begin:l,duration:c,isActive:s,easing:d,onAnimationEnd:T,onAnimationStart:I,key:x},j=>{var L=j===1?r:r==null?void 0:r.map((q,V)=>{var F=p&&p[V];if(F)return Jn(Jn({},q),{},{x:jt(F.x,q.x,j),y:jt(F.y,q.y,j),width:jt(F.width,q.width,j),height:jt(F.height,q.height,j)});if(i==="horizontal"){var N=jt(0,q.height,j),k=jt(q.stackedBarStart,q.y,j);return Jn(Jn({},q),{},{y:k,height:N})}var D=jt(0,q.width,j),B=jt(q.stackedBarStart,q.x,j);return Jn(Jn({},q),{},{width:D,x:B})});return j>0&&(n.current=L??null),L==null?null:w.createElement(In,null,w.createElement(rX,{props:e,data:L}))}),w.createElement(D1,{label:e.label}),e.children)}function aX(t){var e=w.useRef(null);return w.createElement(iX,{previousRectanglesRef:e,props:t})}var GM=0,sX=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Tt(t,e)}};class oX extends w.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:c,background:d,id:h}=this.props;if(e||n==null)return null;var m=at("recharts-bar",i),p=h;return w.createElement(In,{className:m,id:h},c&&w.createElement("defs",null,w.createElement(KM,{clipPathId:p,xAxisId:s,yAxisId:l})),w.createElement(In,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):void 0},w.createElement(JW,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),w.createElement(aX,this.props)))}}var lX={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!co.isSsr,legendType:"rect",minPointSize:GM,xAxisId:0,yAxisId:0,zIndex:fn.bar};function uX(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:h,isAnimationActive:m}=t,{needClip:p}=G1(e,n),x=_d(),_=Wn(),E=V1(t.children,Dd),S=Te(j=>LX(j,e,n,_,t.id,E));if(x!=="vertical"&&x!=="horizontal")return null;var T,I=S==null?void 0:S[0];return I==null||I.height==null||I.width==null?T=0:T=x==="vertical"?I.height/2:I.width/2,w.createElement($M,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:sX,errorBarOffset:T},w.createElement(oX,$a({},t,{layout:x,needClip:p,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:h,isAnimationActive:m})))}function cX(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:c,xAxisTicks:d,yAxisTicks:h,stackedData:m,displayedData:p,offset:x,cells:_,parentViewBox:E,dataStartIndex:S}=t,T=e==="horizontal"?c:l,I=m?T.scale.domain():null,j=g8({numericAxis:T}),L=T.scale(j);return p.map((q,V)=>{var F,N,k,D,B,P;m?F=u8(m[V+S],I):(F=Tt(q,n),Array.isArray(F)||(F=[j,F]));var U=RW(r,GM)(F[1],V);if(e==="horizontal"){var M,[he,be]=[c.scale(F[0]),c.scale(F[1])];N=ZO({axis:l,ticks:d,bandSize:s,offset:i.offset,entry:q,index:V}),k=(M=be??he)!==null&&M!==void 0?M:void 0,D=i.size;var W=he-be;if(B=_i(W)?0:W,P={x:N,y:x.top,width:D,height:x.height},Math.abs(U)>0&&Math.abs(B)<Math.abs(U)){var te=Cn(B||U)*(Math.abs(U)-Math.abs(B));k-=te,B+=te}}else{var[G,ce]=[l.scale(F[0]),l.scale(F[1])];if(N=G,k=ZO({axis:c,ticks:h,bandSize:s,offset:i.offset,entry:q,index:V}),D=ce-G,B=i.size,P={x:x.left,y:k,width:x.width,height:B},Math.abs(U)>0&&Math.abs(D)<Math.abs(U)){var xe=Cn(D||U)*(Math.abs(U)-Math.abs(D));D+=xe}}if(N==null||k==null||D==null||B==null)return null;var $=Jn(Jn({},q),{},{stackedBarStart:L,x:N,y:k,width:D,height:B,value:m?F:F[1],payload:q,background:P,tooltipPosition:{x:N+D/2,y:k+B/2},parentViewBox:E},_&&_[V]&&_[V].props);return $}).filter(Boolean)}function fX(t){var e=mn(t,lX),n=Wn();return w.createElement(H1,{id:e.id,type:"bar"},r=>w.createElement(w.Fragment,null,w.createElement(VM,{legendPayload:QW(e)}),w.createElement(F1,{fn:ZW,args:e}),w.createElement(BM,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:m8(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),w.createElement(yr,{zIndex:e.zIndex},w.createElement(uX,$a({},e,{id:r})))))}var sy=w.memo(fX);sy.displayName="Bar";function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){dX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dX(t,e,n){return(e=hX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hX(t){var e=mX(t,"string");return typeof e=="symbol"?e:e+""}function mX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gX=(t,e)=>e,pX=(t,e,n)=>n,yX=(t,e,n,r)=>r,vX=(t,e,n,r,i)=>i,Md=J([Qp,vX],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),bX=J([Md],t=>t==null?void 0:t.maxBarSize),xX=(t,e,n,r,i,s)=>s,ON=(t,e,n)=>{var r=n??t;if(!Mt(r))return Gn(r,e,0)},_X=J([tt,Qp,gX,pX,yX],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),wX=(t,e,n,r)=>{var i=tt(t);return i==="horizontal"?d_(t,"yAxis",n,r):d_(t,"xAxis",e,r)},EX=(t,e,n)=>{var r=tt(t);return r==="horizontal"?AI(t,"xAxis",e):AI(t,"yAxis",n)},SX=(t,e,n)=>{var r={},i=t.filter(Yp),s=t.filter(h=>h.stackId==null),l=i.reduce((h,m)=>(h[m.stackId]||(h[m.stackId]=[]),h[m.stackId].push(m),h),r),c=Object.entries(l).map(h=>{var[m,p]=h,x=p.map(E=>E.dataKey),_=ON(e,n,p[0].barSize);return{stackId:m,dataKeys:x,barSize:_}}),d=s.map(h=>{var m=[h.dataKey].filter(x=>x!=null),p=ON(e,n,h.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...c,...d]},AX=J([_X,_F,EX],SX),TX=(t,e,n,r,i)=>{var s,l,c=Md(t,e,n,r,i);if(c!=null){var d=tt(t),h=oD(t),{maxBarSize:m}=c,p=Mt(m)?h:m,x,_;return d==="horizontal"?(x=eo(t,"xAxis",e,r),_=Js(t,"xAxis",e,r)):(x=eo(t,"yAxis",n,r),_=Js(t,"yAxis",n,r)),(s=(l=Mu(x,_,!0))!==null&&l!==void 0?l:p)!==null&&s!==void 0?s:0}},YM=(t,e,n,r)=>{var i=tt(t),s,l;return i==="horizontal"?(s=eo(t,"xAxis",e,r),l=Js(t,"xAxis",e,r)):(s=eo(t,"yAxis",n,r),l=Js(t,"yAxis",n,r)),Mu(s,l)};function OX(t,e,n,r,i){var s=r.length;if(!(s<1)){var l=Gn(t,n,0,!0),c,d=[];if(Qt(r[0].barSize)){var h=!1,m=n/s,p=r.reduce((I,j)=>I+(j.barSize||0),0);p+=(s-1)*l,p>=n&&(p-=(s-1)*l,l=0),p>=n&&m>0&&(h=!0,m*=.9,p=s*m);var x=(n-p)/2>>0,_={offset:x-l,size:0};c=r.reduce((I,j)=>{var L,q={stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:_.offset+_.size+l,size:h?m:(L=j.barSize)!==null&&L!==void 0?L:0}},V=[...I,q];return _=V[V.length-1].position,V},d)}else{var E=Gn(e,n,0,!0);n-2*E-(s-1)*l<=0&&(l=0);var S=(n-2*E-(s-1)*l)/s;S>1&&(S>>=0);var T=Qt(i)?Math.min(S,i):S;c=r.reduce((I,j,L)=>[...I,{stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:E+(S+l)*L+(S-T)/2,size:T}}],d)}return c}}var CX=(t,e,n,r,i,s,l)=>{var c=Mt(l)?e:l,d=OX(n,r,i!==s?i:s,t,c);return i!==s&&d!=null&&(d=d.map(h=>qm(qm({},h),{},{position:qm(qm({},h.position),{},{offset:h.position.offset-i/2})}))),d},IX=J([AX,oD,xF,lD,TX,YM,bX],CX),NX=(t,e,n,r)=>eo(t,"xAxis",e,r),kX=(t,e,n,r)=>eo(t,"yAxis",n,r),PX=(t,e,n,r)=>Js(t,"xAxis",e,r),jX=(t,e,n,r)=>Js(t,"yAxis",n,r),RX=J([IX,Md],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),DX=(t,e)=>{var n=r1(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(l=>l.key===n)}}}},MX=J([wX,Md],DX),LX=J([bn,xw,NX,kX,PX,jX,RX,tt,Hp,YM,MX,Md,xX],(t,e,n,r,i,s,l,c,d,h,m,p,x)=>{var{chartData:_,dataStartIndex:E,dataEndIndex:S}=d;if(!(p==null||l==null||e==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:T}=p,I;if(T!=null&&T.length>0?I=T:I=_==null?void 0:_.slice(E,S+1),I!=null)return cX({layout:c,barSettings:p,pos:l,parentViewBox:e,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:m,displayedData:I,offset:t,cells:x,dataStartIndex:E})}}),WM=t=>{var{chartData:e}=t,n=Ot(),r=Wn();return w.useEffect(()=>r?()=>{}:(n(VI(e)),()=>{n(VI(void 0))}),[e,n,r]),null},CN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},XM=pr({name:"brush",initialState:CN,reducers:{setBrushSettings(t,e){return e.payload==null?CN:e.payload}}}),{setBrushSettings:Woe}=XM.actions,VX=XM.reducer;function zX(t,e,n){return(e=UX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UX(t){var e=BX(t,"string");return typeof e=="symbol"?e:e+""}function BX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Y1{static create(e){return new Y1(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}zX(Y1,"EPS",1e-4);function qX(t){return(t%180+180)%180}var FX=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=qX(i),l=s*Math.PI/180,c=Math.atan(r/n),d=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},HX={dots:[],areas:[],lines:[]},QM=pr({name:"referenceElements",initialState:HX,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Da(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Da(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Da(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Xoe,removeDot:Qoe,addArea:Zoe,removeArea:Joe,addLine:ele,removeLine:tle}=QM.actions,$X=QM.reducer,KX=w.createContext(void 0),GX=t=>{var{children:e}=t,[n]=w.useState("".concat(Hf("recharts"),"-clip")),r=K1();if(r==null)return null;var{x:i,y:s,width:l,height:c}=r;return w.createElement(KX.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:s,height:c,width:l}))),e)};function Bu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function ZM(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function YX(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return FX(r,n)}function WX(t,e,n){var r=n==="width",{x:i,y:s,width:l,height:c}=t;return e===1?{start:r?i:s,end:r?i+l:s+c}:{start:r?i+l:s+c,end:r?i:s}}function Zg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function XX(t,e){return ZM(t,e+1)}function QX(t,e,n,r,i){for(var s=(r||[]).slice(),{start:l,end:c}=e,d=0,h=1,m=l,p=function(){var E=r==null?void 0:r[d];if(E===void 0)return{v:ZM(r,h)};var S=d,T,I=()=>(T===void 0&&(T=n(E,S)),T),j=E.coordinate,L=d===0||Zg(t,j,I,m,c);L||(d=0,m=l,h+=1),L&&(m=j+t*(I()/2+i),d+=h)},x;h<=s.length;)if(x=p(),x)return x.v;return[]}function IN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(n),!0).forEach(function(r){ZX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZX(t,e,n){return(e=JX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JX(t){var e=eQ(t,"string");return typeof e=="symbol"?e:e+""}function eQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tQ(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:c}=e,{end:d}=e,h=function(x){var _=s[x],E,S=()=>(E===void 0&&(E=n(_,x)),E);if(x===l-1){var T=t*(_.coordinate+t*S()/2-d);s[x]=_=Fn(Fn({},_),{},{tickCoord:T>0?_.coordinate-T*t:_.coordinate})}else s[x]=_=Fn(Fn({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var I=Zg(t,_.tickCoord,S,c,d);I&&(d=_.tickCoord-t*(S()/2+i),s[x]=Fn(Fn({},_),{},{isShow:!0}))}},m=l-1;m>=0;m--)h(m);return s}function nQ(t,e,n,r,i,s){var l=(r||[]).slice(),c=l.length,{start:d,end:h}=e;if(s){var m=r[c-1],p=n(m,c-1),x=t*(m.coordinate+t*p/2-h);if(l[c-1]=m=Fn(Fn({},m),{},{tickCoord:x>0?m.coordinate-x*t:m.coordinate}),m.tickCoord!=null){var _=Zg(t,m.tickCoord,()=>p,d,h);_&&(h=m.tickCoord-t*(p/2+i),l[c-1]=Fn(Fn({},m),{},{isShow:!0}))}}for(var E=s?c-1:c,S=function(j){var L=l[j],q,V=()=>(q===void 0&&(q=n(L,j)),q);if(j===0){var F=t*(L.coordinate-t*V()/2-d);l[j]=L=Fn(Fn({},L),{},{tickCoord:F<0?L.coordinate-F*t:L.coordinate})}else l[j]=L=Fn(Fn({},L),{},{tickCoord:L.coordinate});if(L.tickCoord!=null){var N=Zg(t,L.tickCoord,V,d,h);N&&(d=L.tickCoord+t*(V()/2+i),l[j]=Fn(Fn({},L),{},{isShow:!0}))}},T=0;T<E;T++)S(T);return l}function W1(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:c,interval:d,tickFormatter:h,unit:m,angle:p}=t;if(!i||!i.length||!r)return[];if(Ce(d)||co.isSsr){var x;return(x=XX(i,Ce(d)?d:0))!==null&&x!==void 0?x:[]}var _=[],E=c==="top"||c==="bottom"?"width":"height",S=m&&E==="width"?Mf(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},T=(L,q)=>{var V=typeof h=="function"?h(L.value,q):L.value;return E==="width"?YX(Mf(V,{fontSize:e,letterSpacing:n}),S,p):Mf(V,{fontSize:e,letterSpacing:n})[E]},I=i.length>=2?Cn(i[1].coordinate-i[0].coordinate):1,j=WX(s,I,E);return d==="equidistantPreserveStart"?QX(I,j,T,i,l):(d==="preserveStart"||d==="preserveStartEnd"?_=nQ(I,j,T,i,l,d==="preserveStartEnd"):_=tQ(I,j,T,i,l),_.filter(L=>L.isShow))}var rQ=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,l=0;if(e){Array.from(e).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>l&&(l=p.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+s,h=l+d+c+(n?r:0);return Math.round(h)}return 0},iQ=["axisLine","width","height","className","hide","ticks","axisType"],aQ=["viewBox"],sQ=["viewBox"];function __(t,e){if(t==null)return{};var n,r,i=oQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gl.apply(null,arguments)}function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(r){lQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lQ(t,e,n){return(e=uQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uQ(t){var e=cQ(t,"string");return typeof e=="symbol"?e:e+""}function cQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X1={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:fn.axis};function fQ(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var h=ln(ln(ln({},d),Rr(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!l||s==="bottom"&&l);h=ln(ln({},h),{},{x1:e,y1:n+m*i,x2:e+r,y2:n+m*i})}else{var p=+(s==="left"&&!l||s==="right"&&l);h=ln(ln({},h),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return w.createElement("line",gl({},h,{className:at("recharts-cartesian-axis-line",cl(c,"className"))}))}function dQ(t,e,n,r,i,s,l,c,d){var h,m,p,x,_,E,S=c?-1:1,T=t.tickSize||l,I=Ce(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":h=m=t.coordinate,x=n+ +!c*i,p=x-S*T,E=p-S*d,_=I;break;case"left":p=x=t.coordinate,m=e+ +!c*r,h=m-S*T,_=h-S*d,E=I;break;case"right":p=x=t.coordinate,m=e+ +c*r,h=m+S*T,_=h+S*d,E=I;break;default:h=m=t.coordinate,x=n+ +c*i,p=x+S*T,E=p+S*d,_=I;break}return{line:{x1:h,y1:p,x2:m,y2:x},tick:{x:_,y:E}}}function hQ(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function mQ(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function gQ(t){var{option:e,tickProps:n,value:r}=t,i,s=at(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(e))i=w.cloneElement(e,ln(ln({},n),{},{className:s}));else if(typeof e=="function")i=e(ln(ln({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=at(l,e==null?void 0:e.className)),i=w.createElement(ry,gl({},n,{className:l}),r)}return i}var pQ=w.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:l,unit:c,padding:d,tickTextProps:h,orientation:m,mirror:p,x,y:_,width:E,height:S,tickSize:T,tickMargin:I,fontSize:j,letterSpacing:L,getTicksConfig:q,events:V,axisType:F}=t,N=W1(ln(ln({},q),{},{ticks:n}),j,L),k=hQ(m,p),D=mQ(m,p),B=Rr(q),P=ul(r),U={};typeof i=="object"&&(U=i);var M=ln(ln({},B),{},{fill:"none"},U),he=N.map(te=>ln({entry:te},dQ(te,x,_,E,S,m,T,p,I))),be=he.map(te=>{var{entry:G,line:ce}=te;return w.createElement(In,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},i&&w.createElement("line",gl({},M,ce,{className:at("recharts-cartesian-axis-tick-line",cl(i,"className"))})))}),W=he.map((te,G)=>{var{entry:ce,tick:xe}=te,$=ln(ln(ln(ln({textAnchor:k,verticalAnchor:D},B),{},{stroke:"none",fill:s},P),xe),{},{index:G,payload:ce,visibleTicksCount:N.length,tickFormatter:l,padding:d},h);return w.createElement(In,gl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},yd(V,ce,G)),r&&w.createElement(gQ,{option:r,tickProps:$,value:"".concat(typeof l=="function"?l(ce.value,G):ce.value).concat(c||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(F,"-ticks")},W.length>0&&w.createElement(yr,{zIndex:fn.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(F,"-tick-labels"),ref:e},W)),be.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(F,"-tick-lines")},be))}),yQ=w.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:l,ticks:c,axisType:d}=t,h=__(t,iQ),[m,p]=w.useState(""),[x,_]=w.useState(""),E=w.useRef(null);w.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var T;return rQ({ticks:E.current,label:(T=t.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=w.useCallback(T=>{if(T){var I=T.getElementsByClassName("recharts-cartesian-axis-tick-value");E.current=I;var j=I[0];if(j){var L=window.getComputedStyle(j),q=L.fontSize,V=L.letterSpacing;(q!==m||V!==x)&&(p(q),_(V))}}},[m,x]);return l||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(yr,{zIndex:t.zIndex},w.createElement(In,{className:at("recharts-cartesian-axis",s)},w.createElement(fQ,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Rr(t)}),w.createElement(pQ,{ref:S,axisType:d,events:h,fontSize:m,getTicksConfig:t,height:t.height,letterSpacing:x,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),w.createElement(cG,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},w.createElement(xG,{label:t.label,labelRef:t.labelRef}),t.children)))}),vQ=w.memo(yQ,(t,e)=>{var{viewBox:n}=t,r=__(t,aQ),{viewBox:i}=e,s=__(e,sQ);return Bu(n,i)&&Bu(r,s)}),Q1=w.forwardRef((t,e)=>{var n=mn(t,X1);return w.createElement(vQ,gl({},n,{ref:e}))});Q1.displayName="CartesianAxis";var bQ=["x1","y1","x2","y2","key"],xQ=["offset"],_Q=["xAxisId","yAxisId"],wQ=["xAxisId","yAxisId"];function kN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(n),!0).forEach(function(r){EQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EQ(t,e,n){return(e=SQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SQ(t){var e=AQ(t,"string");return typeof e=="symbol"?e:e+""}function AQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nl.apply(null,arguments)}function Jg(t,e){if(t==null)return{};var n,r,i=TQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function TQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var OQ=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:c}=t;return w.createElement("rect",{x:r,y:i,ry:c,width:s,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function JM(t){var{option:e,lineItemProps:n}=t,r;if(w.isValidElement(e))r=w.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:l,x2:c,y2:d,key:h}=n,m=Jg(n,bQ),p=(i=Rr(m))!==null&&i!==void 0?i:{},{offset:x}=p,_=Jg(p,xQ);r=w.createElement("line",nl({},_,{x1:s,y1:l,x2:c,y2:d,fill:"none",key:h}))}return r}function CQ(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,c=Jg(t,_Q),d=i.map((h,m)=>{var p=$n($n({},c),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(m),index:m});return w.createElement(JM,{key:"line-".concat(m),option:r,lineItemProps:p})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function IQ(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=t,c=Jg(t,wQ),d=i.map((h,m)=>{var p=$n($n({},c),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(m),index:m});return w.createElement(JM,{option:r,lineItemProps:p,key:"line-".concat(m)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function NQ(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:c,horizontal:d=!0}=t;if(!d||!e||!e.length||c==null)return null;var h=c.map(p=>Math.round(p+i-i)).sort((p,x)=>p-x);i!==h[0]&&h.unshift(0);var m=h.map((p,x)=>{var _=!h[x+1],E=_?i+l-p:h[x+1]-p;if(E<=0)return null;var S=x%e.length;return w.createElement("rect",{key:"react-".concat(x),y:p,x:r,height:E,width:s,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function kQ(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:c,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var h=d.map(p=>Math.round(p+i-i)).sort((p,x)=>p-x);i!==h[0]&&h.unshift(0);var m=h.map((p,x)=>{var _=!h[x+1],E=_?i+l-p:h[x+1]-p;if(E<=0)return null;var S=x%n.length;return w.createElement("rect",{key:"react-".concat(x),x:p,y:s,width:E,height:c,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var PQ=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return qj(W1($n($n($n({},X1),n),{},{ticks:Fj(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},jQ=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return qj(W1($n($n($n({},X1),n),{},{ticks:Fj(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},RQ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:fn.grid};function rd(t){var e=ww(),n=Ew(),r=Qj(),i=$n($n({},mn(t,RQ)),{},{x:Ce(t.x)?t.x:r.left,y:Ce(t.y)?t.y:r.top,width:Ce(t.width)?t.width:r.width,height:Ce(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:l,x:c,y:d,width:h,height:m,syncWithTicks:p,horizontalValues:x,verticalValues:_}=i,E=Wn(),S=Te(D=>TI(D,"xAxis",s,E)),T=Te(D=>TI(D,"yAxis",l,E));if(!aa(h)||!aa(m)||!Ce(c)||!Ce(d))return null;var I=i.verticalCoordinatesGenerator||PQ,j=i.horizontalCoordinatesGenerator||jQ,{horizontalPoints:L,verticalPoints:q}=i;if((!L||!L.length)&&typeof j=="function"){var V=x&&x.length,F=j({yAxis:T?$n($n({},T),{},{ticks:V?x:T.ticks}):void 0,width:e??h,height:n??m,offset:r},V?!0:p);Og(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(L=F)}if((!q||!q.length)&&typeof I=="function"){var N=_&&_.length,k=I({xAxis:S?$n($n({},S),{},{ticks:N?_:S.ticks}):void 0,width:e??h,height:n??m,offset:r},N?!0:p);Og(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(q=k)}return w.createElement(yr,{zIndex:i.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(OQ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(NQ,nl({},i,{horizontalPoints:L})),w.createElement(kQ,nl({},i,{verticalPoints:q})),w.createElement(CQ,nl({},i,{offset:r,horizontalPoints:L,xAxis:S,yAxis:T})),w.createElement(IQ,nl({},i,{offset:r,verticalPoints:q,xAxis:S,yAxis:T}))))}rd.displayName="CartesianGrid";var e4=(t,e,n,r)=>eo(t,"xAxis",e,r),t4=(t,e,n,r)=>Js(t,"xAxis",e,r),n4=(t,e,n,r)=>eo(t,"yAxis",n,r),r4=(t,e,n,r)=>Js(t,"yAxis",n,r),DQ=J([tt,e4,n4,t4,r4],(t,e,n,r,i)=>uo(t,"xAxis")?Mu(e,r,!1):Mu(n,i,!1)),MQ=(t,e,n,r,i)=>i;function LQ(t){return t.type==="line"}var VQ=J([Qp,MQ],(t,e)=>t.filter(LQ).find(n=>n.id===e)),zQ=J([tt,e4,n4,t4,r4,VQ,DQ,Hp],(t,e,n,r,i,s,l,c)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:m}=c;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{dataKey:p,data:x}=s,_;if(x!=null&&x.length>0?_=x:_=d==null?void 0:d.slice(h,m+1),_!=null)return sZ({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:l,displayedData:_})}});function UQ(t){var e=ul(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,l=Number(i),c=Number(s);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(c)||c<0)&&(c=r),{r:l,strokeWidth:c}}return{r:n,strokeWidth:r}}var BQ=["id"],qQ=["type","layout","connectNulls","needClip","shape"],FQ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function id(){return id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},id.apply(null,arguments)}function PN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(n),!0).forEach(function(r){HQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HQ(t,e,n){return(e=$Q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Q(t){var e=KQ(t,"string");return typeof e=="symbol"?e:e+""}function KQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z1(t,e){if(t==null)return{};var n,r,i=GQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function GQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var YQ=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Qu(n,e),payload:t}]};function WQ(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:c,unit:d}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Qu(l,e),hide:c,type:t.tooltipType,color:t.stroke,unit:d}}}var i4=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function XQ(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var QQ=(t,e,n)=>{var r=n.reduce((p,x)=>p+x);if(!r)return i4(e,t);for(var i=Math.floor(t/r),s=t%r,l=e-t,c=[],d=0,h=0;d<n.length;h+=n[d],++d)if(h+n[d]>s){c=[...n.slice(0,d),s-h];break}var m=c.length%2===0?[0,l]:[l];return[...XQ(n,i),...c,...m].map(p=>"".concat(p,"px")).join(", ")};function ZQ(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:l}=r,{id:c}=r,d=Z1(r,BQ),h=Rr(d);return w.createElement(sW,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:e})}function JQ(t){var{showLabels:e,children:n,points:r}=t,i=w.useMemo(()=>r==null?void 0:r.map(s=>{var l,c,d={x:(l=s.x)!==null&&l!==void 0?l:0,y:(c=s.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Wi(Wi({},d),{},{value:s.value,payload:s.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(IM,{value:e?i:void 0},n)}function jN(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:l,layout:c,connectNulls:d,needClip:h,shape:m}=s,p=Z1(s,qQ),x=Wi(Wi({},nr(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:c,connectNulls:d,strokeDasharray:i??s.strokeDasharray});return w.createElement(w.Fragment,null,(r==null?void 0:r.length)>1&&w.createElement(z1,id({shapeType:"curve",option:m},x,{pathRef:n})),w.createElement(ZQ,{points:r,clipPathId:e,props:s}))}function eZ(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function tZ(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:l,strokeDasharray:c,isAnimationActive:d,animationBegin:h,animationDuration:m,animationEasing:p,animateNewValues:x,width:_,height:E,onAnimationEnd:S,onAnimationStart:T}=n,I=i.current,j=Ed(n,"recharts-line-"),[L,q]=w.useState(!1),V=!L,F=w.useCallback(()=>{typeof S=="function"&&S(),q(!1)},[S]),N=w.useCallback(()=>{typeof T=="function"&&T(),q(!0)},[T]),k=eZ(r.current),D=s.current;return w.createElement(JQ,{points:l,showLabels:V},n.children,w.createElement(wd,{animationId:j,begin:h,duration:m,isActive:d,easing:p,onAnimationEnd:F,onAnimationStart:N,key:j},B=>{var P=jt(D,k+D,B),U=Math.min(P,k),M;if(d)if(c){var he="".concat(c).split(/[,\s]+/gim).map(te=>parseFloat(te));M=QQ(U,k,he)}else M=i4(k,U);else M=c==null?void 0:String(c);if(I){var be=I.length/l.length,W=B===1?l:l.map((te,G)=>{var ce=Math.floor(G*be);if(I[ce]){var xe=I[ce];return Wi(Wi({},te),{},{x:jt(xe.x,te.x,B),y:jt(xe.y,te.y,B)})}return x?Wi(Wi({},te),{},{x:jt(_*2,te.x,B),y:jt(E/2,te.y,B)}):Wi(Wi({},te),{},{x:te.x,y:te.y})});return i.current=W,w.createElement(jN,{props:n,points:W,clipPathId:e,pathRef:r,strokeDasharray:M})}return B>0&&k>0&&(i.current=l,s.current=U),w.createElement(jN,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:M})}),w.createElement(D1,{label:n.label}))}function nZ(t){var{clipPathId:e,props:n}=t,r=w.useRef(null),i=w.useRef(0),s=w.useRef(null);return w.createElement(tZ,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var rZ=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Tt(t.payload,e)}};class iZ extends w.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:l,top:c,left:d,width:h,height:m,id:p,needClip:x,zIndex:_}=this.props;if(e)return null;var E=at("recharts-line",i),S=p,{r:T,strokeWidth:I}=UQ(n),j=LM(n),L=T*2+I;return w.createElement(yr,{zIndex:_},w.createElement(In,{className:E},x&&w.createElement("defs",null,w.createElement(KM,{clipPathId:S,xAxisId:s,yAxisId:l}),!j&&w.createElement("clipPath",{id:"clipPath-dots-".concat(S)},w.createElement("rect",{x:d-L/2,y:c-L/2,width:h+L,height:m+L}))),w.createElement($M,{xAxisId:s,yAxisId:l,data:r,dataPointFormatter:rZ,errorBarOffset:0},w.createElement(nZ,{props:this.props,clipPathId:S}))),w.createElement(SW,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var a4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!co.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:fn.line};function aZ(t){var e=mn(t,a4),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:c,dot:d,hide:h,isAnimationActive:m,label:p,legendType:x,xAxisId:_,yAxisId:E,id:S}=e,T=Z1(e,FQ),{needClip:I}=G1(_,E),j=K1(),L=_d(),q=Wn(),V=Te(B=>zQ(B,_,E,q,S));if(L!=="horizontal"&&L!=="vertical"||V==null||j==null)return null;var{height:F,width:N,x:k,y:D}=j;return w.createElement(iZ,id({},T,{id:S,connectNulls:c,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:m,hide:h,label:p,legendType:x,xAxisId:_,yAxisId:E,points:V,layout:L,height:F,width:N,left:k,top:D,needClip:I}))}function sZ(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:c,displayedData:d}=t;return d.map((h,m)=>{var p=Tt(h,l);if(e==="horizontal"){var x=QO({axis:n,ticks:i,bandSize:c,entry:h,index:m}),_=Mt(p)?null:r.scale(p);return{x,y:_,value:p,payload:h}}var E=Mt(p)?null:n.scale(p),S=QO({axis:r,ticks:s,bandSize:c,entry:h,index:m});return E==null||S==null?null:{x:E,y:S,value:p,payload:h}}).filter(Boolean)}function oZ(t){var e=mn(t,a4),n=Wn();return w.createElement(H1,{id:e.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(VM,{legendPayload:YQ(e)}),w.createElement(F1,{fn:WQ,args:e}),w.createElement(BM,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),w.createElement(aZ,id({},e,{id:r}))))}var s4=w.memo(oZ);s4.displayName="Line";var lZ=["dangerouslySetInnerHTML","ticks"],uZ=["id"],cZ=["domain"],fZ=["domain"];function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(null,arguments)}function ep(t,e){if(t==null)return{};var n,r,i=dZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hZ(t){var e=Ot();return w.useLayoutEffect(()=>(e(fW(t)),()=>{e(dW(t))}),[t,e]),null}var mZ=t=>{var{xAxisId:e,className:n}=t,r=Te(xw),i=Wn(),s="xAxis",l=Te(T=>ic(T,s,e,i)),c=Te(T=>UD(T,s,e,i)),d=Te(T=>MD(T,e)),h=Te(T=>vH(T,e)),m=Te(T=>pD(T,e));if(d==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:p,ticks:x}=t,_=ep(t,lZ),{id:E}=m,S=ep(m,uZ);return w.createElement(Q1,w_({},_,S,{scale:l,x:h.x,y:h.y,width:d.width,height:d.height,className:at("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:c,axisType:s}))},gZ={allowDataOverflow:Cr.allowDataOverflow,allowDecimals:Cr.allowDecimals,allowDuplicatedCategory:Cr.allowDuplicatedCategory,height:Cr.height,hide:!1,mirror:Cr.mirror,orientation:Cr.orientation,padding:Cr.padding,reversed:Cr.reversed,scale:Cr.scale,tickCount:Cr.tickCount,type:Cr.type,xAxisId:0},pZ=t=>{var e,n,r,i,s,l=mn(t,gZ);return w.createElement(w.Fragment,null,w.createElement(hZ,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),w.createElement(mZ,l))},yZ=(t,e)=>{var{domain:n}=t,r=ep(t,cZ),{domain:i}=e,s=ep(e,fZ);return Bu(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Bu({domain:n},{domain:i}):!1},ad=w.memo(pZ,yZ);ad.displayName="XAxis";var vZ=["dangerouslySetInnerHTML","ticks"],bZ=["id"],xZ=["domain"],_Z=["domain"];function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_.apply(null,arguments)}function tp(t,e){if(t==null)return{};var n,r,i=wZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function EZ(t){var e=Ot();return w.useLayoutEffect(()=>(e(hW(t)),()=>{e(mW(t))}),[t,e]),null}var SZ=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=w.useRef(null),l=w.useRef(null),c=Te(xw),d=Wn(),h=Ot(),m="yAxis",p=Te(V=>ic(V,m,e,d)),x=Te(V=>LD(V,e)),_=Te(V=>xH(V,e)),E=Te(V=>UD(V,m,e,d)),S=Te(V=>yD(V,e));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!x||R1(i)||w.isValidElement(i)||S==null)){var V=s.current;if(V){var F=V.getCalculatedWidth();Math.round(x.width)!==Math.round(F)&&h(gW({id:e,width:F}))}}},[E,x,h,i,e,r,S]),x==null||_==null||S==null)return null;var{dangerouslySetInnerHTML:T,ticks:I}=t,j=tp(t,vZ),{id:L}=S,q=tp(S,bZ);return w.createElement(Q1,E_({},j,q,{ref:s,labelRef:l,scale:p,x:_.x,y:_.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:x.width,height:x.height,className:at("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:E,axisType:m}))},AZ={allowDataOverflow:Ir.allowDataOverflow,allowDecimals:Ir.allowDecimals,allowDuplicatedCategory:Ir.allowDuplicatedCategory,hide:!1,mirror:Ir.mirror,orientation:Ir.orientation,padding:Ir.padding,reversed:Ir.reversed,scale:Ir.scale,tickCount:Ir.tickCount,type:Ir.type,width:Ir.width,yAxisId:0},TZ=t=>{var e,n,r,i,s,l=mn(t,AZ);return w.createElement(w.Fragment,null,w.createElement(EZ,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(s=l.tick)!==null&&s!==void 0?s:!0,tickFormatter:l.tickFormatter}),w.createElement(SZ,l))},OZ=(t,e)=>{var{domain:n}=t,r=tp(t,xZ),{domain:i}=e,s=tp(e,_Z);return Bu(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Bu({domain:n},{domain:i}):!1},sd=w.memo(TZ,OZ);sd.displayName="YAxis";var cx={exports:{}},fx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RN;function CZ(){if(RN)return fx;RN=1;var t=Xu();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,l=t.useMemo,c=t.useDebugValue;return fx.useSyncExternalStoreWithSelector=function(d,h,m,p,x){var _=i(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=l(function(){function T(V){if(!I){if(I=!0,j=V,V=p(V),x!==void 0&&E.hasValue){var F=E.value;if(x(F,V))return L=F}return L=V}if(F=L,n(j,V))return F;var N=p(V);return x!==void 0&&x(F,N)?(j=V,F):(j=V,L=N)}var I=!1,j,L,q=m===void 0?null:m;return[function(){return T(h())},q===null?void 0:function(){return T(q())}]},[h,m,p,x]);var S=r(d,_[0],_[1]);return s(function(){E.hasValue=!0,E.value=S},[S]),c(S),S},fx}var DN;function IZ(){return DN||(DN=1,cx.exports=CZ()),cx.exports}IZ();function NZ(t){t()}function kZ(){let t=null,e=null;return{clear(){t=null,e=null},notify(){NZ(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var MN={notify(){},get:()=>[]};function PZ(t,e){let n,r=MN,i=0,s=!1;function l(S){m();const T=r.subscribe(S);let I=!1;return()=>{I||(I=!0,T(),p())}}function c(){r.notify()}function d(){E.onStateChange&&E.onStateChange()}function h(){return s}function m(){i++,n||(n=t.subscribe(d),r=kZ())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=MN)}function x(){s||(s=!0,m())}function _(){s&&(s=!1,p())}const E={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:h,trySubscribe:x,tryUnsubscribe:_,getListeners:()=>r};return E}var jZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RZ=jZ(),DZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",MZ=DZ(),LZ=()=>RZ||MZ?w.useLayoutEffect:w.useEffect,VZ=LZ(),dx=Symbol.for("react-redux-context"),hx=typeof globalThis<"u"?globalThis:{};function zZ(){if(!w.createContext)return{};const t=hx[dx]??(hx[dx]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var UZ=zZ();function BZ(t){const{children:e,context:n,serverState:r,store:i}=t,s=w.useMemo(()=>{const d=PZ(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=w.useMemo(()=>i.getState(),[i]);VZ(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,l]);const c=n||UZ;return w.createElement(c.Provider,{value:s},e)}var qZ=BZ,FZ=(t,e)=>e,J1=J([FZ,tt,mD,_n,rM,ts,k$,bn],V$),eE=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},o4=ni("mouseClick"),l4=bd();l4.startListening({actionCreator:o4,effect:(t,e)=>{var n=t.payload,r=J1(e.getState(),eE(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(jH({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var S_=ni("mouseMove"),u4=bd();u4.startListening({actionCreator:S_,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=S1(r,r.tooltip.settings.shared),s=J1(r,eE(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(YD({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(GD()))}});var LN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},c4=pr({name:"rootProps",initialState:LN,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:LN.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),HZ=c4.reducer,{updateOptions:$Z}=c4.actions,f4=pr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:KZ}=f4.actions,GZ=f4.reducer,d4=ni("keyDown"),h4=ni("focus"),tE=bd();tE.startListening({actionCreator:d4,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Number(A1(i,sc(n))),c=ts(n);if(s==="Enter"){var d=$g(n,"axis","hover",String(i.index));e.dispatch(m_({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=SH(n),m=h==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,x=l+p*m;if(!(c==null||x>=c.length||x<0)){var _=$g(n,"axis","hover",String(x));e.dispatch(m_({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}});tE.startListening({actionCreator:h4,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=$g(n,"axis","hover",String(s));e.dispatch(m_({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Qr=ni("externalEvent"),m4=bd();m4.startListening({actionCreator:Qr,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:g$(n),activeDataKey:oM(n),activeIndex:to(n),activeLabel:sM(n),activeTooltipIndex:to(n),isTooltipActive:p$(n)};t.payload.handler(r,t.payload.reactEvent)}}});var YZ=J([ac],t=>t.tooltipItemPayloads),WZ=J([YZ,jd,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=e(s,n);return l}}}),g4=ni("touchMove"),p4=bd();p4.startListening({actionCreator:g4,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=S1(r,r.tooltip.settings.shared);if(i==="axis"){var s=J1(r,eE({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(YD({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute($j),m=(l=d.getAttribute(Kj))!==null&&l!==void 0?l:void 0,p=WZ(e.getState(),h,m);e.dispatch(KD({activeDataKey:m,activeIndex:h,activeCoordinate:p}))}}}});var XZ=pj({brush:VX,cartesianAxis:pW,chartData:gK,errorBars:MW,graphicalItems:TY,layout:r8,legend:eU,options:cK,polarAxis:BG,polarOptions:GZ,referenceElements:$X,rootProps:HZ,tooltip:RH,zIndex:Z$}),QZ=function(e){return Cz({reducer:XZ,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([l4.middleware,u4.middleware,tE.middleware,m4.middleware,p4.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(Cj({type:"raf"}))},devTools:co.devToolsEnabled})};function y4(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Wn(),s=w.useRef(null);if(i)return n;s.current==null&&(s.current=QZ(e));var l=mw;return w.createElement(qZ,{context:l,store:s.current},n)}function v4(t){var{layout:e,margin:n}=t,r=Ot(),i=Wn();return w.useEffect(()=>{i||(r(e8(e)),r(Jz(n)))},[r,i,e,n]),null}function b4(t){var e=Ot();return w.useEffect(()=>{e($Z(t))},[e,t]),null}function VN(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=zM("".concat(r).concat(e)),s=Ot();return w.useLayoutEffect(()=>(s(X$({zIndex:e,elementId:i,isPanorama:n})),()=>{s(Q$({zIndex:e,isPanorama:n}))}),[s,e,i,n]),w.createElement("g",{id:i})}function zN(t){var{children:e,isPanorama:n}=t,r=Te(U$);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),s=r.filter(l=>l>0);return w.createElement(w.Fragment,null,i.map(l=>w.createElement(VN,{key:l,zIndex:l,isPanorama:n})),e,s.map(l=>w.createElement(VN,{key:l,zIndex:l,isPanorama:n})))}var ZZ=["children"];function JZ(t,e){if(t==null)return{};var n,r,i=eJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function np(){return np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},np.apply(null,arguments)}var tJ={width:"100%",height:"100%",display:"block"},nJ=w.forwardRef((t,e)=>{var n=ww(),r=Ew(),i=tR();if(!aa(n)||!aa(r))return null;var{children:s,otherAttributes:l,title:c,desc:d}=t,h,m;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?m=l.role:m=i?"application":void 0),w.createElement(rw,np({},l,{title:c,desc:d,role:m,tabIndex:h,width:n,height:r,style:tJ,ref:e}),s)}),rJ=t=>{var{children:e}=t,n=Te(Dp);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return w.createElement(rw,{width:r,height:i,x:l,y:s},e)},UN=w.forwardRef((t,e)=>{var{children:n}=t,r=JZ(t,ZZ),i=Wn();return i?w.createElement(rJ,null,w.createElement(zN,{isPanorama:!0},n)):w.createElement(nJ,np({ref:e},r),w.createElement(zN,{isPanorama:!1},n))});function iJ(){var t=Ot(),[e,n]=w.useState(null),r=Te(_8);return w.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Qt(s)&&s!==r&&t(n8(s))}},[e,t,r]),n}function BN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(n),!0).forEach(function(r){sJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sJ(t,e,n){return(e=oJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oJ(t){var e=lJ(t,"string");return typeof e=="symbol"?e:e+""}function lJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pl(){return pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pl.apply(null,arguments)}var uJ=()=>(SK(),null);function rp(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var cJ=w.forwardRef((t,e)=>{var n,r,i=w.useRef(null),[s,l]=w.useState({containerWidth:rp((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:rp((r=t.style)===null||r===void 0?void 0:r.height)}),c=w.useCallback((h,m)=>{l(p=>{var x=Math.round(h),_=Math.round(m);return p.containerWidth===x&&p.containerHeight===_?p:{containerWidth:x,containerHeight:_}})},[]),d=w.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=h.getBoundingClientRect();c(m,p);var x=E=>{var{width:S,height:T}=E[0].contentRect;c(S,T)},_=new ResizeObserver(x);_.observe(h),i.current=_}},[e,c]);return w.useEffect(()=>()=>{var h=i.current;h!=null&&h.disconnect()},[c]),w.createElement(w.Fragment,null,w.createElement(Lp,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",pl({ref:d},t)))}),fJ=w.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=w.useState({containerWidth:rp(n),containerHeight:rp(r)}),l=w.useCallback((d,h)=>{s(m=>{var p=Math.round(d),x=Math.round(h);return m.containerWidth===p&&m.containerHeight===x?m:{containerWidth:p,containerHeight:x}})},[]),c=w.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null){var{width:h,height:m}=d.getBoundingClientRect();l(h,m)}},[e,l]);return w.createElement(w.Fragment,null,w.createElement(Lp,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",pl({ref:c},t)))}),dJ=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return w.createElement(w.Fragment,null,w.createElement(Lp,{width:n,height:r}),w.createElement("div",pl({ref:e},t)))}),hJ=w.forwardRef((t,e)=>{var{width:n,height:r}=t;return za(n)||za(r)?w.createElement(fJ,pl({},t,{ref:e})):w.createElement(dJ,pl({},t,{ref:e}))});function mJ(t){return t===!0?cJ:hJ}var gJ=w.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:h,onMouseLeave:m,onMouseMove:p,onMouseUp:x,onTouchEnd:_,onTouchMove:E,onTouchStart:S,style:T,width:I,responsive:j,dispatchTouchEvents:L=!0}=t,q=w.useRef(null),V=Ot(),[F,N]=w.useState(null),[k,D]=w.useState(null),B=iJ(),P=_w(),U=(P==null?void 0:P.width)>0?P.width:I,M=(P==null?void 0:P.height)>0?P.height:i,he=w.useCallback(ae=>{B(ae),typeof e=="function"&&e(ae),N(ae),D(ae),ae!=null&&(q.current=ae)},[B,e,N,D]),be=w.useCallback(ae=>{V(o4(ae)),V(Qr({handler:s,reactEvent:ae}))},[V,s]),W=w.useCallback(ae=>{V(S_(ae)),V(Qr({handler:h,reactEvent:ae}))},[V,h]),te=w.useCallback(ae=>{V(GD()),V(Qr({handler:m,reactEvent:ae}))},[V,m]),G=w.useCallback(ae=>{V(S_(ae)),V(Qr({handler:p,reactEvent:ae}))},[V,p]),ce=w.useCallback(()=>{V(h4())},[V]),xe=w.useCallback(ae=>{V(d4(ae.key))},[V]),$=w.useCallback(ae=>{V(Qr({handler:l,reactEvent:ae}))},[V,l]),re=w.useCallback(ae=>{V(Qr({handler:c,reactEvent:ae}))},[V,c]),ge=w.useCallback(ae=>{V(Qr({handler:d,reactEvent:ae}))},[V,d]),ve=w.useCallback(ae=>{V(Qr({handler:x,reactEvent:ae}))},[V,x]),me=w.useCallback(ae=>{V(Qr({handler:S,reactEvent:ae}))},[V,S]),ye=w.useCallback(ae=>{L&&V(g4(ae)),V(Qr({handler:E,reactEvent:ae}))},[V,L,E]),pe=w.useCallback(ae=>{V(Qr({handler:_,reactEvent:ae}))},[V,_]),Oe=mJ(j);return w.createElement(gM.Provider,{value:F},w.createElement(PP.Provider,{value:k},w.createElement(Oe,{width:U??(T==null?void 0:T.width),height:M??(T==null?void 0:T.height),className:at("recharts-wrapper",r),style:aJ({position:"relative",cursor:"default",width:U,height:M},T),onClick:be,onContextMenu:$,onDoubleClick:re,onFocus:ce,onKeyDown:xe,onMouseDown:ge,onMouseEnter:W,onMouseLeave:te,onMouseMove:G,onMouseUp:ve,onTouchEnd:pe,onTouchMove:ye,onTouchStart:me,ref:he},w.createElement(uJ,null),n)))}),pJ=["width","height","responsive","children","className","style","compact","title","desc"];function yJ(t,e){if(t==null)return{};var n,r,i=vJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var x4=w.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:l,style:c,compact:d,title:h,desc:m}=t,p=yJ(t,pJ),x=Rr(p);return d?w.createElement(w.Fragment,null,w.createElement(Lp,{width:n,height:r}),w.createElement(UN,{otherAttributes:x,title:h,desc:m},s)):w.createElement(gJ,{className:l,style:c,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},w.createElement(UN,{otherAttributes:x,title:h,desc:m,ref:e},w.createElement(GX,null,s)))});function A_(){return A_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_.apply(null,arguments)}var bJ={top:5,right:5,bottom:5,left:5},xJ={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:bJ,reverseStackOrder:!1,syncMethod:"index",responsive:!1},_4=w.forwardRef(function(e,n){var r,i=mn(e.categoricalChartProps,xJ),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:h}=e,m={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return w.createElement(y4,{preloadedState:{options:m},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},w.createElement(WM,{chartData:h.data}),w.createElement(v4,{layout:i.layout,margin:i.margin}),w.createElement(b4,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),w.createElement(x4,A_({},i,{ref:n})))}),_J=["axis"],wJ=w.forwardRef((t,e)=>w.createElement(_4,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_J,tooltipPayloadSearcher:j1,categoricalChartProps:t,ref:e})),EJ=["axis","item"],nE=w.forwardRef((t,e)=>w.createElement(_4,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:EJ,tooltipPayloadSearcher:j1,categoricalChartProps:t,ref:e}));function SJ(t){var e=Ot();return w.useEffect(()=>{e(KZ(t))},[e,t]),null}var AJ=["layout"];function T_(){return T_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T_.apply(null,arguments)}function TJ(t,e){if(t==null)return{};var n,r,i=OJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function OJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var CJ={top:5,right:5,bottom:5,left:5},IJ={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:CJ,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},NJ=w.forwardRef(function(e,n){var r,i=mn(e.categoricalChartProps,IJ),{layout:s}=i,l=TJ(i,AJ),{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:m}=e,p={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:h,tooltipPayloadSearcher:m,eventEmitter:void 0};return w.createElement(y4,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},w.createElement(WM,{chartData:i.data}),w.createElement(v4,{layout:s,margin:i.margin}),w.createElement(b4,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),w.createElement(SJ,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),w.createElement(x4,T_({},l,{ref:n})))}),kJ=["item"],PJ={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},jJ=w.forwardRef((t,e)=>{var n=mn(t,PJ);return w.createElement(NJ,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:kJ,tooltipPayloadSearcher:j1,categoricalChartProps:n,ref:e})});const RJ=t=>{if(!(t!=null&&t.seconds))return"";const e=new Date,n=new Date(t.seconds*1e3),r=Math.floor((e.getTime()-n.getTime())/1e3);let i=r/31536e3;return i>1?` ${Math.floor(i)} `:(i=r/2592e3,i>1?` ${Math.floor(i)} `:(i=r/86400,i>1?` ${Math.floor(i)} `:(i=r/3600,i>1?` ${Math.floor(i)} `:(i=r/60,i>1?` ${Math.floor(i)} `:" "))))},DJ=({log:t})=>{let e,n,r;switch(t.type){case"new_student":e=v.jsx(Ks,{className:"h-5 w-5"}),n="bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300",r=v.jsxs("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:["   : ",v.jsx("span",{className:"text-green-700 dark:text-green-400",children:t.details.studentName})]});break;case"memorization_log":e=v.jsx(Na,{className:"h-5 w-5"}),n="bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-300",r=v.jsxs("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:[" : ",v.jsx("span",{className:"text-amber-700 dark:text-amber-400",children:t.details.studentName}),"  ",v.jsxs("span",{className:"text-amber-700 dark:text-amber-400",children:[" ",t.details.surah]})]});break;case"absence_log":e=v.jsx(Ff,{className:"h-5 w-5"}),n="bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300",r=v.jsxs("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:["  : ",v.jsx("span",{className:"text-red-700 dark:text-red-400",children:t.details.studentName})]});break;default:return null}return v.jsxs("li",{className:"flex items-start",children:[v.jsx("div",{className:`${n} p-2 rounded-full mr-4 ml-2`,children:e}),v.jsxs("div",{children:[r,v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:RJ(t.timestamp)})]})]})},MJ=({students:t,teachers:e,halaqat:n,attendanceLogs:r,activityLogs:i})=>{const{halaqaMemorizationData:s,topStudents:l,todayAttendanceRate:c,attendanceTaken:d,weeklyAttendanceData:h,attendanceChange:m,attendanceChangeType:p}=w.useMemo(()=>{const x={};t.forEach(P=>{x[P.halaqaId]||(x[P.halaqaId]={total:0,count:0}),x[P.halaqaId].total+=P.memorizationProgress,x[P.halaqaId].count++});const _=n.map(P=>({name:P.name," ":x[P.id]?Math.round(x[P.id].total/x[P.id].count):0})),E=t.map(P=>({...P,score:P.memorizationProgress*.6+P.attendanceRate*.4})).sort((P,U)=>U.score-P.score).slice(0,3),S={};r.forEach(P=>{const U=new Date(P.date.seconds*1e3).toISOString().slice(0,10);S[U]||(S[U]={present:0,total:0});const M=Object.values(P.records).filter(be=>be==="present"||be==="late").length,he=Object.keys(P.records).length;S[U].present+=M,S[U].total+=he});const T={};for(const P in S){const U=S[P];T[P]=U.total>0?Math.round(U.present/U.total*100):0}const I=[],j=["","","","","","",""];for(let P=6;P>=0;P--){const U=new Date;U.setDate(U.getDate()-P);const M=U.toISOString().slice(0,10);I.push({name:j[U.getDay()],:T[M]||0})}const L=new Date().toISOString().slice(0,10),q=T[L],V=q!==void 0;let F=null,N=null;const k=new Date;k.setDate(k.getDate()-1);const D=k.toISOString().slice(0,10),B=T[D];if(V&&B!==void 0){const P=q-B;P!==0&&(F=`${Math.abs(P)}%`,N=P>0?"increase":"decrease")}return{halaqaMemorizationData:_,topStudents:E,todayAttendanceRate:V?q:0,attendanceTaken:V,weeklyAttendanceData:I,attendanceChange:F,attendanceChangeType:N}},[t,n,r]);return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[v.jsx(Hs,{title:" ",value:t.length.toString(),icon:v.jsx(Ks,{className:"text-green-800"}),color:"green"}),v.jsx(Hs,{title:" ",value:e.length.toString(),icon:v.jsx(Ks,{className:"text-amber-600"}),color:"amber"}),v.jsx(Hs,{title:" ",value:n.length.toString(),icon:v.jsx(Na,{className:"text-blue-600"}),color:"blue"}),v.jsx(Hs,{title:" ",value:d?`${c}%`:" ",icon:v.jsx(Ff,{className:"text-red-600"}),color:"red",change:m||void 0,changeType:p||void 0,changeText:" "})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[v.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300",children:"   "}),v.jsx(Yf,{width:"100%",height:250,children:v.jsxs(nE,{data:s,children:[v.jsx(rd,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.3)"}),v.jsx(ad,{dataKey:"name",angle:-15,textAnchor:"end",height:50,tick:{fontFamily:"Cairo",fontSize:11},className:"text-gray-600 dark:text-gray-400"}),v.jsx(sd,{unit:"%",tick:{fontFamily:"Cairo"},className:"text-gray-600 dark:text-gray-400"}),v.jsx(nd,{wrapperStyle:{fontFamily:"Cairo"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.9)",color:"#000",borderRadius:"0.5rem",border:"1px solid #ccc"}}),v.jsx(sy,{dataKey:" ",fill:"#16A34A",barSize:25})]})})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300",children:"  "}),v.jsx(Yf,{width:"100%",height:250,children:v.jsxs(wJ,{data:h,children:[v.jsx(rd,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.3)"}),v.jsx(ad,{dataKey:"name",tick:{fontFamily:"Cairo"},className:"text-gray-600 dark:text-gray-400"}),v.jsx(sd,{tick:{fontFamily:"Cairo"},className:"text-gray-600 dark:text-gray-400",unit:"%"}),v.jsx(nd,{wrapperStyle:{fontFamily:"Cairo"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.9)",color:"#000",borderRadius:"0.5rem",border:"1px solid #ccc"}}),v.jsx(s4,{type:"monotone",dataKey:"",stroke:"#2E7D32",strokeWidth:2,activeDot:{r:8}})]})})]})]}),v.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx(CP,{className:"h-6 w-6 text-amber-500"}),v.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:" "})]}),v.jsx("ul",{className:"space-y-4",children:l.map((x,_)=>{var E;return v.jsxs("li",{className:"flex items-center gap-3 p-2 rounded-md transition-colors hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[v.jsxs("span",{className:`text-lg font-bold w-6 text-center ${_===0?"text-amber-500":_===1?"text-gray-400":"text-amber-700"}`,children:["#",_+1]}),v.jsxs("div",{className:"flex-grow",children:[v.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:x.name}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(E=n.find(S=>S.id===x.halaqaId))==null?void 0:E.name})]}),v.jsxs("div",{className:"text-left",children:[v.jsxs("p",{className:"text-sm font-bold text-green-700 dark:text-green-400",children:[x.memorizationProgress,"%"]}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:""})]})]},x.id)})})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300",children:" "}),i&&i.length>0?v.jsx("ul",{className:"space-y-4",children:i.map(x=>v.jsx(DJ,{log:x},x.id))}):v.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:v.jsx("p",{children:"    ."})})]})]})]})]})},LJ=({isOpen:t,onClose:e,onSave:n,halaqat:r,studentToEdit:i})=>{const[s,l]=w.useState(""),[c,d]=w.useState(""),[h,m]=w.useState(""),[p,x]=w.useState(""),[_,E]=w.useState(0),[S,T]=w.useState({}),I=!!i;if(w.useEffect(()=>{var q;t&&(I?(l(i.name),d(i.age),m(i.fatherPhoneNumber||""),x(i.halaqaId),E(i.memorizationProgress)):(l(""),d(""),m(""),x(((q=r[0])==null?void 0:q.id)||""),E(0)),T({}))},[t,i,I,r]),!t)return null;const j=()=>{const q={};return s.trim()||(q.name="  "),c?c<=0&&(q.age="     "):q.age="  ",h&&!/^\+?[0-9\s]+$/.test(h)&&(q.fatherPhoneNumber="       "),T(q),Object.keys(q).length===0},L=()=>{j()&&n({name:s,age:Number(c),fatherPhoneNumber:h,halaqaId:p,memorizationProgress:_},i==null?void 0:i.id)};return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-center items-center",onClick:e,children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6 m-4",onClick:q=>q.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center border-b dark:border-gray-700 pb-3 mb-4",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:I?"  ":"  "}),v.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-2xl leading-none",children:""})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),v.jsx("input",{type:"text",id:"name",value:s,onChange:q=>l(q.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 bg-gray-50 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 ${S.name?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-green-500"}`}),S.name&&v.jsx("p",{className:"text-red-500 text-xs mt-1",children:S.name})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:""}),v.jsx("input",{type:"number",id:"age",value:c,onChange:q=>d(q.target.value===""?"":Number(q.target.value)),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 bg-gray-50 dark:bg-gray-700 dark:text-white ${S.age?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-green-500"}`}),S.age&&v.jsx("p",{className:"text-red-500 text-xs mt-1",children:S.age})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"fatherPhoneNumber",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"    ()"}),v.jsx("input",{type:"tel",id:"fatherPhoneNumber",value:h,onChange:q=>m(q.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 text-left dir-ltr bg-gray-50 dark:bg-gray-700 dark:text-white ${S.fatherPhoneNumber?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-green-500"}`,placeholder:"05xxxxxxxx"}),S.fatherPhoneNumber&&v.jsx("p",{className:"text-red-500 text-xs mt-1",children:S.fatherPhoneNumber})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"halaqa",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:""}),v.jsx("select",{id:"halaqa",value:p,onChange:q=>x(q.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 bg-white dark:bg-gray-700 dark:text-white",children:r.map(q=>v.jsx("option",{value:q.id,children:q.name},q.id))})]}),v.jsxs("div",{children:[v.jsxs("label",{htmlFor:"progress",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[" : ",v.jsxs("span",{className:"font-bold text-green-700 dark:text-green-400",children:[_,"%"]})]}),v.jsx("input",{type:"range",id:"progress",min:"0",max:"100",value:_,onChange:q=>E(Number(q.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer accent-green-600"})]})]}),v.jsxs("div",{className:"flex justify-end space-x-4 space-x-reverse mt-6 pt-4 border-t dark:border-gray-700",children:[v.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500 transition-colors",children:""}),v.jsx("button",{onClick:L,className:"px-4 py-2 bg-green-700 text-white rounded-md hover:bg-green-800 transition-colors",children:I?" ":" "})]})]})})},rE=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex justify-center items-center",onClick:e,role:"dialog","aria-modal":"true",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6 m-4",onClick:s=>s.stopPropagation(),children:[v.jsxs("div",{className:"sm:flex sm:items-start",children:[v.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:v.jsx("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),v.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:mr-4 sm:text-right",children:[v.jsx("h3",{className:"text-lg leading-6 font-bold text-gray-900 dark:text-gray-100",id:"modal-title",children:r}),v.jsx("div",{className:"mt-2",children:v.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i})})]})]}),v.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse sm:gap-x-3",children:[v.jsx("button",{type:"button",className:"inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:w-auto sm:text-sm",onClick:n,children:""}),v.jsx("button",{type:"button",className:"mt-3 inline-flex justify-center w-full rounded-md border border-gray-300 dark:border-gray-500 shadow-sm px-4 py-2 bg-white dark:bg-gray-700 text-base font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:mt-0 sm:w-auto sm:text-sm",onClick:e,children:""})]})]})}):null,O_=({progress:t,size:e=120,strokeWidth:n=10,color:r="#2E7D32"})=>{const i=e/2,s=i-n/2,l=2*Math.PI*s,c=l-t/100*l;return v.jsxs("svg",{width:e,height:e,viewBox:`0 0 ${e} ${e}`,children:[v.jsx("circle",{className:"text-gray-200 dark:text-gray-600",stroke:"currentColor",fill:"transparent",strokeWidth:n,r:s,cx:i,cy:i}),v.jsx("circle",{stroke:r,fill:"transparent",strokeWidth:n,strokeLinecap:"round",strokeDasharray:l,strokeDashoffset:c,r:s,cx:i,cy:i,style:{transform:"rotate(-90deg)",transformOrigin:"50% 50%",transition:"stroke-dashoffset 0.5s ease-in-out"}}),v.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dy:".3em",className:"text-xl font-bold fill-current text-gray-700 dark:text-gray-200",children:`${Math.round(t)}%`})]})},VJ=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),zJ=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 012-2h2a2 2 0 012 2v1m-4 0h4m-6 6h6m-6 4h6m-6-8h6"})}),Ld=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"})}),Fm=({icon:t,label:e,value:n})=>v.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[v.jsx("span",{className:"text-green-700 dark:text-green-400",children:t}),v.jsxs("span",{className:"font-semibold text-gray-600 dark:text-gray-400",children:[e,":"]}),v.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:n||" "})]}),UJ=({status:t})=>{const e={present:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300",absent:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300",late:"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300"},n={present:"",absent:"",late:""};return v.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full ${e[t]}`,children:n[t]})},BJ=({isOpen:t,onClose:e,onEdit:n,student:r,halaqa:i,teacher:s,attendanceLogs:l})=>{if(!t)return null;const c=w.useMemo(()=>l?l.filter(h=>h.records&&r.id in h.records).map(h=>({date:new Date(h.date.seconds*1e3),status:h.records[r.id]})).sort((h,m)=>m.date.getTime()-h.date.getTime()).slice(0,5):[],[l,r.id]),d=h=>new Intl.DateTimeFormat("ar-SA",{weekday:"long",month:"long",day:"numeric"}).format(h);return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 flex justify-center items-center p-4",onClick:e,children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl",onClick:h=>h.stopPropagation(),children:[v.jsxs("div",{className:"p-5 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between bg-gray-50 dark:bg-gray-800 rounded-t-lg",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:r.name}),v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"  "})]}),v.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-3xl leading-none",children:""})]}),v.jsxs("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-around gap-6 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[v.jsxs("div",{className:"text-center",children:[v.jsx(O_,{progress:r.memorizationProgress,color:"#16A34A",size:100,strokeWidth:8}),v.jsx("p",{className:"mt-2 font-semibold text-gray-700 dark:text-gray-300",children:" "})]}),v.jsxs("div",{className:"text-center",children:[v.jsx(O_,{progress:r.attendanceRate,color:"#F59E0B",size:100,strokeWidth:8}),v.jsx("p",{className:"mt-2 font-semibold text-gray-700 dark:text-gray-300",children:" "})]})]}),v.jsxs("div",{className:"space-y-4 p-4",children:[v.jsx(Fm,{icon:v.jsx(qJ,{className:"w-5 h-5"}),label:"",value:`${r.age} `}),v.jsx(Fm,{icon:v.jsx(Na,{className:"w-5 h-5"}),label:"",value:i==null?void 0:i.name}),v.jsx(Fm,{icon:v.jsx(zJ,{className:"w-5 h-5"}),label:"",value:s==null?void 0:s.name}),v.jsx(Fm,{icon:v.jsx(VJ,{className:"w-5 h-5"}),label:" ",value:r.fatherPhoneNumber})]})]}),v.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"  "}),c.length>0?v.jsx("ul",{className:"space-y-2",children:c.map((h,m)=>v.jsxs("li",{className:"flex items-center justify-between p-2 rounded-md bg-gray-50 dark:bg-gray-700/50",children:[v.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:d(h.date)}),v.jsx(UJ,{status:h.status})]},m))}):v.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"    ."})]})]}),v.jsxs("div",{className:"flex justify-end space-x-4 space-x-reverse p-4 bg-gray-50 dark:bg-gray-900/50 rounded-b-lg border-t dark:border-gray-700",children:[v.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500 transition-colors",children:""}),v.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[v.jsx(Ld,{className:"w-4 h-4"}),""]})]})]})})},qJ=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),iE=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),aE=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),FJ=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),qN=({students:t,halaqat:e,teachers:n,onSave:r,onDelete:i,attendanceLogs:s,teacherId:l})=>{const[c,d]=w.useState(!1),[h,m]=w.useState(!1),[p,x]=w.useState(!1),[_,E]=w.useState(null),[S,T]=w.useState(null),[I,j]=w.useState(null),[L,q]=w.useState(""),[V,F]=w.useState(""),[N,k]=w.useState(0),D=()=>{E(null),d(!0)},B=G=>{E(G),d(!0)},P=G=>{j(G),x(!0)},U=G=>{T(G),m(!0)},M=()=>{d(!1),m(!1),x(!1),E(null),T(null),j(null)},he=(G,ce)=>{r(G,ce),M()},be=()=>{S&&i(S.id),M()},W=G=>{var ce;return((ce=e.find(xe=>xe.id===G))==null?void 0:ce.name)||" "},te=w.useMemo(()=>t.filter(G=>{const ce=l?G.teacherId===l:!0,xe=G.name.toLowerCase().includes(L.toLowerCase()),$=V?G.halaqaId===V:!0,re=G.memorizationProgress>=N;return ce&&xe&&$&&re}),[t,L,V,N,l]);return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:l?"":" "}),!l&&v.jsxs("button",{onClick:D,className:"flex items-center bg-green-700 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-800 transition-colors duration-300 shadow-md",children:[v.jsx(iE,{className:"w-5 h-5 ml-2"}),"  "]})]}),v.jsxs("div",{className:"mb-6 bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 items-end",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),v.jsxs("div",{className:"relative",children:[v.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:v.jsx(FJ,{className:"w-5 h-5"})}),v.jsx("input",{type:"text",id:"search",placeholder:"...",value:L,onChange:G=>q(G.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 bg-white dark:bg-gray-700 dark:text-white"})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"halaqaFilter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),v.jsxs("select",{id:"halaqaFilter",value:V,onChange:G=>F(G.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 bg-white dark:bg-gray-700 dark:text-white",children:[v.jsx("option",{value:"",children:" "}),e.map(G=>v.jsx("option",{value:G.id,children:G.name},G.id))]})]}),v.jsx("div",{children:v.jsx("button",{onClick:()=>{q(""),F(""),k(0)},className:"w-full bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors duration-300 shadow-sm",children:" "})})]}),v.jsxs("div",{className:"mt-4",children:[v.jsxs("label",{htmlFor:"progressFilter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["  : ",v.jsxs("span",{className:"font-bold text-green-700 dark:text-green-400",children:[N,"%"]})]}),v.jsx("input",{type:"range",id:"progressFilter",min:"0",max:"100",value:N,onChange:G=>k(Number(G.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer accent-green-600"})]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[v.jsx("thead",{className:"bg-green-50 dark:bg-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:" "}),v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:""}),v.jsx("th",{className:"text-center font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:" "}),v.jsx("th",{className:"text-center font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:" "}),v.jsx("th",{className:"text-center font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:""})]})}),v.jsx("tbody",{children:te.length>0?te.map(G=>v.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200 cursor-pointer",onClick:()=>P(G),children:[v.jsx("td",{className:"px-4 py-3 text-gray-800 dark:text-gray-200",children:G.name}),v.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400",children:W(G.halaqaId)}),v.jsxs("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400 text-center",children:[v.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2.5",children:v.jsx("div",{className:"bg-green-600 h-2.5 rounded-full",style:{width:`${G.memorizationProgress}%`}})}),v.jsxs("span",{className:"text-sm font-medium",children:[G.memorizationProgress,"%"]})]}),v.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400 text-center",children:v.jsxs("span",{className:`px-2 py-1 text-sm font-semibold rounded-full ${G.attendanceRate>90?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300"}`,children:[G.attendanceRate,"%"]})}),v.jsxs("td",{className:"px-4 py-3 text-center",onClick:ce=>ce.stopPropagation(),children:[v.jsx("button",{onClick:()=>B(G),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 p-1 mx-1 transition-colors","aria-label":` ${G.name}`,children:v.jsx(Ld,{className:"w-5 h-5"})}),v.jsx("button",{onClick:()=>U(G),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 p-1 mx-1 transition-colors","aria-label":` ${G.name}`,children:v.jsx(aE,{className:"w-5 h-5"})})]})]},G.id)):v.jsx("tr",{children:v.jsxs("td",{colSpan:5,className:"text-center py-10 text-gray-500 dark:text-gray-400",children:[v.jsx("p",{className:"text-lg font-semibold",children:"     ."}),v.jsx("p",{children:"      ."})]})})})]})})]}),v.jsx(LJ,{isOpen:c,onClose:M,onSave:he,halaqat:e,studentToEdit:_}),v.jsx(rE,{isOpen:h,onClose:M,onConfirm:be,title:" ",message:`        "${S==null?void 0:S.name}"      .`}),I&&v.jsx(BJ,{isOpen:p,onClose:M,student:I,halaqa:e.find(G=>G.id===I.halaqaId),teacher:n.find(G=>G.id===I.teacherId),attendanceLogs:s,onEdit:()=>{M(),B(I)}})]})},HJ=({isOpen:t,onClose:e,onSave:n,teacherToEdit:r})=>{const[i,s]=w.useState(""),[l,c]=w.useState(""),[d,h]=w.useState(""),[m,p]=w.useState({}),[x,_]=w.useState(!1),E=!!r;if(w.useEffect(()=>{t&&(E?(s(r.name),c(r.email),h("")):(s(""),c(""),h("")),p({}),_(!1))},[t,r,E]),!t)return null;const S=()=>{const j={};return i.trim()||(j.name="  "),l.trim()?/\S+@\S+\.\S+/.test(l)||(j.email="    "):j.email="  ",!E&&!d?j.password="  ":d&&d.length<6&&(j.password="       6 "),p(j),Object.keys(j).length===0},T=async()=>{if(!S()||x)return;_(!0),p(L=>({...L,form:void 0}));const j={name:i,email:l};d&&(j.password=d);try{await n(j,r==null?void 0:r.id),e()}catch(L){p(q=>({...q,form:L.message||"   "}))}finally{_(!1)}},I=j=>L=>{p({}),j(L.target.value)};return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-center items-center",onClick:e,children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6 m-4",onClick:j=>j.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center border-b dark:border-gray-700 pb-3 mb-4",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:E?"  ":"  "}),v.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-2xl leading-none",children:""})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"teacher-name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),v.jsx("input",{type:"text",id:"teacher-name",value:i,onChange:I(s),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 bg-gray-50 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 ${m.name?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-green-500"}`}),m.name&&v.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.name})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),v.jsx("input",{type:"email",id:"email",value:l,onChange:I(c),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 bg-gray-50 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 ${m.email?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-green-500"}`,placeholder:"example@email.com"}),m.email&&v.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.email})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),v.jsx("input",{type:"password",id:"password",value:d,onChange:I(h),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 bg-gray-50 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 ${m.password?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-green-500"}`,placeholder:E?"   ":"6   "}),m.password&&v.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.password})]}),m.form&&v.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 border-r-4 border-red-500 rounded-md",children:v.jsx("p",{className:"text-sm text-center text-red-700 dark:text-red-300",children:m.form})})]}),v.jsxs("div",{className:"flex justify-end space-x-4 space-x-reverse mt-6 pt-4 border-t dark:border-gray-700",children:[v.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500 transition-colors",disabled:x,children:""}),v.jsx("button",{onClick:T,className:"px-4 py-2 bg-green-700 text-white rounded-md hover:bg-green-800 transition-colors disabled:bg-green-400 disabled:cursor-not-allowed",disabled:x,children:x?" ...":E?" ":" "})]})]})})},$J=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),FN=({icon:t,label:e,value:n})=>v.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-gray-100 dark:bg-gray-700/50 rounded-lg text-center",children:[v.jsx("span",{className:"text-green-700 dark:text-green-500 mb-2",children:t}),v.jsx("p",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:n}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e})]}),KJ=({isOpen:t,onClose:e,onEdit:n,teacher:r,assignedHalaqat:i,studentCount:s,averageMemorization:l})=>t?v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 flex justify-center items-center p-4",onClick:e,children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl",onClick:c=>c.stopPropagation(),children:[v.jsxs("div",{className:"p-5 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between bg-gray-50 dark:bg-gray-800 rounded-t-lg",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:r.name}),v.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mt-1",children:[v.jsx($J,{className:"w-4 h-4"}),v.jsx("span",{children:r.email})]})]}),v.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-3xl leading-none",children:""})]}),v.jsx("div",{className:"p-6",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 p-4 bg-gray-50 dark:bg-gray-700/20 rounded-lg",children:[v.jsxs("div",{className:"text-center",children:[v.jsx(O_,{progress:l,color:"#16A34A",size:100,strokeWidth:8}),v.jsx("p",{className:"mt-2 font-semibold text-gray-700 dark:text-gray-300",children:"  "})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full",children:[v.jsx(FN,{icon:v.jsx(Na,{className:"w-6 h-6"}),label:" ",value:i.length}),v.jsx(FN,{icon:v.jsx(Ks,{className:"w-6 h-6"}),label:" ",value:s})]})]}),v.jsxs("div",{className:"p-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300 border-b dark:border-gray-700 pb-2 mb-3",children:" "}),i.length>0?v.jsx("ul",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400 max-h-48 overflow-y-auto pr-2",children:i.map(c=>v.jsxs("li",{className:"flex items-center justify-between p-2 rounded-md bg-gray-50 dark:bg-gray-700/50",children:[v.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:c.name}),v.jsxs("span",{className:"text-xs font-semibold bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300 px-2 py-1 rounded-full",children:[c.studentCount," "]})]},c.id))}):v.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 mt-8",children:"       ."})]})]})}),v.jsxs("div",{className:"flex justify-end space-x-4 space-x-reverse p-4 bg-gray-50 dark:bg-gray-900/50 rounded-b-lg border-t dark:border-gray-700",children:[v.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500 transition-colors",children:""}),v.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[v.jsx(Ld,{className:"w-4 h-4"}),""]})]})]})}):null,GJ=({teachers:t,halaqat:e,students:n,onSave:r,onDelete:i})=>{const[s,l]=w.useState(!1),[c,d]=w.useState(!1),[h,m]=w.useState(!1),[p,x]=w.useState(null),[_,E]=w.useState(null),[S,T]=w.useState(null),I=()=>{x(null),l(!0)},j=k=>{x(k),l(!0)},L=k=>{T(k),m(!0)},q=k=>{E(k),d(!0)},V=()=>{l(!1),d(!1),m(!1),x(null),E(null),T(null)},F=()=>{_&&i(_.id),V()},N=w.useMemo(()=>{if(!S)return null;const k=e.filter(M=>M.teacherId===S.id),D=n.filter(M=>M.teacherId===S.id),B=D.length,P=D.reduce((M,he)=>M+he.memorizationProgress,0),U=B>0?Math.round(P/B):0;return{assignedHalaqat:k,studentCount:B,averageMemorization:U}},[S,e,n]);return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:" "}),v.jsxs("button",{onClick:I,className:"flex items-center bg-green-700 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-800 transition-colors duration-300 shadow-md",children:[v.jsx(iE,{className:"w-5 h-5 ml-2"}),"  "]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[v.jsx("thead",{className:"bg-green-50 dark:bg-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:" "}),v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:" "}),v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:" "}),v.jsx("th",{className:"text-center font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:" "}),v.jsx("th",{className:"text-center font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:""})]})}),v.jsx("tbody",{children:t.map(k=>{const D=e.filter(P=>P.teacherId===k.id),B=n.filter(P=>P.teacherId===k.id).length;return v.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200 cursor-pointer",onClick:()=>L(k),children:[v.jsx("td",{className:"px-4 py-3 text-gray-800 dark:text-gray-200",children:k.name}),v.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400",children:k.email}),v.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400",children:D.length>0?D.map(P=>P.name).join(" "):" "}),v.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400 text-center",children:B}),v.jsxs("td",{className:"px-4 py-3 text-center",onClick:P=>P.stopPropagation(),children:[v.jsx("button",{onClick:()=>j(k),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 p-1 mx-1 transition-colors","aria-label":` ${k.name}`,children:v.jsx(Ld,{className:"w-5 h-5"})}),v.jsx("button",{onClick:()=>q(k),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 p-1 mx-1 transition-colors","aria-label":` ${k.name}`,children:v.jsx(aE,{className:"w-5 h-5"})})]})]},k.id)})})]})})]}),v.jsx(HJ,{isOpen:s,onClose:V,onSave:r,teacherToEdit:p}),v.jsx(rE,{isOpen:c,onClose:V,onConfirm:F,title:" ",message:`        "${_==null?void 0:_.name}"      .  :            Firebase Authentication.`}),S&&N&&v.jsx(KJ,{isOpen:h,onClose:V,onEdit:()=>{V(),j(S)},teacher:S,assignedHalaqat:N.assignedHalaqat,studentCount:N.studentCount,averageMemorization:N.averageMemorization})]})},YJ=({isOpen:t,onClose:e,onSave:n,teachers:r,halaqaToEdit:i})=>{const[s,l]=w.useState(""),[c,d]=w.useState(""),[h,m]=w.useState({}),p=!!i;if(w.useEffect(()=>{var E;t&&(p?(l(i.name),d(i.teacherId)):(l(""),d(((E=r[0])==null?void 0:E.id)||"")),m({}))},[t,i,p,r]),!t)return null;const x=()=>{const E={};return s.trim()||(E.name="  "),c||(E.teacherId="   "),m(E),Object.keys(E).length===0},_=()=>{x()&&n({name:s,teacherId:c},i==null?void 0:i.id)};return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 flex justify-center items-center",onClick:e,children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md p-6 m-4",onClick:E=>E.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center border-b dark:border-gray-700 pb-3 mb-4",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:p?"  ":"  "}),v.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-2xl leading-none",children:""})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"halaqa-name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),v.jsx("input",{type:"text",id:"halaqa-name",value:s,onChange:E=>l(E.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 bg-gray-50 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 ${h.name?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-green-500"}`}),h.name&&v.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.name})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"teacher",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),v.jsxs("select",{id:"teacher",value:c,onChange:E=>d(E.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 bg-white dark:bg-gray-700 dark:text-white ${h.teacherId?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-green-500"}`,children:[v.jsx("option",{value:"",disabled:!0,children:"--   --"}),r.map(E=>v.jsx("option",{value:E.id,children:E.name},E.id))]}),h.teacherId&&v.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.teacherId})]})]}),v.jsxs("div",{className:"flex justify-end space-x-4 space-x-reverse mt-6 pt-4 border-t dark:border-gray-700",children:[v.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500 transition-colors",children:""}),v.jsx("button",{onClick:_,className:"px-4 py-2 bg-green-700 text-white rounded-md hover:bg-green-800 transition-colors",children:p?" ":" "})]})]})})},HN=({halaqat:t,teachers:e,onSave:n,onDelete:r,teacherId:i})=>{const[s,l]=w.useState(!1),[c,d]=w.useState(!1),[h,m]=w.useState(null),[p,x]=w.useState(null),_=()=>{m(null),l(!0)},E=V=>{m(V),l(!0)},S=V=>{x(V),d(!0)},T=()=>{l(!1),d(!1),m(null),x(null)},I=(V,F)=>{n(V,F),T()},j=()=>{p&&r(p.id),T()},L=V=>{var F;return((F=e.find(N=>N.id===V))==null?void 0:F.name)||" "},q=w.useMemo(()=>i?t.filter(V=>V.teacherId===i):t,[t,i]);return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:i?"":" "}),!i&&v.jsxs("button",{onClick:_,className:"flex items-center bg-green-700 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-800 transition-colors duration-300 shadow-md",children:[v.jsx(iE,{className:"w-5 h-5 ml-2"}),"  "]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[v.jsx("thead",{className:"bg-green-50 dark:bg-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:" "}),v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:" "}),v.jsx("th",{className:"text-center font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:" "}),!i&&v.jsx("th",{className:"text-center font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:""})]})}),v.jsx("tbody",{children:q.map(V=>v.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200",children:[v.jsx("td",{className:"px-4 py-3 text-gray-800 dark:text-gray-200",children:V.name}),v.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400",children:L(V.teacherId)}),v.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400 text-center",children:V.studentCount}),!i&&v.jsxs("td",{className:"px-4 py-3 text-center",children:[v.jsx("button",{onClick:()=>E(V),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 p-1 mx-1 transition-colors","aria-label":` ${V.name}`,children:v.jsx(Ld,{className:"w-5 h-5"})}),v.jsx("button",{onClick:()=>S(V),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 p-1 mx-1 transition-colors","aria-label":` ${V.name}`,children:v.jsx(aE,{className:"w-5 h-5"})})]})]},V.id))})]})})]}),v.jsx(YJ,{isOpen:s,onClose:T,onSave:I,teachers:e,halaqaToEdit:h}),v.jsx(rE,{isOpen:c,onClose:T,onConfirm:j,title:" ",message:`        "${p==null?void 0:p.name}"      .`})]})},WJ=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),XJ=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),QJ=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),ZJ=({students:t,halaqat:e,attendanceLogs:n,teacherId:r,onSave:i})=>{const[s,l]=w.useState(""),[c,d]=w.useState([]),[h,m]=w.useState({}),[p,x]=w.useState(!1),[_,E]=w.useState(!1),[S,T]=w.useState(null),[I,j]=w.useState([]),[L,q]=w.useState(!1),V=new Date,F=new Intl.DateTimeFormat("ar-SA",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(V),N=w.useMemo(()=>r?e.filter(M=>M.teacherId===r):e,[e,r]);w.useEffect(()=>{N.length>0?N.find(M=>M.id===s)||l(N[0].id):l("")},[N,s]),w.useEffect(()=>{if(s){const M=t.filter(G=>G.halaqaId===s);d(M),q(!1);const he=new Date;he.setHours(0,0,0,0);const be=new Date;be.setHours(23,59,59,999);const W=n.find(G=>{if(G.halaqaId!==s)return!1;const ce=new Date(G.date.seconds*1e3);return ce>=he&&ce<=be}),te={};W?(M.forEach(G=>{te[G.id]=W.records[G.id]||"present"}),q(!0)):M.forEach(G=>{te[G.id]="present"}),m(te)}else d([]),m({}),q(!1)},[s,t,n]),w.useEffect(()=>{if(s&&n){const M=n.filter(he=>he.halaqaId===s).sort((he,be)=>be.date.seconds-he.date.seconds);j(M)}else j([])},[s,n]);const k=w.useMemo(()=>{const M={present:0,absent:0,late:0};return Object.values(h).forEach(he=>{(he==="present"||he==="absent"||he==="late")&&M[he]++}),M},[h]),D=(M,he)=>{m(be=>({...be,[M]:he}))},B=async()=>{var he;x(!0),T(null);const M=r||((he=e.find(be=>be.id===s))==null?void 0:he.teacherId);if(!M){T("       ."),x(!1);return}try{await i(h,s,M),E(!0),setTimeout(()=>E(!1),3e3)}catch(be){console.error("Failed to save attendance:",be),be.message==="permission-denied"?T(v.jsxs("div",{className:"text-right text-sm",children:[v.jsx("p",{className:"font-bold mb-2",children:"  :   ."}),v.jsxs("p",{children:["    Firestore  .        Firebase       ",v.jsx("code",{className:"bg-gray-200 dark:bg-gray-600 px-1 rounded",children:"daily_attendance"}),"."]})]})):T("    .    .")}finally{x(!1)}},P=({label:M,status:he,currentStatus:be,onClick:W})=>{const te=he===be,G="font-bold py-2 px-4 rounded-md transition-all duration-200 w-24 text-sm",ce={present:te?"bg-green-600 text-white shadow-md":"bg-white dark:bg-gray-700 text-green-600 dark:text-green-400 border border-green-600 dark:border-green-500 hover:bg-green-50 dark:hover:bg-gray-600",absent:te?"bg-red-600 text-white shadow-md":"bg-white dark:bg-gray-700 text-red-600 dark:text-red-400 border border-red-600 dark:border-red-500 hover:bg-red-50 dark:hover:bg-gray-600",late:te?"bg-amber-500 text-white shadow-md":"bg-white dark:bg-gray-700 text-amber-500 dark:text-amber-400 border border-amber-500 dark:border-amber-500 hover:bg-amber-50 dark:hover:bg-gray-600"};return v.jsx("button",{onClick:W,className:`${G} ${ce[he]}`,children:M})},U=({logs:M})=>{const he=W=>{const te={present:0,absent:0,late:0};return Object.values(W).forEach(G=>{G==="present"&&te.present++,G==="absent"&&te.absent++,G==="late"&&te.late++}),te},be=W=>new Intl.DateTimeFormat("ar-SA",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(new Date(W.seconds*1e3));return M.length===0?v.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400 border-t dark:border-gray-700 mt-8",children:v.jsx("p",{children:"      ."})}):v.jsxs("div",{className:"mt-10 pt-6 border-t dark:border-gray-700",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-200 mb-4",children:"  ( 7 )"}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[v.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:""}),v.jsx("th",{className:"text-center font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:""}),v.jsx("th",{className:"text-center font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:""}),v.jsx("th",{className:"text-center font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:""})]})}),v.jsx("tbody",{children:M.map(W=>{const te=he(W.records);return v.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200",children:[v.jsx("td",{className:"px-4 py-3 text-gray-800 dark:text-gray-200 font-medium",children:be(W.date)}),v.jsx("td",{className:"px-4 py-3 text-center text-green-600 dark:text-green-400 font-semibold",children:te.present}),v.jsx("td",{className:"px-4 py-3 text-center text-red-600 dark:text-red-400 font-semibold",children:te.absent}),v.jsx("td",{className:"px-4 py-3 text-center text-amber-600 dark:text-amber-400 font-semibold",children:te.late})]},W.id)})})]})})]})};return v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center mb-6 gap-4",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:" "}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"halaqa-select",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),v.jsx("select",{id:"halaqa-select",value:s,onChange:M=>l(M.target.value),className:"w-full md:w-72 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 bg-white dark:bg-gray-700 dark:text-white",disabled:N.length===0,children:N.length===0?v.jsx("option",{children:"   "}):v.jsxs(v.Fragment,{children:[v.jsx("option",{value:"",disabled:!0,children:"--   --"}),N.map(M=>v.jsx("option",{value:M.id,children:M.name},M.id))]})})]})]}),s?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border-r-4 border-green-500 p-4 rounded-md mb-6",children:[v.jsxs("p",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:["  : ",v.jsx("span",{className:"text-green-800 dark:text-green-400",children:F})]}),L&&v.jsx("p",{className:"text-sm text-green-700 dark:text-green-500 mt-1",children:"      .    ."})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[v.jsxs("div",{className:"flex items-center p-4 bg-green-50 dark:bg-green-900/30 rounded-lg border-r-4 border-green-500",children:[v.jsx(WJ,{className:"w-8 h-8 text-green-600 dark:text-green-400 ml-4"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:""}),v.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:k.present})]})]}),v.jsxs("div",{className:"flex items-center p-4 bg-red-50 dark:bg-red-900/30 rounded-lg border-r-4 border-red-500",children:[v.jsx(XJ,{className:"w-8 h-8 text-red-600 dark:text-red-400 ml-4"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:""}),v.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:k.absent})]})]}),v.jsxs("div",{className:"flex items-center p-4 bg-amber-50 dark:bg-amber-900/30 rounded-lg border-r-4 border-amber-500",children:[v.jsx(QJ,{className:"w-8 h-8 text-amber-500 dark:text-amber-400 ml-4"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:""}),v.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:k.late})]})]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[v.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3 w-1/3",children:" "}),v.jsx("th",{className:"text-center font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:""})]})}),v.jsx("tbody",{children:c.map(M=>v.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200",children:[v.jsx("td",{className:"px-4 py-3 text-gray-800 dark:text-gray-200 font-medium",children:M.name}),v.jsx("td",{className:"px-4 py-3 text-center",children:v.jsxs("div",{className:"flex justify-center items-center gap-2",children:[v.jsx(P,{label:"",status:"present",currentStatus:h[M.id],onClick:()=>D(M.id,"present")}),v.jsx(P,{label:"",status:"absent",currentStatus:h[M.id],onClick:()=>D(M.id,"absent")}),v.jsx(P,{label:"",status:"late",currentStatus:h[M.id],onClick:()=>D(M.id,"late")})]})})]},M.id))})]})}),v.jsxs("div",{className:"mt-6 flex flex-col items-end gap-4",children:[S&&v.jsx("div",{className:"w-full p-4 bg-red-100 dark:bg-red-900/30 border-r-4 border-red-500 rounded-md",children:v.jsx("div",{className:"text-red-700 dark:text-red-300",children:S})}),v.jsxs("div",{className:"flex items-center gap-4",children:[_&&v.jsx("div",{className:"text-green-700 bg-green-100 dark:text-green-300 dark:bg-green-900/50 py-2 px-4 rounded-md transition-opacity duration-300",children:"   !"}),v.jsx("button",{onClick:B,disabled:p,className:"bg-green-700 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-800 transition-colors duration-300 shadow-md disabled:bg-green-400 disabled:cursor-not-allowed",children:p?" ...":" "})]})]}),v.jsx(U,{logs:I})]}):v.jsx("div",{className:"text-center py-16",children:v.jsx("p",{className:"text-xl font-semibold text-gray-500 dark:text-gray-400",children:r&&N.length===0?"      .":"      ."})})]})},$N=[{id:1,name:"",verse_count:7},{id:2,name:"",verse_count:286},{id:3,name:" ",verse_count:200},{id:4,name:"",verse_count:176},{id:5,name:"",verse_count:120},{id:6,name:"",verse_count:165},{id:7,name:"",verse_count:206},{id:8,name:"",verse_count:75},{id:9,name:"",verse_count:129},{id:10,name:"",verse_count:109},{id:11,name:"",verse_count:123},{id:12,name:"",verse_count:111},{id:13,name:"",verse_count:43},{id:14,name:"",verse_count:52},{id:15,name:"",verse_count:99},{id:16,name:"",verse_count:128},{id:17,name:"",verse_count:111},{id:18,name:"",verse_count:110},{id:19,name:"",verse_count:98},{id:20,name:"",verse_count:135},{id:21,name:"",verse_count:112},{id:22,name:"",verse_count:78},{id:23,name:"",verse_count:118},{id:24,name:"",verse_count:64},{id:25,name:"",verse_count:77},{id:26,name:"",verse_count:227},{id:27,name:"",verse_count:93},{id:28,name:"",verse_count:88},{id:29,name:"",verse_count:69},{id:30,name:"",verse_count:60},{id:31,name:"",verse_count:34},{id:32,name:"",verse_count:30},{id:33,name:"",verse_count:73},{id:34,name:"",verse_count:54},{id:35,name:"",verse_count:45},{id:36,name:"",verse_count:83},{id:37,name:"",verse_count:182},{id:38,name:"",verse_count:88},{id:39,name:"",verse_count:75},{id:40,name:"",verse_count:85},{id:41,name:"",verse_count:54},{id:42,name:"",verse_count:53},{id:43,name:"",verse_count:89},{id:44,name:"",verse_count:59},{id:45,name:"",verse_count:37},{id:46,name:"",verse_count:35},{id:47,name:"",verse_count:38},{id:48,name:"",verse_count:29},{id:49,name:"",verse_count:18},{id:50,name:"",verse_count:45},{id:51,name:"",verse_count:60},{id:52,name:"",verse_count:49},{id:53,name:"",verse_count:62},{id:54,name:"",verse_count:55},{id:55,name:"",verse_count:78},{id:56,name:"",verse_count:96},{id:57,name:"",verse_count:29},{id:58,name:"",verse_count:22},{id:59,name:"",verse_count:24},{id:60,name:"",verse_count:13},{id:61,name:"",verse_count:14},{id:62,name:"",verse_count:11},{id:63,name:"",verse_count:11},{id:64,name:"",verse_count:18},{id:65,name:"",verse_count:12},{id:66,name:"",verse_count:12},{id:67,name:"",verse_count:30},{id:68,name:"",verse_count:52},{id:69,name:"",verse_count:52},{id:70,name:"",verse_count:44},{id:71,name:"",verse_count:28},{id:72,name:"",verse_count:28},{id:73,name:"",verse_count:20},{id:74,name:"",verse_count:56},{id:75,name:"",verse_count:40},{id:76,name:"",verse_count:31},{id:77,name:"",verse_count:50},{id:78,name:"",verse_count:40},{id:79,name:"",verse_count:46},{id:80,name:"",verse_count:42},{id:81,name:"",verse_count:29},{id:82,name:"",verse_count:19},{id:83,name:"",verse_count:36},{id:84,name:"",verse_count:25},{id:85,name:"",verse_count:22},{id:86,name:"",verse_count:17},{id:87,name:"",verse_count:19},{id:88,name:"",verse_count:26},{id:89,name:"",verse_count:30},{id:90,name:"",verse_count:20},{id:91,name:"",verse_count:15},{id:92,name:"",verse_count:21},{id:93,name:"",verse_count:11},{id:94,name:"",verse_count:8},{id:95,name:"",verse_count:8},{id:96,name:"",verse_count:19},{id:97,name:"",verse_count:5},{id:98,name:"",verse_count:8},{id:99,name:"",verse_count:8},{id:100,name:"",verse_count:11},{id:101,name:"",verse_count:11},{id:102,name:"",verse_count:8},{id:103,name:"",verse_count:3},{id:104,name:"",verse_count:9},{id:105,name:"",verse_count:5},{id:106,name:"",verse_count:4},{id:107,name:"",verse_count:7},{id:108,name:"",verse_count:3},{id:109,name:"",verse_count:6},{id:110,name:"",verse_count:3},{id:111,name:"",verse_count:5},{id:112,name:"",verse_count:4},{id:113,name:"",verse_count:5},{id:114,name:"",verse_count:6}],JJ=({className:t="w-6 h-6"})=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}),v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.05 12A9 9 0 0012 21a9 9 0 008.95-9"})]}),oy=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),eee=({quality:t})=>{const e={good:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300",average:"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-300",repeat:"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"},n={good:"",average:"",repeat:""};return v.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${e[t]}`,children:n[t]})},tee=({isOpen:t,onClose:e,student:n,history:r,isLoading:i,error:s})=>{if(!t)return null;const l=c=>c!=null&&c.seconds?new Date(c.seconds*1e3).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric"}):"...";return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-40 flex justify-center items-center p-4",onClick:e,children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl",onClick:c=>c.stopPropagation(),children:[v.jsxs("div",{className:"p-5 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between bg-gray-50 dark:bg-gray-800 rounded-t-lg",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(JJ,{className:"w-6 h-6 text-green-700 dark:text-green-500"}),v.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:["  : ",v.jsx("span",{className:"text-green-800 dark:text-green-400",children:n.name})]})]}),v.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 text-3xl leading-none",children:""})]}),v.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:i?v.jsx("div",{className:"flex justify-center items-center h-48",children:v.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"  ..."})}):s?v.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border-r-4 border-red-500 rounded-md flex items-start gap-4",children:[v.jsx(oy,{className:"w-8 h-8 text-red-500 flex-shrink-0 mt-1"}),v.jsx("div",{children:s})]}):r.length===0?v.jsxs("div",{className:"text-center py-12",children:[v.jsx("p",{className:"text-lg font-semibold text-gray-500 dark:text-gray-400",children:"      ."}),v.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"      ."})]}):v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[v.jsx("thead",{className:"bg-green-50 dark:bg-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:""}),v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:""}),v.jsx("th",{className:"text-center font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:""}),v.jsx("th",{className:"text-center font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:""}),v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:""})]})}),v.jsx("tbody",{children:r.map(c=>v.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200",children:[v.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400",children:l(c.date)}),v.jsx("td",{className:"px-4 py-3 text-gray-800 dark:text-gray-200 font-medium",children:c.surah}),v.jsxs("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400 text-center",dir:"ltr",children:[c.fromVerse," - ",c.toVerse]}),v.jsx("td",{className:"px-4 py-3 text-center",children:v.jsx(eee,{quality:c.quality})}),v.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400 text-sm",children:c.notes||"-"})]},c.id))})]})})}),v.jsx("div",{className:"flex justify-end p-4 bg-gray-50 dark:bg-gray-900/50 rounded-b-lg border-t dark:border-gray-700",children:v.jsx("button",{onClick:e,className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500 transition-colors",children:""})})]})})},nee=()=>{};var KN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ree=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},E4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,m=s>>2,p=(s&3)<<4|c>>4;let x=(c&15)<<2|h>>6,_=h&63;d||(_=64,l||(x=64)),r.push(n[m],n[p],n[x],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(w4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ree(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||h==null||p==null)throw new iee;const x=s<<2|c>>4;if(r.push(x),h!==64){const _=c<<4&240|h>>2;if(r.push(_),p!==64){const E=h<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aee=function(t){const e=w4(t);return E4.encodeByteArray(e,!0)},ip=function(t){return aee(t).replace(/\./g,"")},S4=function(t){try{return E4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function see(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oee=()=>see().__FIREBASE_DEFAULTS__,lee=()=>{if(typeof process>"u"||typeof KN>"u")return;const t=KN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uee=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&S4(t[1]);return e&&JSON.parse(e)},ly=()=>{try{return nee()||oee()||lee()||uee()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},A4=t=>{var e,n;return(n=(e=ly())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},cee=t=>{const e=A4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},T4=()=>{var t;return(t=ly())==null?void 0:t.config},O4=t=>{var e;return(e=ly())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function C4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dee(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ip(JSON.stringify(n)),ip(JSON.stringify(l)),""].join(".")}const Lf={};function hee(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lf))Lf[e]?t.emulator.push(e):t.prod.push(e);return t}function mee(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let GN=!1;function I4(t,e){if(typeof window>"u"||typeof document>"u"||!oc(window.location.host)||Lf[t]===e||Lf[t]||GN)return;Lf[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",s=hee().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function c(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,_){x.setAttribute("width","24"),x.setAttribute("id",_),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{GN=!0,l()},x}function m(x,_){x.setAttribute("id",_),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function p(){const x=mee(r),_=n("text"),E=document.getElementById(_)||document.createElement("span"),S=n("learnmore"),T=document.getElementById(S)||document.createElement("a"),I=n("preprendIcon"),j=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const L=x.element;c(L),m(T,S);const q=h();d(j,I),L.append(j,E,T,q),document.body.appendChild(L)}s?(E.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yn())}function pee(){var e;const t=(e=ly())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yee(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vee(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bee(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xee(){const t=Yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _ee(){return!pee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wee(){try{return typeof indexedDB=="object"}catch{return!1}}function Eee(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const See="FirebaseError";class ns extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=See,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vd.prototype.create)}}class Vd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?Aee(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new ns(i,c,r)}}function Aee(t,e){return t.replace(Tee,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Tee=/\{\$([^}]+)}/g;function Oee(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(YN(s)&&YN(l)){if(!yl(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function YN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function kf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Cee(t,e){const n=new Iee(t,e);return n.subscribe.bind(n)}class Iee{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Nee(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mx),i.error===void 0&&(i.error=mx),i.complete===void 0&&(i.complete=mx);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nee(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class vl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kee{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fee;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jee(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Pee(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Pee(t){return t===Zo?void 0:t}function jee(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ree{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kee(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const Dee={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},Mee=We.INFO,Lee={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},Vee=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Lee[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sE{constructor(e){this.name=e,this._logLevel=Mee,this._logHandler=Vee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const zee=(t,e)=>e.some(n=>t instanceof n);let WN,XN;function Uee(){return WN||(WN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bee(){return XN||(XN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N4=new WeakMap,C_=new WeakMap,k4=new WeakMap,gx=new WeakMap,oE=new WeakMap;function qee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Ys(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&N4.set(n,t)}).catch(()=>{}),oE.set(e,t),e}function Fee(t){if(C_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});C_.set(t,e)}let I_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return C_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||k4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ys(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Hee(t){I_=t(I_)}function $ee(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(px(this),e,...n);return k4.set(r,e.sort?e.sort():[e]),Ys(r)}:Bee().includes(t)?function(...e){return t.apply(px(this),e),Ys(N4.get(this))}:function(...e){return Ys(t.apply(px(this),e))}}function Kee(t){return typeof t=="function"?$ee(t):(t instanceof IDBTransaction&&Fee(t),zee(t,Uee())?new Proxy(t,I_):t)}function Ys(t){if(t instanceof IDBRequest)return qee(t);if(gx.has(t))return gx.get(t);const e=Kee(t);return e!==t&&(gx.set(t,e),oE.set(e,t)),e}const px=t=>oE.get(t);function Gee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=Ys(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Ys(l.result),d.oldVersion,d.newVersion,Ys(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const Yee=["get","getKey","getAll","getAllKeys","count"],Wee=["put","add","delete","clear"],yx=new Map;function QN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yx.get(e))return yx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Wee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Yee.includes(n)))return;const s=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&d.done]))[0]};return yx.set(e,s),s}Hee(t=>({...t,get:(e,n,r)=>QN(e,n)||t.get(e,n,r),has:(e,n)=>!!QN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Qee(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Qee(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const N_="@firebase/app",ZN="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new sE("@firebase/app"),Zee="@firebase/app-compat",Jee="@firebase/analytics-compat",ete="@firebase/analytics",tte="@firebase/app-check-compat",nte="@firebase/app-check",rte="@firebase/auth",ite="@firebase/auth-compat",ate="@firebase/database",ste="@firebase/data-connect",ote="@firebase/database-compat",lte="@firebase/functions",ute="@firebase/functions-compat",cte="@firebase/installations",fte="@firebase/installations-compat",dte="@firebase/messaging",hte="@firebase/messaging-compat",mte="@firebase/performance",gte="@firebase/performance-compat",pte="@firebase/remote-config",yte="@firebase/remote-config-compat",vte="@firebase/storage",bte="@firebase/storage-compat",xte="@firebase/firestore",_te="@firebase/ai",wte="@firebase/firestore-compat",Ete="firebase",Ste="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="[DEFAULT]",Ate={[N_]:"fire-core",[Zee]:"fire-core-compat",[ete]:"fire-analytics",[Jee]:"fire-analytics-compat",[nte]:"fire-app-check",[tte]:"fire-app-check-compat",[rte]:"fire-auth",[ite]:"fire-auth-compat",[ate]:"fire-rtdb",[ste]:"fire-data-connect",[ote]:"fire-rtdb-compat",[lte]:"fire-fn",[ute]:"fire-fn-compat",[cte]:"fire-iid",[fte]:"fire-iid-compat",[dte]:"fire-fcm",[hte]:"fire-fcm-compat",[mte]:"fire-perf",[gte]:"fire-perf-compat",[pte]:"fire-rc",[yte]:"fire-rc-compat",[vte]:"fire-gcs",[bte]:"fire-gcs-compat",[xte]:"fire-fst",[wte]:"fire-fst-compat",[_te]:"fire-vertex","fire-js":"fire-js",[Ete]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=new Map,P_=new Map,j_=new Map;function JN(t,e){try{t.container.addComponent(e)}catch(n){Ka.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qu(t){const e=t.name;if(j_.has(e))return Ka.debug(`There were multiple attempts to register component ${e}.`),!1;j_.set(e,t);for(const n of bl.values())JN(n,t);for(const n of P_.values())JN(n,t);return!0}function lE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tte={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new Vd("app","Firebase",Tte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=Ste;function uE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:k_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ws.create("bad-app-name",{appName:String(i)});if(n||(n=T4()),!n)throw Ws.create("no-options");const s=bl.get(i);if(s){if(yl(n,s.options)&&yl(r,s.config))return s;throw Ws.create("duplicate-app",{appName:i})}const l=new Ree(i);for(const d of j_.values())l.addComponent(d);const c=new Ote(n,r,l);return bl.set(i,c),c}function cE(t=k_){const e=bl.get(t);if(!e&&t===k_&&T4())return uE();if(!e)throw Ws.create("no-app",{appName:t});return e}function Cte(){return Array.from(bl.values())}async function Ite(t){let e=!1;const n=t.name;bl.has(n)?(e=!0,bl.delete(n)):P_.has(n)&&t.decRefCount()<=0&&(P_.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Xs(t,e,n){let r=Ate[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ka.warn(l.join(" "));return}qu(new vl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nte="firebase-heartbeat-database",kte=1,od="firebase-heartbeat-store";let vx=null;function P4(){return vx||(vx=Gee(Nte,kte,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(od)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ws.create("idb-open",{originalErrorMessage:t.message})})),vx}async function Pte(t){try{const n=(await P4()).transaction(od),r=await n.objectStore(od).get(j4(t));return await n.done,r}catch(e){if(e instanceof ns)Ka.warn(e.message);else{const n=Ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ka.warn(n.message)}}}async function ek(t,e){try{const r=(await P4()).transaction(od,"readwrite");await r.objectStore(od).put(e,j4(t)),await r.done}catch(n){if(n instanceof ns)Ka.warn(n.message);else{const r=Ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ka.warn(r.message)}}}function j4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jte=1024,Rte=30;class Dte{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Lte(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tk();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Rte){const l=Vte(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ka.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tk(),{heartbeatsToSend:r,unsentEntries:i}=Mte(this._heartbeatsCache.heartbeats),s=ip(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ka.warn(n),""}}}function tk(){return new Date().toISOString().substring(0,10)}function Mte(t,e=jte){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),nk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Lte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wee()?Eee().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Pte(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ek(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ek(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function nk(t){return ip(JSON.stringify({version:2,heartbeats:t})).length}function Vte(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zte(t){qu(new vl("platform-logger",e=>new Xee(e),"PRIVATE")),qu(new vl("heartbeat",e=>new Dte(e),"PRIVATE")),Xs(N_,ZN,t),Xs(N_,ZN,"esm2020"),Xs("fire-js","")}zte("");var Ute="firebase",Bte="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(Ute,Bte,"app");var rk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qs,R4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,k){function D(){}D.prototype=k.prototype,N.F=k.prototype,N.prototype=new D,N.prototype.constructor=N,N.D=function(B,P,U){for(var M=Array(arguments.length-2),he=2;he<arguments.length;he++)M[he-2]=arguments[he];return k.prototype[P].apply(B,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,k,D){D||(D=0);const B=Array(16);if(typeof k=="string")for(var P=0;P<16;++P)B[P]=k.charCodeAt(D++)|k.charCodeAt(D++)<<8|k.charCodeAt(D++)<<16|k.charCodeAt(D++)<<24;else for(P=0;P<16;++P)B[P]=k[D++]|k[D++]<<8|k[D++]<<16|k[D++]<<24;k=N.g[0],D=N.g[1],P=N.g[2];let U=N.g[3],M;M=k+(U^D&(P^U))+B[0]+3614090360&4294967295,k=D+(M<<7&4294967295|M>>>25),M=U+(P^k&(D^P))+B[1]+3905402710&4294967295,U=k+(M<<12&4294967295|M>>>20),M=P+(D^U&(k^D))+B[2]+606105819&4294967295,P=U+(M<<17&4294967295|M>>>15),M=D+(k^P&(U^k))+B[3]+3250441966&4294967295,D=P+(M<<22&4294967295|M>>>10),M=k+(U^D&(P^U))+B[4]+4118548399&4294967295,k=D+(M<<7&4294967295|M>>>25),M=U+(P^k&(D^P))+B[5]+1200080426&4294967295,U=k+(M<<12&4294967295|M>>>20),M=P+(D^U&(k^D))+B[6]+2821735955&4294967295,P=U+(M<<17&4294967295|M>>>15),M=D+(k^P&(U^k))+B[7]+4249261313&4294967295,D=P+(M<<22&4294967295|M>>>10),M=k+(U^D&(P^U))+B[8]+1770035416&4294967295,k=D+(M<<7&4294967295|M>>>25),M=U+(P^k&(D^P))+B[9]+2336552879&4294967295,U=k+(M<<12&4294967295|M>>>20),M=P+(D^U&(k^D))+B[10]+4294925233&4294967295,P=U+(M<<17&4294967295|M>>>15),M=D+(k^P&(U^k))+B[11]+2304563134&4294967295,D=P+(M<<22&4294967295|M>>>10),M=k+(U^D&(P^U))+B[12]+1804603682&4294967295,k=D+(M<<7&4294967295|M>>>25),M=U+(P^k&(D^P))+B[13]+4254626195&4294967295,U=k+(M<<12&4294967295|M>>>20),M=P+(D^U&(k^D))+B[14]+2792965006&4294967295,P=U+(M<<17&4294967295|M>>>15),M=D+(k^P&(U^k))+B[15]+1236535329&4294967295,D=P+(M<<22&4294967295|M>>>10),M=k+(P^U&(D^P))+B[1]+4129170786&4294967295,k=D+(M<<5&4294967295|M>>>27),M=U+(D^P&(k^D))+B[6]+3225465664&4294967295,U=k+(M<<9&4294967295|M>>>23),M=P+(k^D&(U^k))+B[11]+643717713&4294967295,P=U+(M<<14&4294967295|M>>>18),M=D+(U^k&(P^U))+B[0]+3921069994&4294967295,D=P+(M<<20&4294967295|M>>>12),M=k+(P^U&(D^P))+B[5]+3593408605&4294967295,k=D+(M<<5&4294967295|M>>>27),M=U+(D^P&(k^D))+B[10]+38016083&4294967295,U=k+(M<<9&4294967295|M>>>23),M=P+(k^D&(U^k))+B[15]+3634488961&4294967295,P=U+(M<<14&4294967295|M>>>18),M=D+(U^k&(P^U))+B[4]+3889429448&4294967295,D=P+(M<<20&4294967295|M>>>12),M=k+(P^U&(D^P))+B[9]+568446438&4294967295,k=D+(M<<5&4294967295|M>>>27),M=U+(D^P&(k^D))+B[14]+3275163606&4294967295,U=k+(M<<9&4294967295|M>>>23),M=P+(k^D&(U^k))+B[3]+4107603335&4294967295,P=U+(M<<14&4294967295|M>>>18),M=D+(U^k&(P^U))+B[8]+1163531501&4294967295,D=P+(M<<20&4294967295|M>>>12),M=k+(P^U&(D^P))+B[13]+2850285829&4294967295,k=D+(M<<5&4294967295|M>>>27),M=U+(D^P&(k^D))+B[2]+4243563512&4294967295,U=k+(M<<9&4294967295|M>>>23),M=P+(k^D&(U^k))+B[7]+1735328473&4294967295,P=U+(M<<14&4294967295|M>>>18),M=D+(U^k&(P^U))+B[12]+2368359562&4294967295,D=P+(M<<20&4294967295|M>>>12),M=k+(D^P^U)+B[5]+4294588738&4294967295,k=D+(M<<4&4294967295|M>>>28),M=U+(k^D^P)+B[8]+2272392833&4294967295,U=k+(M<<11&4294967295|M>>>21),M=P+(U^k^D)+B[11]+1839030562&4294967295,P=U+(M<<16&4294967295|M>>>16),M=D+(P^U^k)+B[14]+4259657740&4294967295,D=P+(M<<23&4294967295|M>>>9),M=k+(D^P^U)+B[1]+2763975236&4294967295,k=D+(M<<4&4294967295|M>>>28),M=U+(k^D^P)+B[4]+1272893353&4294967295,U=k+(M<<11&4294967295|M>>>21),M=P+(U^k^D)+B[7]+4139469664&4294967295,P=U+(M<<16&4294967295|M>>>16),M=D+(P^U^k)+B[10]+3200236656&4294967295,D=P+(M<<23&4294967295|M>>>9),M=k+(D^P^U)+B[13]+681279174&4294967295,k=D+(M<<4&4294967295|M>>>28),M=U+(k^D^P)+B[0]+3936430074&4294967295,U=k+(M<<11&4294967295|M>>>21),M=P+(U^k^D)+B[3]+3572445317&4294967295,P=U+(M<<16&4294967295|M>>>16),M=D+(P^U^k)+B[6]+76029189&4294967295,D=P+(M<<23&4294967295|M>>>9),M=k+(D^P^U)+B[9]+3654602809&4294967295,k=D+(M<<4&4294967295|M>>>28),M=U+(k^D^P)+B[12]+3873151461&4294967295,U=k+(M<<11&4294967295|M>>>21),M=P+(U^k^D)+B[15]+530742520&4294967295,P=U+(M<<16&4294967295|M>>>16),M=D+(P^U^k)+B[2]+3299628645&4294967295,D=P+(M<<23&4294967295|M>>>9),M=k+(P^(D|~U))+B[0]+4096336452&4294967295,k=D+(M<<6&4294967295|M>>>26),M=U+(D^(k|~P))+B[7]+1126891415&4294967295,U=k+(M<<10&4294967295|M>>>22),M=P+(k^(U|~D))+B[14]+2878612391&4294967295,P=U+(M<<15&4294967295|M>>>17),M=D+(U^(P|~k))+B[5]+4237533241&4294967295,D=P+(M<<21&4294967295|M>>>11),M=k+(P^(D|~U))+B[12]+1700485571&4294967295,k=D+(M<<6&4294967295|M>>>26),M=U+(D^(k|~P))+B[3]+2399980690&4294967295,U=k+(M<<10&4294967295|M>>>22),M=P+(k^(U|~D))+B[10]+4293915773&4294967295,P=U+(M<<15&4294967295|M>>>17),M=D+(U^(P|~k))+B[1]+2240044497&4294967295,D=P+(M<<21&4294967295|M>>>11),M=k+(P^(D|~U))+B[8]+1873313359&4294967295,k=D+(M<<6&4294967295|M>>>26),M=U+(D^(k|~P))+B[15]+4264355552&4294967295,U=k+(M<<10&4294967295|M>>>22),M=P+(k^(U|~D))+B[6]+2734768916&4294967295,P=U+(M<<15&4294967295|M>>>17),M=D+(U^(P|~k))+B[13]+1309151649&4294967295,D=P+(M<<21&4294967295|M>>>11),M=k+(P^(D|~U))+B[4]+4149444226&4294967295,k=D+(M<<6&4294967295|M>>>26),M=U+(D^(k|~P))+B[11]+3174756917&4294967295,U=k+(M<<10&4294967295|M>>>22),M=P+(k^(U|~D))+B[2]+718787259&4294967295,P=U+(M<<15&4294967295|M>>>17),M=D+(U^(P|~k))+B[9]+3951481745&4294967295,N.g[0]=N.g[0]+k&4294967295,N.g[1]=N.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.v=function(N,k){k===void 0&&(k=N.length);const D=k-this.blockSize,B=this.C;let P=this.h,U=0;for(;U<k;){if(P==0)for(;U<=D;)i(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<k;)if(B[P++]=N.charCodeAt(U++),P==this.blockSize){i(this,B),P=0;break}}else for(;U<k;)if(B[P++]=N[U++],P==this.blockSize){i(this,B),P=0;break}}this.h=P,this.o+=k},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var k=1;k<N.length-8;++k)N[k]=0;k=this.o*8;for(var D=N.length-8;D<N.length;++D)N[D]=k&255,k/=256;for(this.v(N),N=Array(16),k=0,D=0;D<4;++D)for(let B=0;B<32;B+=8)N[k++]=this.g[D]>>>B&255;return N};function s(N,k){var D=c;return Object.prototype.hasOwnProperty.call(D,N)?D[N]:D[N]=k(N)}function l(N,k){this.h=k;const D=[];let B=!0;for(let P=N.length-1;P>=0;P--){const U=N[P]|0;B&&U==k||(D[P]=U,B=!1)}this.g=D}var c={};function d(N){return-128<=N&&N<128?s(N,function(k){return new l([k|0],k<0?-1:0)}):new l([N|0],N<0?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return p;if(N<0)return T(h(-N));const k=[];let D=1;for(let B=0;N>=D;B++)k[B]=N/D|0,D*=4294967296;return new l(k,0)}function m(N,k){if(N.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(N.charAt(0)=="-")return T(m(N.substring(1),k));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=h(Math.pow(k,8));let B=p;for(let U=0;U<N.length;U+=8){var P=Math.min(8,N.length-U);const M=parseInt(N.substring(U,U+P),k);P<8?(P=h(Math.pow(k,P)),B=B.j(P).add(h(M))):(B=B.j(D),B=B.add(h(M)))}return B}var p=d(0),x=d(1),_=d(16777216);t=l.prototype,t.m=function(){if(S(this))return-T(this).m();let N=0,k=1;for(let D=0;D<this.g.length;D++){const B=this.i(D);N+=(B>=0?B:4294967296+B)*k,k*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(E(this))return"0";if(S(this))return"-"+T(this).toString(N);const k=h(Math.pow(N,6));var D=this;let B="";for(;;){const P=q(D,k).g;D=I(D,P.j(k));let U=((D.g.length>0?D.g[0]:D.h)>>>0).toString(N);if(D=P,E(D))return U+B;for(;U.length<6;)U="0"+U;B=U+B}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function E(N){if(N.h!=0)return!1;for(let k=0;k<N.g.length;k++)if(N.g[k]!=0)return!1;return!0}function S(N){return N.h==-1}t.l=function(N){return N=I(this,N),S(N)?-1:E(N)?0:1};function T(N){const k=N.g.length,D=[];for(let B=0;B<k;B++)D[B]=~N.g[B];return new l(D,~N.h).add(x)}t.abs=function(){return S(this)?T(this):this},t.add=function(N){const k=Math.max(this.g.length,N.g.length),D=[];let B=0;for(let P=0;P<=k;P++){let U=B+(this.i(P)&65535)+(N.i(P)&65535),M=(U>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);B=M>>>16,U&=65535,M&=65535,D[P]=M<<16|U}return new l(D,D[D.length-1]&-2147483648?-1:0)};function I(N,k){return N.add(T(k))}t.j=function(N){if(E(this)||E(N))return p;if(S(this))return S(N)?T(this).j(T(N)):T(T(this).j(N));if(S(N))return T(this.j(T(N)));if(this.l(_)<0&&N.l(_)<0)return h(this.m()*N.m());const k=this.g.length+N.g.length,D=[];for(var B=0;B<2*k;B++)D[B]=0;for(B=0;B<this.g.length;B++)for(let P=0;P<N.g.length;P++){const U=this.i(B)>>>16,M=this.i(B)&65535,he=N.i(P)>>>16,be=N.i(P)&65535;D[2*B+2*P]+=M*be,j(D,2*B+2*P),D[2*B+2*P+1]+=U*be,j(D,2*B+2*P+1),D[2*B+2*P+1]+=M*he,j(D,2*B+2*P+1),D[2*B+2*P+2]+=U*he,j(D,2*B+2*P+2)}for(N=0;N<k;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=k;N<2*k;N++)D[N]=0;return new l(D,0)};function j(N,k){for(;(N[k]&65535)!=N[k];)N[k+1]+=N[k]>>>16,N[k]&=65535,k++}function L(N,k){this.g=N,this.h=k}function q(N,k){if(E(k))throw Error("division by zero");if(E(N))return new L(p,p);if(S(N))return k=q(T(N),k),new L(T(k.g),T(k.h));if(S(k))return k=q(N,T(k)),new L(T(k.g),k.h);if(N.g.length>30){if(S(N)||S(k))throw Error("slowDivide_ only works with positive integers.");for(var D=x,B=k;B.l(N)<=0;)D=V(D),B=V(B);var P=F(D,1),U=F(B,1);for(B=F(B,2),D=F(D,2);!E(B);){var M=U.add(B);M.l(N)<=0&&(P=P.add(D),U=M),B=F(B,1),D=F(D,1)}return k=I(N,P.j(k)),new L(P,k)}for(P=p;N.l(k)>=0;){for(D=Math.max(1,Math.floor(N.m()/k.m())),B=Math.ceil(Math.log(D)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),U=h(D),M=U.j(k);S(M)||M.l(N)>0;)D-=B,U=h(D),M=U.j(k);E(U)&&(U=x),P=P.add(U),N=I(N,M)}return new L(P,N)}t.B=function(N){return q(this,N).h},t.and=function(N){const k=Math.max(this.g.length,N.g.length),D=[];for(let B=0;B<k;B++)D[B]=this.i(B)&N.i(B);return new l(D,this.h&N.h)},t.or=function(N){const k=Math.max(this.g.length,N.g.length),D=[];for(let B=0;B<k;B++)D[B]=this.i(B)|N.i(B);return new l(D,this.h|N.h)},t.xor=function(N){const k=Math.max(this.g.length,N.g.length),D=[];for(let B=0;B<k;B++)D[B]=this.i(B)^N.i(B);return new l(D,this.h^N.h)};function V(N){const k=N.g.length+1,D=[];for(let B=0;B<k;B++)D[B]=N.i(B)<<1|N.i(B-1)>>>31;return new l(D,N.h)}function F(N,k){const D=k>>5;k%=32;const B=N.g.length-D,P=[];for(let U=0;U<B;U++)P[U]=k>0?N.i(U+D)>>>k|N.i(U+D+1)<<32-k:N.i(U+D);return new l(P,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,R4=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,Qs=l}).apply(typeof rk<"u"?rk:typeof self<"u"?self:typeof window<"u"?window:{});var Hm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D4,Pf,M4,ng,R_,L4,V4,z4;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hm=="object"&&Hm];for(var A=0;A<g.length;++A){var C=g[A];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(g,A){if(A)e:{var C=r;g=g.split(".");for(var z=0;z<g.length-1;z++){var X=g[z];if(!(X in C))break e;C=C[X]}g=g[g.length-1],z=C[g],A=A(z),A!=z&&A!=null&&e(C,g,{configurable:!0,writable:!0,value:A})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(A){var C=[],z;for(z in A)Object.prototype.hasOwnProperty.call(A,z)&&C.push([z,A[z]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(g){var A=typeof g;return A=="object"&&g!=null||A=="function"}function d(g,A,C){return g.call.apply(g.bind,arguments)}function h(g,A,C){return h=d,h.apply(null,arguments)}function m(g,A){var C=Array.prototype.slice.call(arguments,1);return function(){var z=C.slice();return z.push.apply(z,arguments),g.apply(this,z)}}function p(g,A){function C(){}C.prototype=A.prototype,g.Z=A.prototype,g.prototype=new C,g.prototype.constructor=g,g.Ob=function(z,X,ne){for(var _e=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)_e[Be-2]=arguments[Be];return A.prototype[X].apply(z,_e)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const A=g.length;if(A>0){const C=Array(A);for(let z=0;z<A;z++)C[z]=g[z];return C}return[]}function E(g,A){for(let z=1;z<arguments.length;z++){const X=arguments[z];var C=typeof X;if(C=C!="object"?C:X?Array.isArray(X)?"array":C:"null",C=="array"||C=="object"&&typeof X.length=="number"){C=g.length||0;const ne=X.length||0;g.length=C+ne;for(let _e=0;_e<ne;_e++)g[C+_e]=X[_e]}else g.push(X)}}class S{constructor(A,C){this.i=A,this.j=C,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function T(g){l.setTimeout(()=>{throw g},0)}function I(){var g=N;let A=null;return g.g&&(A=g.g,g.g=g.g.next,g.g||(g.h=null),A.next=null),A}class j{constructor(){this.h=this.g=null}add(A,C){const z=L.get();z.set(A,C),this.h?this.h.next=z:this.g=z,this.h=z}}var L=new S(()=>new q,g=>g.reset());class q{constructor(){this.next=this.g=this.h=null}set(A,C){this.h=A,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let V,F=!1,N=new j,k=()=>{const g=Promise.resolve(void 0);V=()=>{g.then(D)}};function D(){for(var g;g=I();){try{g.h.call(g.g)}catch(C){T(C)}var A=L;A.j(g),A.h<100&&(A.h++,g.next=A.g,A.g=g)}F=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(g,A){this.type=g,this.g=this.target=A,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,A=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const C=()=>{};l.addEventListener("test",C,A),l.removeEventListener("test",C,A)}catch{}return g})();function M(g){return/^[\s\xa0]*$/.test(g)}function he(g,A){P.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,A)}p(he,P),he.prototype.init=function(g,A){const C=this.type=g.type,z=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=A,A=g.relatedTarget,A||(C=="mouseover"?A=g.fromElement:C=="mouseout"&&(A=g.toElement)),this.relatedTarget=A,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),W=0;function te(g,A,C,z,X){this.listener=g,this.proxy=null,this.src=A,this.type=C,this.capture=!!z,this.ha=X,this.key=++W,this.da=this.fa=!1}function G(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ce(g,A,C){for(const z in g)A.call(C,g[z],z,g)}function xe(g,A){for(const C in g)A.call(void 0,g[C],C,g)}function $(g){const A={};for(const C in g)A[C]=g[C];return A}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(g,A){let C,z;for(let X=1;X<arguments.length;X++){z=arguments[X];for(C in z)g[C]=z[C];for(let ne=0;ne<re.length;ne++)C=re[ne],Object.prototype.hasOwnProperty.call(z,C)&&(g[C]=z[C])}}function ve(g){this.src=g,this.g={},this.h=0}ve.prototype.add=function(g,A,C,z,X){const ne=g.toString();g=this.g[ne],g||(g=this.g[ne]=[],this.h++);const _e=ye(g,A,z,X);return _e>-1?(A=g[_e],C||(A.fa=!1)):(A=new te(A,this.src,ne,!!z,X),A.fa=C,g.push(A)),A};function me(g,A){const C=A.type;if(C in g.g){var z=g.g[C],X=Array.prototype.indexOf.call(z,A,void 0),ne;(ne=X>=0)&&Array.prototype.splice.call(z,X,1),ne&&(G(A),g.g[C].length==0&&(delete g.g[C],g.h--))}}function ye(g,A,C,z){for(let X=0;X<g.length;++X){const ne=g[X];if(!ne.da&&ne.listener==A&&ne.capture==!!C&&ne.ha==z)return X}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),Oe={};function ae(g,A,C,z,X){if(Array.isArray(A)){for(let ne=0;ne<A.length;ne++)ae(g,A[ne],C,z,X);return null}return C=Ai(C),g&&g[be]?g.J(A,C,c(z)?!!z.capture:!1,X):Ie(g,A,C,!1,z,X)}function Ie(g,A,C,z,X,ne){if(!A)throw Error("Invalid event type");const _e=c(X)?!!X.capture:!!X;let Be=xt(g);if(Be||(g[pe]=Be=new ve(g)),C=Be.add(A,C,z,_e,ne),C.proxy)return C;if(z=je(),C.proxy=z,z.src=g,z.listener=C,g.addEventListener)U||(X=_e),X===void 0&&(X=!1),g.addEventListener(A.toString(),z,X);else if(g.attachEvent)g.attachEvent(Le(A.toString()),z);else if(g.addListener&&g.removeListener)g.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return C}function je(){function g(C){return A.call(g.src,g.listener,C)}const A=ct;return g}function ue(g,A,C,z,X){if(Array.isArray(A))for(var ne=0;ne<A.length;ne++)ue(g,A[ne],C,z,X);else z=c(z)?!!z.capture:!!z,C=Ai(C),g&&g[be]?(g=g.i,ne=String(A).toString(),ne in g.g&&(A=g.g[ne],C=ye(A,C,z,X),C>-1&&(G(A[C]),Array.prototype.splice.call(A,C,1),A.length==0&&(delete g.g[ne],g.h--)))):g&&(g=xt(g))&&(A=g.g[A.toString()],g=-1,A&&(g=ye(A,C,z,X)),(C=g>-1?A[g]:null)&&He(C))}function He(g){if(typeof g!="number"&&g&&!g.da){var A=g.src;if(A&&A[be])me(A.i,g);else{var C=g.type,z=g.proxy;A.removeEventListener?A.removeEventListener(C,z,g.capture):A.detachEvent?A.detachEvent(Le(C),z):A.addListener&&A.removeListener&&A.removeListener(z),(C=xt(A))?(me(C,g),C.h==0&&(C.src=null,A[pe]=null)):G(g)}}}function Le(g){return g in Oe?Oe[g]:Oe[g]="on"+g}function ct(g,A){if(g.da)g=!0;else{A=new he(A,this);const C=g.listener,z=g.ha||g.src;g.fa&&He(g),g=C.call(z,A)}return g}function xt(g){return g=g[pe],g instanceof ve?g:null}var rr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ai(g){return typeof g=="function"?g:(g[rr]||(g[rr]=function(A){return g.handleEvent(A)}),g[rr])}function Ze(){B.call(this),this.i=new ve(this),this.M=this,this.G=null}p(Ze,B),Ze.prototype[be]=!0,Ze.prototype.removeEventListener=function(g,A,C,z){ue(this,g,A,C,z)};function Ut(g,A){var C,z=g.G;if(z)for(C=[];z;z=z.G)C.push(z);if(g=g.M,z=A.type||A,typeof A=="string")A=new P(A,g);else if(A instanceof P)A.target=A.target||g;else{var X=A;A=new P(z,g),ge(A,X)}X=!0;let ne,_e;if(C)for(_e=C.length-1;_e>=0;_e--)ne=A.g=C[_e],X=Ti(ne,z,!0,A)&&X;if(ne=A.g=g,X=Ti(ne,z,!0,A)&&X,X=Ti(ne,z,!1,A)&&X,C)for(_e=0;_e<C.length;_e++)ne=A.g=C[_e],X=Ti(ne,z,!1,A)&&X}Ze.prototype.N=function(){if(Ze.Z.N.call(this),this.i){var g=this.i;for(const A in g.g){const C=g.g[A];for(let z=0;z<C.length;z++)G(C[z]);delete g.g[A],g.h--}}this.G=null},Ze.prototype.J=function(g,A,C,z){return this.i.add(String(g),A,!1,C,z)},Ze.prototype.K=function(g,A,C,z){return this.i.add(String(g),A,!0,C,z)};function Ti(g,A,C,z){if(A=g.i.g[String(A)],!A)return!0;A=A.concat();let X=!0;for(let ne=0;ne<A.length;++ne){const _e=A[ne];if(_e&&!_e.da&&_e.capture==C){const Be=_e.listener,$t=_e.ha||_e.src;_e.fa&&me(g.i,_e),X=Be.call($t,z)!==!1&&X}}return X&&!z.defaultPrevented}function mc(g,A){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:l.setTimeout(g,A||0)}function Jd(g){g.g=mc(()=>{g.g=null,g.i&&(g.i=!1,Jd(g))},g.l);const A=g.h;g.h=null,g.m.apply(null,A)}class Xn extends B{constructor(A,C){super(),this.m=A,this.l=C,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Jd(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xo(g){B.call(this),this.h=g,this.g={}}p(xo,B);var gc=[];function pc(g){ce(g.g,function(A,C){this.g.hasOwnProperty(C)&&He(A)},g),g.g={}}xo.prototype.N=function(){xo.Z.N.call(this),pc(this)},xo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=l.JSON.stringify,ky=l.JSON.parse,eh=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function th(){}function nh(){}var si={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kn(){P.call(this,"d")}p(kn,P);function Mr(){P.call(this,"c")}p(Mr,P);var Ht={},rh=null;function kl(){return rh=rh||new Ze}Ht.Ia="serverreachability";function ih(g){P.call(this,Ht.Ia,g)}p(ih,P);function Oi(g){const A=kl();Ut(A,new ih(A))}Ht.STAT_EVENT="statevent";function _o(g,A){P.call(this,Ht.STAT_EVENT,g),this.stat=A}p(_o,P);function Zt(g){const A=kl();Ut(A,new _o(A,g))}Ht.Ja="timingevent";function Ci(g,A){P.call(this,Ht.Ja,g),this.size=A}p(Ci,P);function Ii(g,A){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},A)}function oi(){this.g=!0}oi.prototype.ua=function(){this.g=!1};function Py(g,A,C,z,X,ne){g.info(function(){if(g.g)if(ne){var _e="",Be=ne.split("&");for(let ot=0;ot<Be.length;ot++){var $t=Be[ot].split("=");if($t.length>1){const kt=$t[0];$t=$t[1];const Ur=kt.split("_");_e=Ur.length>=2&&Ur[1]=="type"?_e+(kt+"="+$t+"&"):_e+(kt+"=redacted&")}}}else _e=null;else _e=ne;return"XMLHTTP REQ ("+z+") [attempt "+X+"]: "+A+`
`+C+`
`+_e})}function ah(g,A,C,z,X,ne,_e){g.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+X+"]: "+A+`
`+C+`
`+ne+" "+_e})}function Ni(g,A,C,z){g.info(function(){return"XMLHTTP TEXT ("+A+"): "+jy(g,C)+(z?" "+z:"")})}function wo(g,A){g.info(function(){return"TIMEOUT: "+A})}oi.prototype.info=function(){};function jy(g,A){if(!g.g)return A;if(!A)return null;try{const ne=JSON.parse(A);if(ne){for(g=0;g<ne.length;g++)if(Array.isArray(ne[g])){var C=ne[g];if(!(C.length<2)){var z=C[1];if(Array.isArray(z)&&!(z.length<1)){var X=z[0];if(X!="noop"&&X!="stop"&&X!="close")for(let _e=1;_e<z.length;_e++)z[_e]=""}}}}return is(ne)}catch{return A}}var Eo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vc;function So(){}p(So,th),So.prototype.g=function(){return new XMLHttpRequest},vc=new So;function ua(g){return encodeURIComponent(String(g))}function sh(g){var A=1;g=g.split(":");const C=[];for(;A>0&&g.length;)C.push(g.shift()),A--;return g.length&&C.push(g.join(":")),C}function li(g,A,C,z){this.j=g,this.i=A,this.l=C,this.S=z||1,this.V=new xo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var Jt={},En={};function ki(g,A,C){g.M=1,g.A=Ao(tn(A)),g.u=C,g.R=!0,Pl(g,null)}function Pl(g,A){g.F=Date.now(),Pi(g),g.B=tn(g.A);var C=g.B,z=g.S;Array.isArray(z)||(z=[String(z)]),Ml(C.i,"t",z),g.C=0,C=g.j.L,g.h=new ui,g.g=_h(g.j,C?A:null,!g.u),g.P>0&&(g.O=new Xn(h(g.Y,g,g.g),g.P)),A=g.V,C=g.g,z=g.ba;var X="readystatechange";Array.isArray(X)||(X&&(gc[0]=X.toString()),X=gc);for(let ne=0;ne<X.length;ne++){const _e=ae(C,X[ne],z||A.handleEvent,!1,A.h||A);if(!_e)break;A.g[_e.key]=_e}A=g.J?$(g.J):{},g.u?(g.v||(g.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,A)):(g.v="GET",g.g.ea(g.B,g.v,null,A)),Oi(),Py(g.i,g.v,g.B,g.l,g.S,g.u)}li.prototype.ba=function(g){g=g.target;const A=this.O;A&&di(g)==3?A.j():this.Y(g)},li.prototype.Y=function(g){try{if(g==this.g)e:{const Be=di(this.g),$t=this.g.ya(),ot=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||Pn(this.g)))){this.K||Be!=4||$t==7||($t==8||ot<=0?Oi(3):Oi(2)),ji(this);var A=this.g.ca();this.X=A;var C=Ry(this);if(this.o=A==200,ah(this.i,this.v,this.B,this.l,this.S,Be,A),this.o){if(this.U&&!this.L){t:{if(this.g){var z,X=this.g;if((z=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(z)){var ne=z;break t}}ne=null}if(g=ne)Ni(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,g);else{this.o=!1,this.m=3,Zt(12),vr(this),Lr(this);break e}}if(this.R){g=!0;let kt;for(;!this.K&&this.C<C.length;)if(kt=lh(this,C),kt==En){Be==4&&(this.m=4,Zt(14),g=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==Jt){this.m=4,Zt(15),Ni(this.i,this.l,C,"[Invalid Chunk]"),g=!1;break}else Ni(this.i,this.l,kt,null),Ri(this,kt);if(oh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||C.length!=0||this.h.h||(this.m=1,Zt(16),g=!1),this.o=this.o&&g,!g)Ni(this.i,this.l,C,"[Invalid Chunked Response]"),vr(this),Lr(this);else if(C.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),jc(_e),_e.P=!0,Zt(11))}}else Ni(this.i,this.l,C,null),Ri(this,C);Be==4&&vr(this),this.o&&!this.K&&(Be==4?yh(this.j,this):(this.o=!1,Pi(this)))}else fa(this.g),A==400&&C.indexOf("Unknown SID")>0?(this.m=3,Zt(12)):(this.m=0,Zt(13)),vr(this),Lr(this)}}}catch{}finally{}};function Ry(g){if(!oh(g))return g.g.la();const A=Pn(g.g);if(A==="")return"";let C="";const z=A.length,X=di(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return vr(g),Lr(g),"";g.h.i=new l.TextDecoder}for(let ne=0;ne<z;ne++)g.h.h=!0,C+=g.h.i.decode(A[ne],{stream:!(X&&ne==z-1)});return A.length=0,g.h.g+=C,g.C=0,g.h.g}function oh(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function lh(g,A){var C=g.C,z=A.indexOf(`
`,C);return z==-1?En:(C=Number(A.substring(C,z)),isNaN(C)?Jt:(z+=1,z+C>A.length?En:(A=A.slice(z,z+C),g.C=z+C,A)))}li.prototype.cancel=function(){this.K=!0,vr(this)};function Pi(g){g.T=Date.now()+g.H,jl(g,g.H)}function jl(g,A){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Ii(h(g.aa,g),A)}function ji(g){g.D&&(l.clearTimeout(g.D),g.D=null)}li.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(wo(this.i,this.B),this.M!=2&&(Oi(),Zt(17)),vr(this),this.m=2,Lr(this)):jl(this,this.T-g)};function Lr(g){g.j.I==0||g.K||yh(g.j,g)}function vr(g){ji(g);var A=g.O;A&&typeof A.dispose=="function"&&A.dispose(),g.O=null,pc(g.V),g.g&&(A=g.g,g.g=null,A.abort(),A.dispose())}function Ri(g,A){try{var C=g.j;if(C.I!=0&&(C.g==g||Mi(C.h,g))){if(!g.L&&Mi(C.h,g)&&C.I==3){try{var z=C.Ba.g.parse(A)}catch{z=null}if(Array.isArray(z)&&z.length==3){var X=z;if(X[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<g.F)Bl(C),ds(C);else break e;Po(C),Zt(18)}}else C.xa=X[1],0<C.xa-C.K&&X[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=Ii(h(C.Va,C),6e3));Di(C.h)<=1&&C.ta&&(C.ta=void 0)}else qi(C,11)}else if((g.L||C.g==g)&&Bl(C),!M(A))for(X=C.Ba.g.parse(A),A=0;A<X.length;A++){let ot=X[A];const kt=ot[0];if(!(kt<=C.K))if(C.K=kt,ot=ot[1],C.I==2)if(ot[0]=="c"){C.M=ot[1],C.ba=ot[2];const Ur=ot[3];Ur!=null&&(C.ka=Ur,C.j.info("VER="+C.ka));const Fi=ot[4];Fi!=null&&(C.za=Fi,C.j.info("SVER="+C.za));const hi=ot[5];hi!=null&&typeof hi=="number"&&hi>0&&(z=1.5*hi,C.O=z,C.j.info("backChannelRequestTimeoutMs_="+z)),z=C;const mi=g.g;if(mi){const jo=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jo){var ne=z.h;ne.g||jo.indexOf("spdy")==-1&&jo.indexOf("quic")==-1&&jo.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(_c(ne,ne.h),ne.h=null))}if(z.G){const ql=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;ql&&(z.wa=ql,ft(z.J,z.G,ql))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-g.F,C.j.info("Handshake RTT: "+C.T+"ms")),z=C;var _e=g;if(z.na=xh(z,z.L?z.ba:null,z.W),_e.L){wc(z.h,_e);var Be=_e,$t=z.O;$t&&(Be.H=$t),Be.D&&(ji(Be),Pi(Be)),z.g=_e}else gh(z);C.i.length>0&&Bi(C)}else ot[0]!="stop"&&ot[0]!="close"||qi(C,7);else C.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?qi(C,7):kc(C):ot[0]!="noop"&&C.l&&C.l.qa(ot),C.A=0)}}Oi(4)}catch{}}var en=class{constructor(g,A){this.g=g,this.map=A}};function bc(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xc(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Di(g){return g.h?1:g.g?g.g.size:0}function Mi(g,A){return g.h?g.h==A:g.g?g.g.has(A):!1}function _c(g,A){g.g?g.g.add(A):g.h=A}function wc(g,A){g.h&&g.h==A?g.h=null:g.g&&g.g.has(A)&&g.g.delete(A)}bc.prototype.cancel=function(){if(this.i=Ec(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Ec(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let A=g.i;for(const C of g.g.values())A=A.concat(C.G);return A}return _(g.i)}var uh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rl(g,A){if(g){g=g.split("&");for(let C=0;C<g.length;C++){const z=g[C].indexOf("=");let X,ne=null;z>=0?(X=g[C].substring(0,z),ne=g[C].substring(z+1)):X=g[C],A(X,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function br(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;g instanceof br?(this.l=g.l,Sn(this,g.j),this.o=g.o,this.g=g.g,as(this,g.u),this.h=g.h,Sc(this,hh(g.i)),this.m=g.m):g&&(A=String(g).match(uh))?(this.l=!1,Sn(this,A[1]||"",!0),this.o=Li(A[2]||""),this.g=Li(A[3]||"",!0),as(this,A[4]),this.h=Li(A[5]||"",!0),Sc(this,A[6]||"",!0),this.m=Li(A[7]||"")):(this.l=!1,this.i=new os(null,this.l))}br.prototype.toString=function(){const g=[];var A=this.j;A&&g.push(To(A,Dl,!0),":");var C=this.g;return(C||A=="file")&&(g.push("//"),(A=this.o)&&g.push(To(A,Dl,!0),"@"),g.push(ua(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&g.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&g.push("/"),g.push(To(C,C.charAt(0)=="/"?Ac:ch,!0))),(C=this.i.toString())&&g.push("?",C),(C=this.m)&&g.push("#",To(C,fh)),g.join("")},br.prototype.resolve=function(g){const A=tn(this);let C=!!g.j;C?Sn(A,g.j):C=!!g.o,C?A.o=g.o:C=!!g.g,C?A.g=g.g:C=g.u!=null;var z=g.h;if(C)as(A,g.u);else if(C=!!g.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var X=A.h.lastIndexOf("/");X!=-1&&(z=A.h.slice(0,X+1)+z)}if(X=z,X==".."||X==".")z="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){z=X.lastIndexOf("/",0)==0,X=X.split("/");const ne=[];for(let _e=0;_e<X.length;){const Be=X[_e++];Be=="."?z&&_e==X.length&&ne.push(""):Be==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),z&&_e==X.length&&ne.push("")):(ne.push(Be),z=!0)}z=ne.join("/")}else z=X}return C?A.h=z:C=g.i.toString()!=="",C?Sc(A,hh(g.i)):C=!!g.m,C&&(A.m=g.m),A};function tn(g){return new br(g)}function Sn(g,A,C){g.j=C?Li(A,!0):A,g.j&&(g.j=g.j.replace(/:$/,""))}function as(g,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);g.u=A}else g.u=null}function Sc(g,A,C){A instanceof os?(g.i=A,Ll(g.i,g.l)):(C||(A=To(A,ss)),g.i=new os(A,g.l))}function ft(g,A,C){g.i.set(A,C)}function Ao(g){return ft(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Li(g,A){return g?A?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function To(g,A,C){return typeof g=="string"?(g=encodeURI(g).replace(A,ir),C&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function ir(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Dl=/[#\/\?@]/g,ch=/[#\?:]/g,Ac=/[#\?]/g,ss=/[#\?@]/g,fh=/#/g;function os(g,A){this.h=this.g=null,this.i=g||null,this.j=!!A}function ar(g){g.g||(g.g=new Map,g.h=0,g.i&&Rl(g.i,function(A,C){g.add(decodeURIComponent(A.replace(/\+/g," ")),C)}))}t=os.prototype,t.add=function(g,A){ar(this),this.i=null,g=ls(this,g);let C=this.g.get(g);return C||this.g.set(g,C=[]),C.push(A),this.h+=1,this};function dh(g,A){ar(g),A=ls(g,A),g.g.has(A)&&(g.i=null,g.h-=g.g.get(A).length,g.g.delete(A))}function Tc(g,A){return ar(g),A=ls(g,A),g.g.has(A)}t.forEach=function(g,A){ar(this),this.g.forEach(function(C,z){C.forEach(function(X){g.call(A,X,z,this)},this)},this)};function Oc(g,A){ar(g);let C=[];if(typeof A=="string")Tc(g,A)&&(C=C.concat(g.g.get(ls(g,A))));else for(g=Array.from(g.g.values()),A=0;A<g.length;A++)C=C.concat(g[A]);return C}t.set=function(g,A){return ar(this),this.i=null,g=ls(this,g),Tc(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[A]),this.h+=1,this},t.get=function(g,A){return g?(g=Oc(this,g),g.length>0?String(g[0]):A):A};function Ml(g,A,C){dh(g,A),C.length>0&&(g.i=null,g.g.set(ls(g,A),_(C)),g.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],A=Array.from(this.g.keys());for(let z=0;z<A.length;z++){var C=A[z];const X=ua(C);C=Oc(this,C);for(let ne=0;ne<C.length;ne++){let _e=X;C[ne]!==""&&(_e+="="+ua(C[ne])),g.push(_e)}}return this.i=g.join("&")};function hh(g){const A=new os;return A.i=g.i,g.g&&(A.g=new Map(g.g),A.h=g.h),A}function ls(g,A){return A=String(A),g.j&&(A=A.toLowerCase()),A}function Ll(g,A){A&&!g.j&&(ar(g),g.i=null,g.g.forEach(function(C,z){const X=z.toLowerCase();z!=X&&(dh(this,z),Ml(this,X,C))},g)),g.j=A}function ci(g,A){const C=new oi;if(l.Image){const z=new Image;z.onload=m(Vr,C,"TestLoadImage: loaded",!0,A,z),z.onerror=m(Vr,C,"TestLoadImage: error",!1,A,z),z.onabort=m(Vr,C,"TestLoadImage: abort",!1,A,z),z.ontimeout=m(Vr,C,"TestLoadImage: timeout",!1,A,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=g}else A(!1)}function Cc(g,A){const C=new oi,z=new AbortController,X=setTimeout(()=>{z.abort(),Vr(C,"TestPingServer: timeout",!1,A)},1e4);fetch(g,{signal:z.signal}).then(ne=>{clearTimeout(X),ne.ok?Vr(C,"TestPingServer: ok",!0,A):Vr(C,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(X),Vr(C,"TestPingServer: error",!1,A)})}function Vr(g,A,C,z,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),z(C)}catch{}}function us(){this.g=new eh}function Vi(g){this.i=g.Sb||null,this.h=g.ab||!1}p(Vi,th),Vi.prototype.g=function(){return new Oo(this.i,this.h)};function Oo(g,A){Ze.call(this),this.H=g,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Oo,Ze),t=Oo.prototype,t.open=function(g,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=A,this.readyState=1,fi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(A.body=g),(this.H||l).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vl(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vl(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var A=g.value?g.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!g.done}))&&(this.response=this.responseText+=A)}g.done?cs(this):fi(this),this.readyState==3&&Vl(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,cs(this))},t.Na=function(g){this.g&&(this.response=g,cs(this))},t.ga=function(){this.g&&cs(this)};function cs(g){g.readyState=4,g.l=null,g.j=null,g.B=null,fi(g)}t.setRequestHeader=function(g,A){this.A.append(g,A)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],A=this.h.entries();for(var C=A.next();!C.done;)C=C.value,g.push(C[0]+": "+C[1]),C=A.next();return g.join(`\r
`)};function fi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Oo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function zr(g){let A="";return ce(g,function(C,z){A+=z,A+=":",A+=C,A+=`\r
`}),A}function Co(g,A,C){e:{for(z in C){var z=!1;break e}z=!0}z||(C=zr(C),typeof g=="string"?C!=null&&ua(C):ft(g,A,C))}function gt(g){Ze.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(gt,Ze);var zi=/^https?$/i,Ic=["POST","PUT"];t=gt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,A,C,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);A=A?A.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vc.g(),this.g.onreadystatechange=x(h(this.Ca,this));try{this.B=!0,this.g.open(A,String(g),!0),this.B=!1}catch(ne){Io(this,ne);return}if(g=C||"",C=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var X in z)C.set(X,z[X]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ne of z.keys())C.set(ne,z.get(ne));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(C.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Ic,A,void 0)>=0)||z||X||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,_e]of C)this.g.setRequestHeader(ne,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(ne){Io(this,ne)}};function Io(g,A){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=A,g.o=5,Nc(g),ca(g)}function Nc(g){g.A||(g.A=!0,Ut(g,"complete"),Ut(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Ut(this,"complete"),Ut(this,"abort"),ca(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ca(this,!0)),gt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?No(this):this.Xa())},t.Xa=function(){No(this)};function No(g){if(g.h&&typeof s<"u"){if(g.v&&di(g)==4)setTimeout(g.Ca.bind(g),0);else if(Ut(g,"readystatechange"),di(g)==4){g.h=!1;try{const ne=g.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var C;if(!(C=A)){var z;if(z=ne===0){let _e=String(g.D).match(uh)[1]||null;!_e&&l.self&&l.self.location&&(_e=l.self.location.protocol.slice(0,-1)),z=!zi.test(_e?_e.toLowerCase():"")}C=z}if(C)Ut(g,"complete"),Ut(g,"success");else{g.o=6;try{var X=di(g)>2?g.g.statusText:""}catch{X=""}g.l=X+" ["+g.ca()+"]",Nc(g)}}finally{ca(g)}}}}function ca(g,A){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const C=g.g;g.g=null,A||Ut(g,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function di(g){return g.g?g.g.readyState:0}t.ca=function(){try{return di(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var A=this.g.responseText;return g&&A.indexOf(g)==0&&(A=A.substring(g.length)),ky(A)}};function Pn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function fa(g){const A={};g=(g.g&&di(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<g.length;z++){if(M(g[z]))continue;var C=sh(g[z]);const X=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ne=A[X]||[];A[X]=ne,ne.push(C)}xe(A,function(z){return z.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(g,A,C){return C&&C.internalChannelParams&&C.internalChannelParams[g]||A}function fs(g){this.za=0,this.i=[],this.j=new oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ui("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ui("baseRetryDelayMs",5e3,g),this.Za=Ui("retryDelaySeedMs",1e4,g),this.Ta=Ui("forwardChannelMaxRetries",2,g),this.va=Ui("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new bc(g&&g.concurrentRequestLimit),this.Ba=new us,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=fs.prototype,t.ka=8,t.I=1,t.connect=function(g,A,C,z){Zt(0),this.W=g,this.H=A||{},C&&z!==void 0&&(this.H.OSID=C,this.H.OAID=z),this.F=this.X,this.J=xh(this,null,this.W),Bi(this)};function kc(g){if(zl(g),g.I==3){var A=g.V++,C=tn(g.J);if(ft(C,"SID",g.M),ft(C,"RID",A),ft(C,"TYPE","terminate"),ko(g,C),A=new li(g,g.j,A),A.M=2,A.A=Ao(tn(C)),C=!1,l.navigator&&l.navigator.sendBeacon)try{C=l.navigator.sendBeacon(A.A.toString(),"")}catch{}!C&&l.Image&&(new Image().src=A.A,C=!0),C||(A.g=_h(A.j,null),A.g.ea(A.A)),A.F=Date.now(),Pi(A)}bh(g)}function ds(g){g.g&&(jc(g),g.g.cancel(),g.g=null)}function zl(g){ds(g),g.v&&(l.clearTimeout(g.v),g.v=null),Bl(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Bi(g){if(!xc(g.h)&&!g.m){g.m=!0;var A=g.Ea;V||k(),F||(V(),F=!0),N.add(A,g),g.D=0}}function Ul(g,A){return Di(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=A.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Ii(h(g.Ea,g,A),vh(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const X=new li(this,this.j,g);let ne=this.o;if(this.U&&(ne?(ne=$(ne),ge(ne,this.U)):ne=this.U),this.u!==null||this.R||(X.J=ne,ne=null),this.S)e:{for(var A=0,C=0;C<this.i.length;C++){t:{var z=this.i[C];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(A+=z,A>4096){A=C;break e}if(A===4096||C===this.i.length-1){A=C+1;break e}}A=1e3}else A=1e3;A=mh(this,X,A),C=tn(this.J),ft(C,"RID",g),ft(C,"CVER",22),this.G&&ft(C,"X-HTTP-Session-Id",this.G),ko(this,C),ne&&(this.R?A="headers="+ua(zr(ne))+"&"+A:this.u&&Co(C,this.u,ne)),_c(this.h,X),this.Ra&&ft(C,"TYPE","init"),this.S?(ft(C,"$req",A),ft(C,"SID","null"),X.U=!0,ki(X,C,null)):ki(X,C,A),this.I=2}}else this.I==3&&(g?Pc(this,g):this.i.length==0||xc(this.h)||Pc(this))};function Pc(g,A){var C;A?C=A.l:C=g.V++;const z=tn(g.J);ft(z,"SID",g.M),ft(z,"RID",C),ft(z,"AID",g.K),ko(g,z),g.u&&g.o&&Co(z,g.u,g.o),C=new li(g,g.j,C,g.D+1),g.u===null&&(C.J=g.o),A&&(g.i=A.G.concat(g.i)),A=mh(g,C,1e3),C.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),_c(g.h,C),ki(C,z,A)}function ko(g,A){g.H&&ce(g.H,function(C,z){ft(A,z,C)}),g.l&&ce({},function(C,z){ft(A,z,C)})}function mh(g,A,C){C=Math.min(g.i.length,C);const z=g.l?h(g.l.Ka,g.l,g):null;e:{var X=g.i;let Be=-1;for(;;){const $t=["count="+C];Be==-1?C>0?(Be=X[0].g,$t.push("ofs="+Be)):Be=0:$t.push("ofs="+Be);let ot=!0;for(let kt=0;kt<C;kt++){var ne=X[kt].g;const Ur=X[kt].map;if(ne-=Be,ne<0)Be=Math.max(0,X[kt].g-100),ot=!1;else try{ne="req"+ne+"_"||"";try{var _e=Ur instanceof Map?Ur:Object.entries(Ur);for(const[Fi,hi]of _e){let mi=hi;c(hi)&&(mi=is(hi)),$t.push(ne+Fi+"="+encodeURIComponent(mi))}}catch(Fi){throw $t.push(ne+"type="+encodeURIComponent("_badmap")),Fi}}catch{z&&z(Ur)}}if(ot){_e=$t.join("&");break e}}_e=void 0}return g=g.i.splice(0,C),A.G=g,_e}function gh(g){if(!g.g&&!g.v){g.Y=1;var A=g.Da;V||k(),F||(V(),F=!0),N.add(A,g),g.A=0}}function Po(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Ii(h(g.Da,g),vh(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,ph(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Ii(h(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Zt(10),ds(this),ph(this))};function jc(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function ph(g){g.g=new li(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var A=tn(g.na);ft(A,"RID","rpc"),ft(A,"SID",g.M),ft(A,"AID",g.K),ft(A,"CI",g.F?"0":"1"),!g.F&&g.ia&&ft(A,"TO",g.ia),ft(A,"TYPE","xmlhttp"),ko(g,A),g.u&&g.o&&Co(A,g.u,g.o),g.O&&(g.g.H=g.O);var C=g.g;g=g.ba,C.M=1,C.A=Ao(tn(A)),C.u=null,C.R=!0,Pl(C,g)}t.Va=function(){this.C!=null&&(this.C=null,ds(this),Po(this),Zt(19))};function Bl(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function yh(g,A){var C=null;if(g.g==A){Bl(g),jc(g),g.g=null;var z=2}else if(Mi(g.h,A))C=A.G,wc(g.h,A),z=1;else return;if(g.I!=0){if(A.o)if(z==1){C=A.u?A.u.length:0,A=Date.now()-A.F;var X=g.D;z=kl(),Ut(z,new Ci(z,C)),Bi(g)}else gh(g);else if(X=A.m,X==3||X==0&&A.X>0||!(z==1&&Ul(g,A)||z==2&&Po(g)))switch(C&&C.length>0&&(A=g.h,A.i=A.i.concat(C)),X){case 1:qi(g,5);break;case 4:qi(g,10);break;case 3:qi(g,6);break;default:qi(g,2)}}}function vh(g,A){let C=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(C*=2),C*A}function qi(g,A){if(g.j.info("Error code "+A),A==2){var C=h(g.bb,g),z=g.Ua;const X=!z;z=new br(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Sn(z,"https"),Ao(z),X?ci(z.toString(),C):Cc(z.toString(),C)}else Zt(2);g.I=0,g.l&&g.l.pa(A),bh(g),zl(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function bh(g){if(g.I=0,g.ja=[],g.l){const A=Ec(g.h);(A.length!=0||g.i.length!=0)&&(E(g.ja,A),E(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function xh(g,A,C){var z=C instanceof br?tn(C):new br(C);if(z.g!="")A&&(z.g=A+"."+z.g),as(z,z.u);else{var X=l.location;z=X.protocol,A=A?A+"."+X.hostname:X.hostname,X=+X.port;const ne=new br(null);z&&Sn(ne,z),A&&(ne.g=A),X&&as(ne,X),C&&(ne.h=C),z=ne}return C=g.G,A=g.wa,C&&A&&ft(z,C,A),ft(z,"VER",g.ka),ko(g,z),z}function _h(g,A,C){if(A&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=g.Aa&&!g.ma?new gt(new Vi({ab:C})):new gt(g.ma),A.Fa(g.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wh(){}t=wh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hs(){}hs.prototype.g=function(g,A){return new Qn(g,A)};function Qn(g,A){Ze.call(this),this.g=new fs(A),this.l=g,this.h=A&&A.messageUrlParams||null,g=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(g?g["X-WebChannel-Content-Type"]=A.messageContentType:g={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(g?g["X-WebChannel-Client-Profile"]=A.sa:g={"X-WebChannel-Client-Profile":A.sa}),this.g.U=g,(g=A&&A.Qb)&&!M(g)&&(this.g.u=g),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!M(A)&&(this.g.G=A,g=this.h,g!==null&&A in g&&(g=this.h,A in g&&delete g[A])),this.j=new da(this)}p(Qn,Ze),Qn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){kc(this.g)},Qn.prototype.o=function(g){var A=this.g;if(typeof g=="string"){var C={};C.__data__=g,g=C}else this.v&&(C={},C.__data__=is(g),g=C);A.i.push(new en(A.Ya++,g)),A.I==3&&Bi(A)},Qn.prototype.N=function(){this.g.l=null,delete this.j,kc(this.g),delete this.g,Qn.Z.N.call(this)};function Eh(g){kn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var A=g.__sm__;if(A){e:{for(const C in A){g=C;break e}g=void 0}(this.i=g)&&(g=this.i,A=A!==null&&g in A?A[g]:void 0),this.data=A}else this.data=g}p(Eh,kn);function Sh(){Mr.call(this),this.status=1}p(Sh,Mr);function da(g){this.g=g}p(da,wh),da.prototype.ra=function(){Ut(this.g,"a")},da.prototype.qa=function(g){Ut(this.g,new Eh(g))},da.prototype.pa=function(g){Ut(this.g,new Sh)},da.prototype.oa=function(){Ut(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,z4=function(){return new hs},V4=function(){return kl()},L4=Ht,R_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Eo.NO_ERROR=0,Eo.TIMEOUT=8,Eo.HTTP_ERROR=6,ng=Eo,yc.COMPLETE="complete",M4=yc,nh.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",Ze.prototype.listen=Ze.prototype.J,Pf=nh,gt.prototype.listenOnce=gt.prototype.K,gt.prototype.getLastError=gt.prototype.Ha,gt.prototype.getLastErrorCode=gt.prototype.ya,gt.prototype.getStatus=gt.prototype.ca,gt.prototype.getResponseJson=gt.prototype.La,gt.prototype.getResponseText=gt.prototype.la,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Fa,D4=gt}).apply(typeof Hm<"u"?Hm:typeof self<"u"?self:typeof window<"u"?window:{});const ik="@firebase/firestore",ak="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=new sE("@firebase/firestore");function _u(){return xl.logLevel}function Ee(t,...e){if(xl.logLevel<=We.DEBUG){const n=e.map(fE);xl.debug(`Firestore (${uc}): ${t}`,...n)}}function Ga(t,...e){if(xl.logLevel<=We.ERROR){const n=e.map(fE);xl.error(`Firestore (${uc}): ${t}`,...n)}}function Fu(t,...e){if(xl.logLevel<=We.WARN){const n=e.map(fE);xl.warn(`Firestore (${uc}): ${t}`,...n)}}function fE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,U4(t,r,n)}function U4(t,e,n){let r=`FIRESTORE (${uc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ga(r),new Error(r)}function ut(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||U4(e,i,r)}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Hn.UNAUTHENTICATED)))}shutdown(){}}class Fte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Hte{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let s=new La;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new La,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new La)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string",31837,{l:r}),new B4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Hn(e)}}class $te{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Kte{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $te(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gte{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const r=s=>{s.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,Ee("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sk(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sk(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Yte(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function D_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return bx(i)===bx(s)?Xe(i,s):bx(i)?1:-1}return Xe(t.length,e.length)}const Wte=55296,Xte=57343;function bx(t){const e=t.charCodeAt(0);return e>=Wte&&e<=Xte}function Hu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="__name__";class Yi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Yi.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Xe(e.length,n.length)}static compareSegments(e,n){const r=Yi.isNumericId(e),i=Yi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Yi.extractNumericId(e).compare(Yi.extractNumericId(n)):D_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qs.fromString(e.substring(4,e.length-2))}}class At extends Yi{construct(e,n,r){return new At(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new At(n)}static emptyPath(){return new At([])}}const Qte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends Yi{construct(e,n,r){return new zn(e,n,r)}static isValidIdentifier(e){return Qte.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ok}static keyField(){return new zn([ok])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new we(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new we(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new we(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new we(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(n)}static emptyPath(){return new zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(At.fromString(e))}static fromName(e){return new Pe(At.fromString(e).popFirst(5))}static empty(){return new Pe(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new At(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t,e,n){if(!n)throw new we(le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Zte(t,e,n,r){if(e===!0&&r===!0)throw new we(le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lk(t){if(!Pe.isDocumentKey(t))throw new we(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uk(t){if(Pe.isDocumentKey(t))throw new we(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function F4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function uy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function ii(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uy(t);throw new we(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ud(t,e){if(!F4(t))throw new we(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new we(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=-62135596800,fk=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*fk);return new it(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ck)throw new we(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fk}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ud(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ck;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:dn("string",it._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new it(0,0))}static max(){return new Ve(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=-1;function Jte(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new ro(i,Pe.empty(),e)}function ene(t){return new ro(t.readTime,t.key,ld)}class ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ro(Ve.min(),Pe.empty(),ld)}static max(){return new ro(Ve.max(),Pe.empty(),ld)}}function tne(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nne="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t){if(t.code!==le.FAILED_PRECONDITION||t.message!==nne)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,r)=>{n(e)}))}static reject(e){return new de(((n,r)=>{r(e)}))}static waitFor(e){return new de(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(d=>r(d)))})),l=!0,s===i&&n()}))}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next((i=>i?de.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new de(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let d=0;d<s;d++){const h=d;n(e[h]).next((m=>{l[h]=m,++c,c===s&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new de(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function ine(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=-1;function fy(t){return t==null}function ap(t){return t===0&&1/t==-1/0}function ane(t){return typeof t=="number"&&Number.isInteger(t)&&!ap(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4="";function sne(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dk(e)),e=one(t.get(n),e);return dk(e)}function one(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case H4:n+="";break;default:n+=s}}return n}function dk(t){return t+H4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function go(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||Vn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $m(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $m(this.root,e,this.comparator,!1)}getReverseIterator(){return new $m(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $m(this.root,e,this.comparator,!0)}}class $m{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Vn.RED,this.left=i??Vn.EMPTY,this.right=s??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Vn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1;Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mk(this.data.getIterator())}getIteratorFrom(e){return new mk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new vn(this.comparator);return n.data=e,n}}class mk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new Pr([])}unionWith(e){let n=new vn(zn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new K4("Invalid base64 string: "+s):s}})(e);return new Un(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new Un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Un.EMPTY_BYTE_STRING=new Un("");const lne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(t){if(ut(!!t,39018),typeof t=="string"){let e=0;const n=lne.exec(t);if(ut(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wt(t.seconds),nanos:Wt(t.nanos)}}function Wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ao(t){return typeof t=="string"?Un.fromBase64String(t):Un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4="server_timestamp",Y4="__type__",W4="__previous_value__",X4="__local_write_time__";function mE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Y4])==null?void 0:r.stringValue)===G4}function dy(t){const e=t.mapValue.fields[W4];return mE(e)?dy(e):e}function ud(t){const e=io(t.mapValue.fields[X4].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(e,n,r,i,s,l,c,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const sp="(default)";class cd{constructor(e,n){this.projectId=e,this.database=n||sp}static empty(){return new cd("","")}get isDefaultDatabase(){return this.database===sp}isEqual(e){return e instanceof cd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4="__type__",cne="__max__",Km={mapValue:{}},Z4="__vector__",op="value";function so(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mE(t)?4:dne(t)?9007199254740991:fne(t)?10:11:Me(28295,{value:t})}function oa(t,e){if(t===e)return!0;const n=so(t);if(n!==so(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ud(t).isEqual(ud(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=io(i.timestampValue),c=io(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return ao(i.bytesValue).isEqual(ao(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Wt(i.geoPointValue.latitude)===Wt(s.geoPointValue.latitude)&&Wt(i.geoPointValue.longitude)===Wt(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Wt(i.integerValue)===Wt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Wt(i.doubleValue),c=Wt(s.doubleValue);return l===c?ap(l)===ap(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Hu(t.arrayValue.values||[],e.arrayValue.values||[],oa);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(hk(l)!==hk(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!oa(l[d],c[d])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function fd(t,e){return(t.values||[]).find((n=>oa(n,e)))!==void 0}function $u(t,e){if(t===e)return 0;const n=so(t),r=so(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=Wt(s.integerValue||s.doubleValue),d=Wt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return gk(t.timestampValue,e.timestampValue);case 4:return gk(ud(t),ud(e));case 5:return D_(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=ao(s),d=ao(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const m=Xe(c[h],d[h]);if(m!==0)return m}return Xe(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=Xe(Wt(s.latitude),Wt(l.latitude));return c!==0?c:Xe(Wt(s.longitude),Wt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return pk(t.arrayValue,e.arrayValue);case 10:return(function(s,l){var x,_,E,S;const c=s.fields||{},d=l.fields||{},h=(x=c[op])==null?void 0:x.arrayValue,m=(_=d[op])==null?void 0:_.arrayValue,p=Xe(((E=h==null?void 0:h.values)==null?void 0:E.length)||0,((S=m==null?void 0:m.values)==null?void 0:S.length)||0);return p!==0?p:pk(h,m)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===Km.mapValue&&l===Km.mapValue)return 0;if(s===Km.mapValue)return 1;if(l===Km.mapValue)return-1;const c=s.fields||{},d=Object.keys(c),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let p=0;p<d.length&&p<m.length;++p){const x=D_(d[p],m[p]);if(x!==0)return x;const _=$u(c[d[p]],h[m[p]]);if(_!==0)return _}return Xe(d.length,m.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function gk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=io(t),r=io(e),i=Xe(n.seconds,r.seconds);return i!==0?i:Xe(n.nanos,r.nanos)}function pk(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=$u(n[i],r[i]);if(s)return s}return Xe(n.length,r.length)}function Ku(t){return M_(t)}function M_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=io(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ao(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=M_(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${M_(n.fields[l])}`;return i+"}"})(t.mapValue):Me(61005,{value:t})}function rg(t){switch(so(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dy(t);return e?16+rg(e):16;case 5:return 2*t.stringValue.length;case 6:return ao(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+rg(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return go(r.fields,((s,l)=>{i+=s.length+rg(l)})),i})(t.mapValue);default:throw Me(13486,{value:t})}}function yk(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function L_(t){return!!t&&"integerValue"in t}function gE(t){return!!t&&"arrayValue"in t}function vk(t){return!!t&&"nullValue"in t}function bk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ig(t){return!!t&&"mapValue"in t}function fne(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Q4])==null?void 0:r.stringValue)===Z4}function Vf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return go(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Vf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vf(t.arrayValue.values[n]);return e}return{...t}}function dne(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cne}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.value=e}static empty(){return new mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ig(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vf(n)}setAll(e){let n=zn.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Vf(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ig(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ig(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){go(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new mr(Vf(this.value))}}function J4(t){const e=[];return go(t.fields,((n,r)=>{const i=new zn([n]);if(ig(r)){const s=J4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Kn(e,0,Ve.min(),Ve.min(),Ve.min(),mr.empty(),0)}static newFoundDocument(e,n,r,i){return new Kn(e,1,n,Ve.min(),r,i,0)}static newNoDocument(e,n){return new Kn(e,2,n,Ve.min(),Ve.min(),mr.empty(),0)}static newUnknownDocument(e,n){return new Kn(e,3,n,Ve.min(),Ve.min(),mr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.position=e,this.inclusive=n}}function xk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Pe.comparator(Pe.fromName(l.referenceValue),n.key):r=$u(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function _k(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!oa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n="asc"){this.field=e,this.dir=n}}function hne(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{}class un extends e3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gne(e,n,r):n==="array-contains"?new vne(e,r):n==="in"?new bne(e,r):n==="not-in"?new xne(e,r):n==="array-contains-any"?new _ne(e,r):new un(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pne(e,r):new yne(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($u(n,this.value)):n!==null&&so(this.value)===so(n)&&this.matchesComparison($u(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends e3{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wi(e,n)}matches(e){return t3(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function t3(t){return t.op==="and"}function n3(t){return mne(t)&&t3(t)}function mne(t){for(const e of t.filters)if(e instanceof wi)return!1;return!0}function V_(t){if(t instanceof un)return t.field.canonicalString()+t.op.toString()+Ku(t.value);if(n3(t))return t.filters.map((e=>V_(e))).join(",");{const e=t.filters.map((n=>V_(n))).join(",");return`${t.op}(${e})`}}function r3(t,e){return t instanceof un?(function(r,i){return i instanceof un&&r.op===i.op&&r.field.isEqual(i.field)&&oa(r.value,i.value)})(t,e):t instanceof wi?(function(r,i){return i instanceof wi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&r3(l,i.filters[c])),!0):!1})(t,e):void Me(19439)}function i3(t){return t instanceof un?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ku(n.value)}`})(t):t instanceof wi?(function(n){return n.op.toString()+" {"+n.getFilters().map(i3).join(" ,")+"}"})(t):"Filter"}class gne extends un{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class pne extends un{constructor(e,n){super(e,"in",n),this.keys=a3("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class yne extends un{constructor(e,n){super(e,"not-in",n),this.keys=a3("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function a3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Pe.fromName(r.referenceValue)))}class vne extends un{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gE(n)&&fd(n.arrayValue,this.value)}}class bne extends un{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fd(this.value.arrayValue,n)}}class xne extends un{constructor(e,n){super(e,"not-in",n)}matches(e){if(fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fd(this.value.arrayValue,n)}}class _ne extends un{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>fd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function wk(t,e=null,n=[],r=[],i=null,s=null,l=null){return new wne(t,e,n,r,i,s,l)}function pE(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>V_(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),fy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Ku(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Ku(r))).join(",")),e.Te=n}return e.Te}function yE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hne(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!r3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_k(t.startAt,e.startAt)&&_k(t.endAt,e.endAt)}function z_(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ene(t,e,n,r,i,s,l,c){return new dc(t,e,n,r,i,s,l,c)}function vE(t){return new dc(t)}function Ek(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function s3(t){return t.collectionGroup!==null}function zf(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new vn(zn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new dd(s,r))})),n.has(zn.keyField().canonicalString())||e.Ie.push(new dd(zn.keyField(),r))}return e.Ie}function Zi(t){const e=Ue(t);return e.Ee||(e.Ee=Sne(e,zf(t))),e.Ee}function Sne(t,e){if(t.limitType==="F")return wk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new dd(i.field,s)}));const n=t.endAt?new lp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lp(t.startAt.position,t.startAt.inclusive):null;return wk(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function U_(t,e){const n=t.filters.concat([e]);return new dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function up(t,e,n){return new dc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hy(t,e){return yE(Zi(t),Zi(e))&&t.limitType===e.limitType}function o3(t){return`${pE(Zi(t))}|lt:${t.limitType}`}function wu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>i3(i))).join(", ")}]`),fy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Ku(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Ku(i))).join(",")),`Target(${r})`})(Zi(t))}; limitType=${t.limitType})`}function my(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of zf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,d){const h=xk(l,c,d);return l.inclusive?h<=0:h<0})(r.startAt,zf(r),i)||r.endAt&&!(function(l,c,d){const h=xk(l,c,d);return l.inclusive?h>=0:h>0})(r.endAt,zf(r),i))})(t,e)}function Ane(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function l3(t){return(e,n)=>{let r=!1;for(const i of zf(t)){const s=Tne(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Tne(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):(function(s,l,c){const d=l.data.field(s),h=c.data.field(s);return d!==null&&h!==null?$u(d,h):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return $4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const One=new Vt(Pe.comparator);function Ya(){return One}const u3=new Vt(Pe.comparator);function jf(...t){let e=u3;for(const n of t)e=e.insert(n.key,n);return e}function c3(t){let e=u3;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function rl(){return Uf()}function f3(){return Uf()}function Uf(){return new Ol((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Cne=new Vt(Pe.comparator),Ine=new vn(Pe.comparator);function Qe(...t){let e=Ine;for(const n of t)e=e.add(n);return e}const Nne=new vn(Xe);function kne(){return Nne}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ap(e)?"-0":e}}function d3(t){return{integerValue:""+t}}function Pne(t,e){return ane(e)?d3(e):bE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this._=void 0}}function jne(t,e,n){return t instanceof cp?(function(i,s){const l={fields:{[Y4]:{stringValue:G4},[X4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&mE(s)&&(s=dy(s)),s&&(l.fields[W4]=s),{mapValue:l}})(n,e):t instanceof hd?m3(t,e):t instanceof md?g3(t,e):(function(i,s){const l=h3(i,s),c=Sk(l)+Sk(i.Ae);return L_(l)&&L_(i.Ae)?d3(c):bE(i.serializer,c)})(t,e)}function Rne(t,e,n){return t instanceof hd?m3(t,e):t instanceof md?g3(t,e):n}function h3(t,e){return t instanceof fp?(function(r){return L_(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class cp extends gy{}class hd extends gy{constructor(e){super(),this.elements=e}}function m3(t,e){const n=p3(e);for(const r of t.elements)n.some((i=>oa(i,r)))||n.push(r);return{arrayValue:{values:n}}}class md extends gy{constructor(e){super(),this.elements=e}}function g3(t,e){let n=p3(e);for(const r of t.elements)n=n.filter((i=>!oa(i,r)));return{arrayValue:{values:n}}}class fp extends gy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Sk(t){return Wt(t.integerValue||t.doubleValue)}function p3(t){return gE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Dne(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof hd&&i instanceof hd||r instanceof md&&i instanceof md?Hu(r.elements,i.elements,oa):r instanceof fp&&i instanceof fp?oa(r.Ae,i.Ae):r instanceof cp&&i instanceof cp})(t.transform,e.transform)}class Mne{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ag(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class py{}function y3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yy(t.key,tr.none()):new Bd(t.key,t.data,tr.none());{const n=t.data,r=mr.empty();let i=new vn(zn.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new po(t.key,r,new Pr(i.toArray()),tr.none())}}function Lne(t,e,n){t instanceof Bd?(function(i,s,l){const c=i.value.clone(),d=Tk(i.fieldTransforms,s,l.transformResults);c.setAll(d),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof po?(function(i,s,l){if(!ag(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=Tk(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(v3(i)),d.setAll(c),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Bf(t,e,n,r){return t instanceof Bd?(function(s,l,c,d){if(!ag(s.precondition,l))return c;const h=s.value.clone(),m=Ok(s.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof po?(function(s,l,c,d){if(!ag(s.precondition,l))return c;const h=Ok(s.fieldTransforms,d,l),m=l.data;return m.setAll(v3(s)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(s,l,c){return ag(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function Vne(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=h3(r.transform,i||null);s!=null&&(n===null&&(n=mr.empty()),n.set(r.field,s))}return n||null}function Ak(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hu(r,i,((s,l)=>Dne(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bd extends py{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class po extends py{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function v3(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Tk(t,e,n){const r=new Map;ut(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,Rne(l,c,n[i]))}return r}function Ok(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,jne(s,l,e))}return r}class yy extends py{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zne extends py{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Une{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Lne(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=f3();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const d=y3(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Ve.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&Hu(this.mutations,e.mutations,((n,r)=>Ak(n,r)))&&Hu(this.baseMutations,e.baseMutations,((n,r)=>Ak(n,r)))}}class xE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ut(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Cne})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new xE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qne{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,et;function Fne(t){switch(t){case le.OK:return Me(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function b3(t){if(t===void 0)return Ga("GRPC error has no .code"),le.UNKNOWN;switch(t){case on.OK:return le.OK;case on.CANCELLED:return le.CANCELLED;case on.UNKNOWN:return le.UNKNOWN;case on.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case on.INTERNAL:return le.INTERNAL;case on.UNAVAILABLE:return le.UNAVAILABLE;case on.UNAUTHENTICATED:return le.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case on.NOT_FOUND:return le.NOT_FOUND;case on.ALREADY_EXISTS:return le.ALREADY_EXISTS;case on.PERMISSION_DENIED:return le.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case on.ABORTED:return le.ABORTED;case on.OUT_OF_RANGE:return le.OUT_OF_RANGE;case on.UNIMPLEMENTED:return le.UNIMPLEMENTED;case on.DATA_LOSS:return le.DATA_LOSS;default:return Me(39323,{code:t})}}(et=on||(on={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hne(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ne=new Qs([4294967295,4294967295],0);function Ck(t){const e=Hne().encode(t),n=new R4;return n.update(e),new Uint8Array(n.digest())}function Ik(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Qs([n,r],0),new Qs([i,s],0)]}class _E{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rf(`Invalid padding: ${n}`);if(r<0)throw new Rf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qs.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Qs.fromNumber(r)));return i.compare($ne)===1&&(i=new Qs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ck(e),[r,i]=Ik(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new _E(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=Ck(e),[r,i]=Ik(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Rf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,qd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vy(Ve.min(),i,new Vt(Xe),Ya(),Qe())}}class qd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qd(r,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class x3{constructor(e,n){this.targetId=e,this.Ce=n}}class _3{constructor(e,n,r=Un.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Nk{constructor(){this.ve=0,this.Fe=kk(),this.Me=Un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),n=Qe(),r=Qe();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Me(38017,{changeType:s})}})),new qd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=kk()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Kne{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ya(),this.Je=Gm(),this.He=Gm(),this.Ye=new Vt(Xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(z_(s))if(r===0){const l=new Pe(s.path);this.et(n,l,Kn.newNoDocument(l,Ve.min()))}else ut(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=ao(r).toUint8Array()}catch(d){if(d instanceof K4)return Fu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new _E(l,i,s)}catch(d){return Fu(d instanceof Rf?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&z_(c.target)){const d=new Pe(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Kn.newNoDocument(d,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=Qe();this.He.forEach(((s,l)=>{let c=!0;l.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new vy(e,n,this.Ye,this.je,r);return this.je=Ya(),this.Je=Gm(),this.He=Gm(),this.Ye=new Vt(Xe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Nk,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new vn(Xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new vn(Xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Nk),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gm(){return new Vt(Pe.comparator)}function kk(){return new Vt(Pe.comparator)}const Gne={asc:"ASCENDING",desc:"DESCENDING"},Yne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wne={and:"AND",or:"OR"};class Xne{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function B_(t,e){return t.useProto3Json||fy(e)?e:{value:e}}function dp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Qne(t,e){return dp(t,e.toTimestamp())}function Ji(t){return ut(!!t,49232),Ve.fromTimestamp((function(n){const r=io(n);return new it(r.seconds,r.nanos)})(t))}function wE(t,e){return q_(t,e).canonicalString()}function q_(t,e){const n=(function(i){return new At(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function E3(t){const e=At.fromString(t);return ut(C3(e),10190,{key:e.toString()}),e}function F_(t,e){return wE(t.databaseId,e.path)}function xx(t,e){const n=E3(e);if(n.get(1)!==t.databaseId.projectId)throw new we(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(A3(n))}function S3(t,e){return wE(t.databaseId,e)}function Zne(t){const e=E3(t);return e.length===4?At.emptyPath():A3(e)}function H_(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function A3(t){return ut(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Pk(t,e,n){return{name:F_(t,e),fields:n.value.mapValue.fields}}function Jne(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Me(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,m){return h.useProto3Json?(ut(m===void 0||typeof m=="string",58123),Un.fromBase64String(m||"")):(ut(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Un.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const m=h.code===void 0?le.UNKNOWN:b3(h.code);return new we(m,h.message||"")})(l);n=new _3(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=xx(t,r.document.name),s=Ji(r.document.updateTime),l=r.document.createTime?Ji(r.document.createTime):Ve.min(),c=new mr({mapValue:{fields:r.document.fields}}),d=Kn.newFoundDocument(i,s,l,c),h=r.targetIds||[],m=r.removedTargetIds||[];n=new sg(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=xx(t,r.document),s=r.readTime?Ji(r.readTime):Ve.min(),l=Kn.newNoDocument(i,s),c=r.removedTargetIds||[];n=new sg([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=xx(t,r.document),s=r.removedTargetIds||[];n=new sg([],s,i,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new qne(i,s),c=r.targetId;n=new x3(c,l)}}return n}function ere(t,e){let n;if(e instanceof Bd)n={update:Pk(t,e.key,e.value)};else if(e instanceof yy)n={delete:F_(t,e.key)};else if(e instanceof po)n={update:Pk(t,e.key,e.data),updateMask:ure(e.fieldMask)};else{if(!(e instanceof zne))return Me(16599,{Vt:e.type});n={verify:F_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof cp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof hd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof md)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof fp)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Me(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Qne(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Me(27497)})(t,e.precondition)),n}function tre(t,e){return t&&t.length>0?(ut(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Ji(i.updateTime):Ji(s);return l.isEqual(Ve.min())&&(l=Ji(s)),new Mne(l,i.transformResults||[])})(n,e)))):[]}function nre(t,e){return{documents:[S3(t,e.path)]}}function rre(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=S3(t,i);const s=(function(h){if(h.length!==0)return O3(wi.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((m=>(function(x){return{field:Eu(x.field),direction:sre(x.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=B_(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function ire(t){let e=Zne(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ut(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=(function(p){const x=T3(p);return x instanceof wi&&n3(x)?x.getFilters():[x]})(n.where));let l=[];n.orderBy&&(l=(function(p){return p.map((x=>(function(E){return new dd(Su(E.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(x)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let x;return x=typeof p=="object"?p.value:p,fy(x)?null:x})(n.limit));let d=null;n.startAt&&(d=(function(p){const x=!!p.before,_=p.values||[];return new lp(_,x)})(n.startAt));let h=null;return n.endAt&&(h=(function(p){const x=!p.before,_=p.values||[];return new lp(_,x)})(n.endAt)),Ene(e,i,l,s,c,"F",d,h)}function are(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function T3(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Su(n.unaryFilter.field);return un.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Su(n.unaryFilter.field);return un.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Su(n.unaryFilter.field);return un.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Su(n.unaryFilter.field);return un.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return un.create(Su(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return wi.create(n.compositeFilter.filters.map((r=>T3(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function sre(t){return Gne[t]}function ore(t){return Yne[t]}function lre(t){return Wne[t]}function Eu(t){return{fieldPath:t.canonicalString()}}function Su(t){return zn.fromServerFormat(t.fieldPath)}function O3(t){return t instanceof un?(function(n){if(n.op==="=="){if(bk(n.value))return{unaryFilter:{field:Eu(n.field),op:"IS_NAN"}};if(vk(n.value))return{unaryFilter:{field:Eu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bk(n.value))return{unaryFilter:{field:Eu(n.field),op:"IS_NOT_NAN"}};if(vk(n.value))return{unaryFilter:{field:Eu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eu(n.field),op:ore(n.op),value:n.value}}})(t):t instanceof wi?(function(n){const r=n.getFilters().map((i=>O3(i)));return r.length===1?r[0]:{compositeFilter:{op:lre(n.op),filters:r}}})(t):Me(54877,{filter:t})}function ure(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function C3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,r,i,s=Ve.min(),l=Ve.min(),c=Un.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cre{constructor(e){this.yt=e}}function fre(t){const e=ire({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?up(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dre{constructor(){this.Cn=new hre}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(ro.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class hre{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vn(At.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vn(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I3=41943040;class hr{static withCacheSize(e){return new hr(e,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr.DEFAULT_COLLECTION_PERCENTILE=10,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hr.DEFAULT=new hr(I3,hr.DEFAULT_COLLECTION_PERCENTILE,hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hr.DISABLED=new hr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Gu(0)}static cr(){return new Gu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk="LruGarbageCollector",mre=1048576;function Dk([t,e],[n,r]){const i=Xe(t,n);return i===0?Xe(e,r):i}class gre{constructor(e){this.Ir=e,this.buffer=new vn(Dk),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Dk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pre{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(Rk,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fc(n)?Ee(Rk,"Ignoring IndexedDB error during garbage collection: ",n):await cc(n)}await this.Vr(3e5)}))}}class yre{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return de.resolve(cy.ce);const r=new gre(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(jk)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jk):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,c,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(s=p,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(h=Date.now(),_u()<=We.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(d-c)+`ms
	Removed ${p} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function vre(t,e){return new yre(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bre{constructor(){this.changes=new Ol((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xre{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _re{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Bf(r.mutation,i,Pr.empty(),it.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Qe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Qe()){const i=rl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=jf();return s.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=rl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Qe())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=Ya();const l=Uf(),c=(function(){return Uf()})();return n.forEach(((d,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof po)?s=s.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),Bf(m.mutation,h,m.mutation.getFieldMask(),it.now())):l.set(h.key,Pr.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((h,m)=>l.set(h,m))),n.forEach(((h,m)=>c.set(h,new xre(m,l.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Uf();let i=new Vt(((l,c)=>l-c)),s=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((d=>{const h=n.get(d);if(h===null)return;let m=r.get(d)||Pr.empty();m=c.applyToLocalView(h,m),r.set(d,m);const p=(i.get(c.batchId)||Qe()).add(d);i=i.insert(c.batchId,p)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,m=d.value,p=f3();m.forEach((x=>{if(!s.has(x)){const _=y3(n.get(x),r.get(x));_!==null&&p.set(x,_),s=s.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,p))}return de.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Pe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):s3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):de.resolve(rl());let c=ld,d=s;return l.next((h=>de.forEach(h,((m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(m)?de.resolve():this.remoteDocumentCache.getEntry(e,m).next((x=>{d=d.insert(m,x)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,d,h,Qe()))).next((m=>({batchId:c,changes:c3(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next((r=>{let i=jf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=jf();return this.indexManager.getCollectionParents(e,s).next((c=>de.forEach(c,(d=>{const h=(function(p,x){return new dc(x,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((m=>{m.forEach(((p,x)=>{l=l.insert(p,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,Kn.newInvalidDocument(m)))}));let c=jf();return l.forEach(((d,h)=>{const m=s.get(d);m!==void 0&&Bf(m.mutation,h,Pr.empty(),it.now()),my(n,h)&&(c=c.insert(d,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wre{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return de.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Ji(i.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:fre(i.bundledQuery),readTime:Ji(i.readTime)}})(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ere{constructor(){this.overlays=new Vt(Pe.comparator),this.qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=rl();return de.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),de.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const i=rl(),s=n.length+1,l=new Pe(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return de.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Vt(((h,m)=>h-m));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=s.get(h.largestBatchId);m===null&&(m=rl(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=rl(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,m)=>c.set(h,m))),!(c.size()>=i)););return de.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Bne(n,r));let s=this.qr.get(n);s===void 0&&(s=Qe(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sre{constructor(){this.sessionToken=Un.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.Qr=new vn(On.$r),this.Ur=new vn(On.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new On(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new On(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Pe(new At([])),r=new On(n,e),i=new On(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Pe(new At([])),r=new On(n,e),i=new On(n,e+1);let s=Qe();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new On(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class On{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Pe.comparator(e.key,n.key)||Xe(e.Yr,n.Yr)}static Kr(e,n){return Xe(e.Yr,n.Yr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Are{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new vn(On.$r)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Une(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new On(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return de.resolve(l)}lookupMutationBatch(e,n){return de.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return de.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?hE:this.tr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new On(n,0),i=new On(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);s.push(c)})),de.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vn(Xe);return n.forEach((i=>{const s=new On(i,0),l=new On(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(c=>{r=r.add(c.Yr)}))})),de.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Pe.isDocumentKey(s)||(s=s.child(""));const l=new On(new Pe(s),0);let c=new vn(Xe);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(d.Yr)),!0)}),l),de.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return de.forEach(n.mutations,(i=>{const s=new On(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new On(n,0),i=this.Zr.firstAfterOrEqual(r);return de.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tre{constructor(e){this.ri=e,this.docs=(function(){return new Vt(Pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let r=Ya();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Kn.newInvalidDocument(i))})),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ya();const l=n.path,c=new Pe(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||tne(ene(m),r)<=0||(i.has(m.key)||my(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return de.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Me(9500)}ii(e,n){return de.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Ore(this)}getSize(e){return de.resolve(this.size)}}class Ore extends bre{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),de.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cre{constructor(e){this.persistence=e,this.si=new Ol((n=>pE(n)),yE),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new EE,this.targetCount=0,this.ai=Gu.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),de.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Gu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Pr(n),de.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),de.waitFor(s).next((()=>i))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),de.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n){this.ui={},this.overlays={},this.ci=new cy(0),this.li=!1,this.li=!0,this.hi=new Sre,this.referenceDelegate=e(this),this.Pi=new Cre(this),this.indexManager=new dre,this.remoteDocumentCache=(function(i){return new Tre(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new cre(n),this.Ii=new wre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ere,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Are(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new Ire(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return de.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Ire extends rne{constructor(e){super(),this.currentSequenceNumber=e}}class SE{constructor(e){this.persistence=e,this.Ri=new EE,this.Vi=null}static mi(e){return new SE(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.fi,(r=>{const i=Pe.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return de.or([()=>de.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class hp{constructor(e,n){this.persistence=e,this.pi=new Ol((r=>sne(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=vre(this,n)}static mi(e,n){return new hp(e,n)}Ei(){}di(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return de.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?de.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,s.removeEntry(l,Ve.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rg(e.data.value)),n}br(e,n,r){return de.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return de.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Qe(),i=Qe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new AE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kre{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _ee()?8:ine(Yn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new Nre;return this.Ss(e,n,l).next((c=>{if(s.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(_u()<=We.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",wu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),de.resolve()):(_u()<=We.DEBUG&&Ee("QueryEngine","Query:",wu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(_u()<=We.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",wu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zi(n))):de.resolve())}ys(e,n){if(Ek(n))return de.resolve(null);let r=Zi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=up(n,null,"F"),r=Zi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=Qe(...s);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.Ds(n,c);return this.Cs(n,h,l,d.readTime)?this.ys(e,up(n,null,"F")):this.vs(e,h,n,d)}))))})))))}ws(e,n,r,i){return Ek(n)||i.isEqual(Ve.min())?de.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?de.resolve(null):(_u()<=We.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wu(n)),this.vs(e,l,n,Jte(i,ld)).next((c=>c)))}))}Ds(e,n){let r=new vn(l3(e));return n.forEach(((i,s)=>{my(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return _u()<=We.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",wu(n)),this.ps.getDocumentsMatchingQuery(e,n,ro.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="LocalStore",Pre=3e8;class jre{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Vt(Xe),this.xs=new Ol((s=>pE(s)),yE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _re(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Rre(t,e,n,r){return new jre(t,e,n,r)}async function k3(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let d=Qe();for(const h of i){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of s){c.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function Dre(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,h,m){const p=h.batch,x=p.keys();let _=de.resolve();return x.forEach((E=>{_=_.next((()=>m.getEntry(d,E))).next((S=>{const T=h.docVersions.get(E);ut(T!==null,48541),S.version.compareTo(T)<0&&(p.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),m.addEntry(S)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(d,p)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=Qe();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function P3(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Mre(t,e){const n=Ue(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,p)=>{const x=i.get(p);if(!x)return;c.push(n.Pi.removeMatchingKeys(s,m.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(s,m.addedDocuments,p))));let _=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(Un.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),i=i.insert(p,_),(function(S,T,I){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=Pre?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(x,_,m)&&c.push(n.Pi.updateTargetData(s,_))}));let d=Ya(),h=Qe();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))})),c.push(Lre(s,l,e.documentUpdates).next((m=>{d=m.ks,h=m.qs}))),!r.isEqual(Ve.min())){const m=n.Pi.getLastRemoteSnapshotVersion(s).next((p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(m)}return de.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,d,h))).next((()=>d))})).then((s=>(n.Ms=i,s)))}function Lre(t,e,n){let r=Qe(),i=Qe();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=Ya();return n.forEach(((c,d)=>{const h=s.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(Ve.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):Ee(TE,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function Vre(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=hE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function zre(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,de.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new $s(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function $_(t,e,n){const r=Ue(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!fc(l))throw l;Ee(TE,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Mk(t,e,n){const r=Ue(t);let i=Ve.min(),s=Qe();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,h,m){const p=Ue(d),x=p.xs.get(m);return x!==void 0?de.resolve(p.Ms.get(x)):p.Pi.getTargetData(h,m)})(r,l,Zi(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{s=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:Ve.min(),n?s:Qe()))).next((c=>(Ure(r,Ane(e),c),{documents:c,Qs:s})))))}function Ure(t,e,n){let r=t.Os.get(e)||Ve.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class Lk{constructor(){this.activeTargetIds=kne()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bre{constructor(){this.Mo=new Lk,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Lk,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qre{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="ConnectivityMonitor";class zk{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(Vk,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(Vk,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ym=null;function K_(){return Ym===null?Ym=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ym++,"0x"+Ym.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="RestConnection",Fre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hre{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===sp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=K_(),c=this.zo(e,n.toUriEncodedString());Ee(_x,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,s);const{host:h}=new URL(c),m=oc(h);return this.Jo(e,c,d,r,m).then((p=>(Ee(_x,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw Fu(_x,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=Fre[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class Kre extends Hre{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=K_();return new Promise(((c,d)=>{const h=new D4;h.setWithCredentials(!0),h.listenOnce(M4.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case ng.NO_ERROR:const p=h.getResponseJson();Ee(qn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),c(p);break;case ng.TIMEOUT:Ee(qn,`RPC '${e}' ${l} timed out`),d(new we(le.DEADLINE_EXCEEDED,"Request time out"));break;case ng.HTTP_ERROR:const x=h.getStatus();if(Ee(qn,`RPC '${e}' ${l} failed with status:`,x,"response text:",h.getResponseText()),x>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const S=(function(I){const j=I.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(j)>=0?j:le.UNKNOWN})(E.status);d(new we(S,E.message))}else d(new we(le.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new we(le.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Ee(qn,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);Ee(qn,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=K_(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=z4(),c=V4(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=s.join("");Ee(qn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const p=l.createWebChannel(m,d);this.I_(p);let x=!1,_=!1;const E=new $re({Yo:T=>{_?Ee(qn,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(x||(Ee(qn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),x=!0),Ee(qn,`RPC '${e}' stream ${i} sending:`,T),p.send(T))},Zo:()=>p.close()}),S=(T,I,j)=>{T.listen(I,(L=>{try{j(L)}catch(q){setTimeout((()=>{throw q}),0)}}))};return S(p,Pf.EventType.OPEN,(()=>{_||(Ee(qn,`RPC '${e}' stream ${i} transport opened.`),E.o_())})),S(p,Pf.EventType.CLOSE,(()=>{_||(_=!0,Ee(qn,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(p))})),S(p,Pf.EventType.ERROR,(T=>{_||(_=!0,Fu(qn,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),E.a_(new we(le.UNAVAILABLE,"The operation could not be completed")))})),S(p,Pf.EventType.MESSAGE,(T=>{var I;if(!_){const j=T.data[0];ut(!!j,16349);const L=j,q=(L==null?void 0:L.error)||((I=L[0])==null?void 0:I.error);if(q){Ee(qn,`RPC '${e}' stream ${i} received error:`,q);const V=q.status;let F=(function(D){const B=on[D];if(B!==void 0)return b3(B)})(V),N=q.message;F===void 0&&(F=le.INTERNAL,N="Unknown error status: "+V+" with message "+q.message),_=!0,E.a_(new we(F,N)),p.close()}else Ee(qn,`RPC '${e}' stream ${i} received:`,j),E.u_(j)}})),S(c,L4.STAT_EVENT,(T=>{T.stat===R_.PROXY?Ee(qn,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===R_.NOPROXY&&Ee(qn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function wx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t){return new Xne(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="PersistentStream";class R3{constructor(e,n,r,i,s,l,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new j3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(Ga(n.toString()),Ga("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new we(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(Uk,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee(Uk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Gre extends R3{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Jne(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ve.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Ve.min():l.readTime?Ji(l.readTime):Ve.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=H_(this.serializer),n.addTarget=(function(s,l){let c;const d=l.target;if(c=z_(d)?{documents:nre(s,d)}:{query:rre(s,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=w3(s,l.resumeToken);const h=B_(s,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(Ve.min())>0){c.readTime=dp(s,l.snapshotVersion.toTimestamp());const h=B_(s,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=are(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=H_(this.serializer),n.removeTarget=e,this.q_(n)}}class Yre extends R3{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tre(e.writeResults,e.commitTime),r=Ji(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=H_(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>ere(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wre{}class Xre extends Wre{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new we(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,q_(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new we(le.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,q_(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(le.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Qre{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ga(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l="RemoteStore";class Zre{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Cl(this)&&(Ee(_l,"Restarting streams for network reachability change."),await(async function(d){const h=Ue(d);h.Ea.add(4),await Fd(h),h.Ra.set("Unknown"),h.Ea.delete(4),await xy(h)})(this))}))})),this.Ra=new Qre(r,i)}}async function xy(t){if(Cl(t))for(const e of t.da)await e(!0)}async function Fd(t){for(const e of t.da)await e(!1)}function D3(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),NE(n)?IE(n):hc(n).O_()&&CE(n,e))}function OE(t,e){const n=Ue(t),r=hc(n);n.Ia.delete(e),r.O_()&&M3(n,e),n.Ia.size===0&&(r.O_()?r.L_():Cl(n)&&n.Ra.set("Unknown"))}function CE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hc(t).Y_(e)}function M3(t,e){t.Va.Ue(e),hc(t).Z_(e)}function IE(t){t.Va=new Kne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),hc(t).start(),t.Ra.ua()}function NE(t){return Cl(t)&&!hc(t).x_()&&t.Ia.size>0}function Cl(t){return Ue(t).Ea.size===0}function L3(t){t.Va=void 0}async function Jre(t){t.Ra.set("Online")}async function eie(t){t.Ia.forEach(((e,n)=>{CE(t,e)}))}async function tie(t,e){L3(t),NE(t)?(t.Ra.ha(e),IE(t)):t.Ra.set("Unknown")}async function nie(t,e,n){if(t.Ra.set("Online"),e instanceof _3&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){Ee(_l,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mp(t,r)}else if(e instanceof sg?t.Va.Ze(e):e instanceof x3?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ve.min()))try{const r=await P3(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.Va.Tt(l);return c.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.Ia.get(h);m&&s.Ia.set(h,m.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,h)=>{const m=s.Ia.get(d);if(!m)return;s.Ia.set(d,m.withResumeToken(Un.EMPTY_BYTE_STRING,m.snapshotVersion)),M3(s,d);const p=new $s(m.target,d,h,m.sequenceNumber);CE(s,p)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){Ee(_l,"Failed to raise snapshot:",r),await mp(t,r)}}async function mp(t,e,n){if(!fc(e))throw e;t.Ea.add(1),await Fd(t),t.Ra.set("Offline"),n||(n=()=>P3(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(_l,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xy(t)}))}function V3(t,e){return e().catch((n=>mp(t,n,e)))}async function _y(t){const e=Ue(t),n=oo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hE;for(;rie(e);)try{const i=await Vre(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,iie(e,i)}catch(i){await mp(e,i)}z3(e)&&U3(e)}function rie(t){return Cl(t)&&t.Ta.length<10}function iie(t,e){t.Ta.push(e);const n=oo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function z3(t){return Cl(t)&&!oo(t).x_()&&t.Ta.length>0}function U3(t){oo(t).start()}async function aie(t){oo(t).ra()}async function sie(t){const e=oo(t);for(const n of t.Ta)e.ea(n.mutations)}async function oie(t,e,n){const r=t.Ta.shift(),i=xE.from(r,e,n);await V3(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await _y(t)}async function lie(t,e){e&&oo(t).X_&&await(async function(r,i){if((function(l){return Fne(l)&&l!==le.ABORTED})(i.code)){const s=r.Ta.shift();oo(r).B_(),await V3(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await _y(r)}})(t,e),z3(t)&&U3(t)}async function Bk(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),Ee(_l,"RemoteStore received new credentials");const r=Cl(n);n.Ea.add(3),await Fd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xy(n)}async function uie(t,e){const n=Ue(t);e?(n.Ea.delete(2),await xy(n)):e||(n.Ea.add(2),await Fd(n),n.Ra.set("Unknown"))}function hc(t){return t.ma||(t.ma=(function(n,r,i){const s=Ue(n);return s.sa(),new Gre(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Jre.bind(null,t),t_:eie.bind(null,t),r_:tie.bind(null,t),H_:nie.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),NE(t)?IE(t):t.Ra.set("Unknown")):(await t.ma.stop(),L3(t))}))),t.ma}function oo(t){return t.fa||(t.fa=(function(n,r,i){const s=Ue(n);return s.sa(),new Yre(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:aie.bind(null,t),r_:lie.bind(null,t),ta:sie.bind(null,t),na:oie.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await _y(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(_l,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new La,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new kE(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function PE(t,e){if(Ga("AsyncQueue",`${e}: ${t}`),fc(t))return new we(le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{static emptySet(e){return new Nu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=jf(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Nu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Nu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.ga=new Vt(Pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Yu{constructor(e,n,r,i,s,l,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Yu(e,n,Nu.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cie{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class fie{constructor(){this.queries=Fk(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ue(n),s=i.queries;i.queries=Fk(),s.forEach(((l,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new we(le.ABORTED,"Firestore shutting down"))}}function Fk(){return new Ol((t=>o3(t)),hy)}async function B3(t,e){const n=Ue(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new cie,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=PE(l,`Initialization of query '${wu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&jE(n)}async function q3(t,e){const n=Ue(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function die(t,e){const n=Ue(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&jE(n)}function hie(t,e,n){const r=Ue(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function jE(t){t.Ca.forEach((e=>{e.next()}))}var G_,Hk;(Hk=G_||(G_={})).Ma="default",Hk.Cache="cache";class F3{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Yu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==G_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.key=e}}class $3{constructor(e){this.key=e}}class mie{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qe(),this.mutatedKeys=Qe(),this.eu=l3(e),this.tu=new Nu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new qk,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,p)=>{const x=i.get(m),_=my(this.query,p)?p:null,E=!!x&&this.mutatedKeys.has(x.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let T=!1;x&&_?x.data.isEqual(_.data)?E!==S&&(r.track({type:3,doc:_}),T=!0):this.su(x,_)||(r.track({type:2,doc:_}),T=!0,(d&&this.eu(_,d)>0||h&&this.eu(_,h)<0)&&(c=!0)):!x&&_?(r.track({type:0,doc:_}),T=!0):x&&!_&&(r.track({type:1,doc:x}),T=!0,(d||h)&&(c=!0)),T&&(_?(l=l.add(_),s=S?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,p)=>(function(_,E){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:T})}};return S(_)-S(E)})(m.type,p.type)||this.eu(m.doc,p.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,h=d!==this.Za;return this.Za=d,l.length!==0||h?{snapshot:new Yu(this.query,e.tu,s,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qk,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new $3(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new H3(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Yu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const RE="SyncEngine";class gie{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pie{constructor(e){this.key=e,this.hu=!1}}class yie{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ol((c=>o3(c)),hy),this.Iu=new Map,this.Eu=new Set,this.du=new Vt(Pe.comparator),this.Au=new Map,this.Ru=new EE,this.Vu={},this.mu=new Map,this.fu=Gu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vie(t,e,n=!0){const r=Q3(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await K3(r,e,n,!0),i}async function bie(t,e){const n=Q3(t);await K3(n,e,!0,!1)}async function K3(t,e,n,r){const i=await zre(t.localStore,Zi(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await xie(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&D3(t.remoteStore,i),c}async function xie(t,e,n,r,i){t.pu=(p,x,_)=>(async function(S,T,I,j){let L=T.view.ru(I);L.Cs&&(L=await Mk(S.localStore,T.query,!1).then((({documents:N})=>T.view.ru(N,L))));const q=j&&j.targetChanges.get(T.targetId),V=j&&j.targetMismatches.get(T.targetId)!=null,F=T.view.applyChanges(L,S.isPrimaryClient,q,V);return Kk(S,T.targetId,F.au),F.snapshot})(t,p,x,_);const s=await Mk(t.localStore,e,!0),l=new mie(e,s.Qs),c=l.ru(s.documents),d=qd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(c,t.isPrimaryClient,d);Kk(t,n,h.au);const m=new gie(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function _ie(t,e,n){const r=Ue(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!hy(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $_(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&OE(r.remoteStore,i.targetId),Y_(r,i.targetId)})).catch(cc)):(Y_(r,i.targetId),await $_(r.localStore,i.targetId,!0))}async function wie(t,e){const n=Ue(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),OE(n.remoteStore,r.targetId))}async function Eie(t,e,n){const r=Nie(t);try{const i=await(function(l,c){const d=Ue(l),h=it.now(),m=c.reduce(((_,E)=>_.add(E.key)),Qe());let p,x;return d.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let E=Ya(),S=Qe();return d.Ns.getEntries(_,m).next((T=>{E=T,E.forEach(((I,j)=>{j.isValidDocument()||(S=S.add(I))}))})).next((()=>d.localDocuments.getOverlayedDocuments(_,E))).next((T=>{p=T;const I=[];for(const j of c){const L=Vne(j,p.get(j.key).overlayedDocument);L!=null&&I.push(new po(j.key,L,J4(L.value.mapValue),tr.exists(!0)))}return d.mutationQueue.addMutationBatch(_,h,I,c)})).next((T=>{x=T;const I=T.applyToLocalDocumentSet(p,S);return d.documentOverlayCache.saveOverlays(_,T.batchId,I)}))})).then((()=>({batchId:x.batchId,changes:c3(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,d){let h=l.Vu[l.currentUser.toKey()];h||(h=new Vt(Xe)),h=h.insert(c,d),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await Hd(r,i.changes),await _y(r.remoteStore)}catch(i){const s=PE(i,"Failed to persist write");n.reject(s)}}async function G3(t,e){const n=Ue(t);try{const r=await Mre(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?ut(l.hu,14607):i.removedDocuments.size>0&&(ut(l.hu,42227),l.hu=!1))})),await Hd(n,r,e)}catch(r){await cc(r)}}function $k(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const d=Ue(l);d.onlineState=c;let h=!1;d.queries.forEach(((m,p)=>{for(const x of p.Sa)x.va(c)&&(h=!0)})),h&&jE(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Sie(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new Vt(Pe.comparator);l=l.insert(s,Kn.newNoDocument(s,Ve.min()));const c=Qe().add(s),d=new vy(Ve.min(),new Map,new Vt(Xe),l,c);await G3(r,d),r.du=r.du.remove(s),r.Au.delete(e),DE(r)}else await $_(r.localStore,e,!1).then((()=>Y_(r,e,n))).catch(cc)}async function Aie(t,e){const n=Ue(t),r=e.batch.batchId;try{const i=await Dre(n.localStore,e);W3(n,r,null),Y3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hd(n,i)}catch(i){await cc(i)}}async function Tie(t,e,n){const r=Ue(t);try{const i=await(function(l,c){const d=Ue(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return d.mutationQueue.lookupMutationBatch(h,c).next((p=>(ut(p!==null,37113),m=p.keys(),d.mutationQueue.removeMutationBatch(h,p)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>d.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);W3(r,e,n),Y3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hd(r,i)}catch(i){await cc(i)}}function Y3(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function W3(t,e,n){const r=Ue(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Y_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||X3(t,r)}))}function X3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(OE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),DE(t))}function Kk(t,e,n){for(const r of n)r instanceof H3?(t.Ru.addReference(r.key,e),Oie(t,r)):r instanceof $3?(Ee(RE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||X3(t,r.key)):Me(19791,{wu:r})}function Oie(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ee(RE,"New document in limbo: "+n),t.Eu.add(r),DE(t))}function DE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Pe(At.fromString(e)),r=t.fu.next();t.Au.set(r,new pie(n)),t.du=t.du.insert(n,r),D3(t.remoteStore,new $s(Zi(vE(n.path)),r,"TargetPurposeLimboResolution",cy.ce))}}async function Hd(t,e,n){const r=Ue(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,n).then((h=>{var m;if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(h){i.push(h);const p=AE.As(d.targetId,h);s.push(p)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,h){const m=Ue(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>de.forEach(h,(x=>de.forEach(x.Es,(_=>m.persistence.referenceDelegate.addReference(p,x.targetId,_))).next((()=>de.forEach(x.ds,(_=>m.persistence.referenceDelegate.removeReference(p,x.targetId,_)))))))))}catch(p){if(!fc(p))throw p;Ee(TE,"Failed to update sequence numbers: "+p)}for(const p of h){const x=p.targetId;if(!p.fromCache){const _=m.Ms.get(x),E=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(E);m.Ms=m.Ms.insert(x,S)}}})(r.localStore,s))}async function Cie(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){Ee(RE,"User change. New user:",e.toKey());const r=await k3(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((d=>{d.reject(new we(le.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hd(n,r.Ls)}}function Iie(t,e){const n=Ue(t),r=n.Au.get(e);if(r&&r.hu)return Qe().add(r.key);{let i=Qe();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function Q3(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=G3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sie.bind(null,e),e.Pu.H_=die.bind(null,e.eventManager),e.Pu.yu=hie.bind(null,e.eventManager),e}function Nie(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Aie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tie.bind(null,e),e}class gp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=by(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Rre(this.persistence,new kre,e.initialUser,this.serializer)}Cu(e){return new N3(SE.mi,this.serializer)}Du(e){return new Bre}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gp.provider={build:()=>new gp};class kie extends gp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof hp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new pre(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hr.withCacheSize(this.cacheSizeBytes):hr.DEFAULT;return new N3((r=>hp.mi(r,n)),this.serializer)}}class W_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$k(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cie.bind(null,this.syncEngine),await uie(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fie})()}createDatastore(e){const n=by(e.databaseInfo.databaseId),r=(function(s){return new Kre(s)})(e.databaseInfo);return(function(s,l,c,d){return new Xre(s,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new Zre(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>$k(this.syncEngine,n,0)),(function(){return zk.v()?new zk:new qre})())}createSyncEngine(e,n){return(function(i,s,l,c,d,h,m){const p=new yie(i,s,l,c,d,h);return m&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=Ue(i);Ee(_l,"RemoteStore shutting down."),s.Ea.add(5),await Fd(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}W_.provider={build:()=>new W_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ga("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="FirestoreClient";class Pie{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hn.UNAUTHENTICATED,this.clientId=dE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{Ee(lo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Ee(lo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new La;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=PE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ex(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(lo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await k3(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Gk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jie(t);Ee(lo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Bk(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Bk(e.remoteStore,i))),t._onlineComponents=e}async function jie(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(lo,"Using user provided OfflineComponentProvider");try{await Ex(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===le.FAILED_PRECONDITION||i.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Fu("Error using user provided cache. Falling back to memory cache: "+n),await Ex(t,new gp)}}else Ee(lo,"Using default OfflineComponentProvider"),await Ex(t,new kie(void 0));return t._offlineComponents}async function J3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(lo,"Using user provided OnlineComponentProvider"),await Gk(t,t._uninitializedComponentsProvider._online)):(Ee(lo,"Using default OnlineComponentProvider"),await Gk(t,new W_))),t._onlineComponents}function Rie(t){return J3(t).then((e=>e.syncEngine))}async function e6(t){const e=await J3(t),n=e.eventManager;return n.onListen=vie.bind(null,e.syncEngine),n.onUnlisten=_ie.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bie.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wie.bind(null,e.syncEngine),n}function Die(t,e,n={}){const r=new La;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,d,h){const m=new Z3({next:x=>{m.Nu(),l.enqueueAndForget((()=>q3(s,p)));const _=x.docs.has(c);!_&&x.fromCache?h.reject(new we(le.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&x.fromCache&&d&&d.source==="server"?h.reject(new we(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),p=new F3(vE(c.path),m,{includeMetadataChanges:!0,qa:!0});return B3(s,p)})(await e6(t),t.asyncQueue,e,n,r))),r.promise}function Mie(t,e,n={}){const r=new La;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,d,h){const m=new Z3({next:x=>{m.Nu(),l.enqueueAndForget((()=>q3(s,p))),x.fromCache&&d.source==="server"?h.reject(new we(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),p=new F3(c,m,{includeMetadataChanges:!0,qa:!0});return B3(s,p)})(await e6(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="firestore.googleapis.com",Wk=!0;class Xk{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=n6,this.ssl=Wk}else this.host=e.host,this.ssl=e.ssl??Wk;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=I3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mre)throw new we(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zte("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=t6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new qte;switch(r.type){case"firstParty":return new Kte(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Yk.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),Yk.delete(n),r.terminate())})(this),Promise.resolve()}}function Lie(t,e,n,r={}){var h;t=ii(t,wy);const i=oc(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(C4(`https://${c}`),I4("Firestore",!0)),s.host!==n6&&s.host!==c&&Fu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...s,host:c,ssl:i,emulatorOptions:r};if(!yl(d,l)&&(t._setSettings(d),r.mockUserToken)){let m,p;if(typeof r.mockUserToken=="string")m=r.mockUserToken,p=Hn.MOCK_USER;else{m=dee(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new we(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Hn(x)}t._authCredentials=new Fte(new B4(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yo(this.firestore,e,this._query)}}class Xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}toJSON(){return{type:Xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ud(n,Xt._jsonSchema))return new Xt(e,r||null,new Pe(At.fromString(n.referencePath)))}}Xt._jsonSchemaVersion="firestore/documentReference/1.0",Xt._jsonSchema={type:dn("string",Xt._jsonSchemaVersion),referencePath:dn("string")};class Zs extends yo{constructor(e,n,r){super(e,n,vE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new Pe(e))}withConverter(e){return new Zs(this.firestore,e,this._path)}}function Or(t,e,...n){if(t=Ft(t),q4("collection","path",e),t instanceof wy){const r=At.fromString(e,...n);return uk(r),new Zs(t,null,r)}{if(!(t instanceof Xt||t instanceof Zs))throw new we(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return uk(r),new Zs(t.firestore,null,r)}}function fr(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=dE.newId()),q4("doc","path",e),t instanceof wy){const r=At.fromString(e,...n);return lk(r),new Xt(t,null,new Pe(r))}{if(!(t instanceof Xt||t instanceof Zs))throw new we(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(At.fromString(e,...n));return lk(r),new Xt(t.firestore,t instanceof Zs?t.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="AsyncQueue";class Zk{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new j3(this,"async_queue_retry"),this._c=()=>{const r=wx();r&&Ee(Qk,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=wx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new La;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fc(e))throw e;Ee(Qk,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ga("INTERNAL UNHANDLED ERROR: ",Jk(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=kE.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Me(47125,{Pc:Jk(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Jk(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class vo extends wy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Zk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zk(e),this._firestoreClient=void 0,await e}}}function Vie(t,e){const n=typeof t=="object"?t:cE(),r=typeof t=="string"?t:sp,i=lE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=cee("firestore");s&&Lie(i,...s)}return i}function Ey(t){if(t._terminated)throw new we(le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zie(t),t._firestoreClient}function zie(t){var r,i,s;const e=t._freezeSettings(),n=(function(c,d,h,m){return new une(c,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,t6(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Pie(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(Un.fromBase64String(e))}catch(n){throw new we(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ei(Un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ud(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:dn("string",ei._jsonSchemaVersion),bytes:dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ea._jsonSchemaVersion}}static fromJSON(e){if(Ud(e,ea._jsonSchema))return new ea(e.latitude,e.longitude)}}ea._jsonSchemaVersion="firestore/geoPoint/1.0",ea._jsonSchema={type:dn("string",ea._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ta._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ud(e,ta._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ta(e.vectorValues);throw new we(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ta._jsonSchemaVersion="firestore/vectorValue/1.0",ta._jsonSchema={type:dn("string",ta._jsonSchemaVersion),vectorValues:dn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uie=/^__.*__$/;class Bie{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new po(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bd(e,this.data,n,this.fieldTransforms)}}class r6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new po(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function i6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:t})}}class LE{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new LE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(i6(this.Ac)&&Uie.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class qie{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||by(e)}Cc(e,n,r,i=!1){return new LE({Ac:e,methodName:n,Dc:r,path:zn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kd(t){const e=t._freezeSettings(),n=by(t._databaseId);return new qie(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VE(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);zE("Data must be an object, but it was:",l,r);const c=o6(r,l);let d,h;if(s.merge)d=new Pr(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const p of s.mergeFields){const x=X_(e,p,n);if(!l.contains(x))throw new we(le.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);u6(m,x)||m.push(x)}d=new Pr(m),h=l.fieldTransforms.filter((p=>d.covers(p.field)))}else d=null,h=l.fieldTransforms;return new Bie(new mr(c),d,h)}class Sy extends ME{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sy}}function a6(t,e,n,r){const i=t.Cc(1,e,n);zE("Data must be an object, but it was:",i,r);const s=[],l=mr.empty();go(r,((d,h)=>{const m=UE(e,d,n);h=Ft(h);const p=i.yc(m);if(h instanceof Sy)s.push(m);else{const x=Gd(h,p);x!=null&&(s.push(m),l.set(m,x))}}));const c=new Pr(s);return new r6(l,c,i.fieldTransforms)}function s6(t,e,n,r,i,s){const l=t.Cc(1,e,n),c=[X_(e,r,n)],d=[i];if(s.length%2!=0)throw new we(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)c.push(X_(e,s[x])),d.push(s[x+1]);const h=[],m=mr.empty();for(let x=c.length-1;x>=0;--x)if(!u6(h,c[x])){const _=c[x];let E=d[x];E=Ft(E);const S=l.yc(_);if(E instanceof Sy)h.push(_);else{const T=Gd(E,S);T!=null&&(h.push(_),m.set(_,T))}}const p=new Pr(h);return new r6(m,p,l.fieldTransforms)}function Fie(t,e,n,r=!1){return Gd(n,t.Cc(r?4:3,e))}function Gd(t,e){if(l6(t=Ft(t)))return zE("Unsupported field value:",e,t),o6(t,e);if(t instanceof ME)return(function(r,i){if(!i6(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let d=Gd(c,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Pne(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=it.fromDate(r);return{timestampValue:dp(i.serializer,s)}}if(r instanceof it){const s=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dp(i.serializer,s)}}if(r instanceof ea)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ei)return{bytesValue:w3(i.serializer,r._byteString)};if(r instanceof Xt){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:wE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ta)return(function(l,c){return{mapValue:{fields:{[Q4]:{stringValue:Z4},[op]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return bE(c.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${uy(r)}`)})(t,e)}function o6(t,e){const n={};return $4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(t,((r,i)=>{const s=Gd(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function l6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof ea||t instanceof ei||t instanceof Xt||t instanceof ME||t instanceof ta)}function zE(t,e,n){if(!l6(n)||!F4(n)){const r=uy(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function X_(t,e,n){if((e=Ft(e))instanceof $d)return e._internalPath;if(typeof e=="string")return UE(t,e);throw pp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Hie=new RegExp("[~\\*/\\[\\]]");function UE(t,e,n){if(e.search(Hie)>=0)throw pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $d(...e.split("."))._internalPath}catch{throw pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pp(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new we(le.INVALID_ARGUMENT,c+t+d)}function u6(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $ie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ay("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $ie extends c6{data(){return super.data()}}function Ay(t,e){return typeof e=="string"?UE(t,e):e instanceof $d?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kie(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BE{}class qE extends BE{}function og(t,e,...n){let r=[];e instanceof BE&&r.push(e),r=r.concat(n),(function(s){const l=s.filter((d=>d instanceof FE)).length,c=s.filter((d=>d instanceof Ty)).length;if(l>1||l>0&&c>0)throw new we(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Ty extends qE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ty(e,n,r)}_apply(e){const n=this._parse(e);return d6(e._query,n),new yo(e.firestore,e.converter,U_(e._query,n))}_parse(e){const n=Kd(e.firestore);return(function(s,l,c,d,h,m,p){let x;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new we(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){tP(p,m);const E=[];for(const S of p)E.push(eP(d,s,S));x={arrayValue:{values:E}}}else x=eP(d,s,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||tP(p,m),x=Fie(c,l,p,m==="in"||m==="not-in");return un.create(h,m,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lg(t,e,n){const r=e,i=Ay("where",t);return Ty._create(i,r,n)}class FE extends BE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new FE(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:wi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let l=i;const c=s.getFlattenedFilters();for(const d of c)d6(l,d),l=U_(l,d)})(e._query,n),new yo(e.firestore,e.converter,U_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class HE extends qE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new HE(e,n)}_apply(e){const n=(function(i,s,l){if(i.startAt!==null)throw new we(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new we(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dd(s,l)})(e._query,this._field,this._direction);return new yo(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new dc(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function f6(t,e="asc"){const n=e,r=Ay("orderBy",t);return HE._create(r,n)}class $E extends qE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new $E(e,n,r)}_apply(e){return new yo(e.firestore,e.converter,up(e._query,this._limit,this._limitType))}}function Gie(t){return $E._create("limit",t,"F")}function eP(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new we(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!s3(e)&&n.indexOf("/")!==-1)throw new we(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(At.fromString(n));if(!Pe.isDocumentKey(r))throw new we(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yk(t,new Pe(r))}if(n instanceof Xt)return yk(t,n._key);throw new we(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uy(n)}.`)}function tP(t,e){if(!Array.isArray(t)||t.length===0)throw new we(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function d6(t,e){const n=(function(i,s){for(const l of i)for(const c of l.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new we(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Yie{convertValue(e,n="none"){switch(so(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return go(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[op].arrayValue)==null?void 0:i.values)==null?void 0:s.map((l=>Wt(l.doubleValue)));return new ta(n)}convertGeoPoint(e){return new ea(Wt(e.latitude),Wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ud(e));default:return null}}convertTimestamp(e){const n=io(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=At.fromString(e);ut(C3(r),9688,{name:e});const i=new cd(r.get(1),r.get(3)),s=new Pe(r.popFirst(5));return i.isEqual(n)||Ga(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Df{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ll extends c6{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ay("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ll._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",ll._jsonSchema={type:dn("string",ll._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class ug extends ll{data(e={}){return super.data(e)}}class ku{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Df(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ug(this._firestore,this._userDataWriter,r.key,r,new Df(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const d=new ug(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Df(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const d=new ug(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Df(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:Wie(c.type),doc:d,oldIndex:h,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ku._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Wie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(t){t=ii(t,Xt);const e=ii(t.firestore,vo);return Die(Ey(e),t._key).then((n=>Qie(e,t,n)))}ku._jsonSchemaVersion="firestore/querySnapshot/1.0",ku._jsonSchema={type:dn("string",ku._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class h6 extends Yie{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function Jo(t){t=ii(t,yo);const e=ii(t.firestore,vo),n=Ey(e),r=new h6(e);return Kie(t._query),Mie(n,t._query).then((i=>new ku(e,r,t,i)))}function Xie(t,e,n){t=ii(t,Xt);const r=ii(t.firestore,vo),i=KE(t.converter,e,n);return Yd(r,[VE(Kd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,tr.none())])}function Wm(t,e,n,...r){t=ii(t,Xt);const i=ii(t.firestore,vo),s=Kd(i);let l;return l=typeof(e=Ft(e))=="string"||e instanceof $d?s6(s,"updateDoc",t._key,e,n,r):a6(s,"updateDoc",t._key,e),Yd(i,[l.toMutation(t._key,tr.exists(!0))])}function Sx(t){return Yd(ii(t.firestore,vo),[new yy(t._key,tr.none())])}function Ax(t,e){const n=ii(t.firestore,vo),r=fr(t),i=KE(t.converter,e);return Yd(n,[VE(Kd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,tr.exists(!1))]).then((()=>r))}function Yd(t,e){return(function(r,i){const s=new La;return r.asyncQueue.enqueueAndForget((async()=>Eie(await Rie(r),i,s))),s.promise})(Ey(t),e)}function Qie(t,e,n){const r=n.docs.get(e._key),i=new h6(t);return new ll(t,i,e._key,r,new Df(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zie{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Kd(e)}set(e,n,r){this._verifyNotCommitted();const i=Tx(e,this._firestore),s=KE(i.converter,n,r),l=VE(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,tr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Tx(e,this._firestore);let l;return l=typeof(n=Ft(n))=="string"||n instanceof $d?s6(this._dataReader,"WriteBatch.update",s._key,n,r,i):a6(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,tr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Tx(e,this._firestore);return this._mutations=this._mutations.concat(new yy(n._key,tr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tx(t,e){if((t=Ft(t)).firestore!==e)throw new we(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t){return Ey(t=ii(t,vo)),new Zie(t,(e=>Yd(t,e)))}(function(e,n=!0){(function(i){uc=i})(lc),qu(new vl("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new vo(new Hte(r.getProvider("auth-internal")),new Gte(l,r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new we(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cd(h.options.projectId,m)})(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),Xs(ik,ak,e),Xs(ik,ak,"esm2020")})();function m6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jie=m6,g6=new Vd("auth","Firebase",m6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=new sE("@firebase/auth");function eae(t,...e){yp.logLevel<=We.WARN&&yp.warn(`Auth (${lc}): ${t}`,...e)}function cg(t,...e){yp.logLevel<=We.ERROR&&yp.error(`Auth (${lc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,...e){throw GE(t,...e)}function na(t,...e){return GE(t,...e)}function p6(t,e,n){const r={...Jie(),[e]:n};return new Vd("auth","Firebase",r).create(e,{appName:t.name})}function Va(t){return p6(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return g6.create(t,...e)}function De(t,e,...n){if(!t)throw GE(e,...n)}function ja(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cg(e),new Error(e)}function Wa(t,e){t||ja(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function tae(){return rP()==="http:"||rP()==="https:"}function rP(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tae()||vee()||"connection"in navigator)?navigator.onLine:!0}function rae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wa(n>e,"Short delay should be less than long delay!"),this.isMobile=gee()||bee()}get(){return nae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(t,e){Wa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ja("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ja("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ja("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aae=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sae=new Wd(3e4,6e4);function bo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function rs(t,e,n,r,i={}){return v6(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=zd({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...s};return yee()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&oc(t.emulatorConfig.host)&&(h.credentials="include"),y6.fetch()(await b6(t,t.config.apiHost,n,c),h)})}async function v6(t,e,n){t._canInitEmulator=!1;const r={...iae,...e};try{const i=new lae(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Xm(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xm(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Xm(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Xm(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw p6(t,m,h);Ei(t,m)}}catch(i){if(i instanceof ns)throw i;Ei(t,"network-request-failed",{message:String(i)})}}async function Xd(t,e,n,r,i={}){const s=await rs(t,e,n,r,i);return"mfaPendingCredential"in s&&Ei(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function b6(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?YE(t.config,i):`${t.config.apiScheme}://${i}`;return aae.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function oae(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lae{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(na(this.auth,"network-request-failed")),sae.get())})}}function Xm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=na(t,e,r);return i.customData._tokenResponse=n,i}function iP(t){return t!==void 0&&t.enterprise!==void 0}class uae{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oae(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cae(t,e){return rs(t,"GET","/v2/recaptchaConfig",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fae(t,e){return rs(t,"POST","/v1/accounts:delete",e)}async function vp(t,e){return rs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dae(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=WE(r);De(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:qf(Cx(i.auth_time)),issuedAtTime:qf(Cx(i.iat)),expirationTime:qf(Cx(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Cx(t){return Number(t)*1e3}function WE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cg("JWT malformed, contained fewer than 3 sections"),null;try{const i=S4(n);return i?JSON.parse(i):(cg("Failed to decode base64 JWT payload"),null)}catch(i){return cg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aP(t){const e=WE(t);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ns&&hae(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hae({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qf(this.lastLoginAt),this.creationTime=qf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bp(t){var p;const e=t.auth,n=await t.getIdToken(),r=await Wu(t,vp(e,{idToken:n}));De(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(p=i.providerUserInfo)!=null&&p.length?x6(i.providerUserInfo):[],l=pae(t.providerData,s),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Z_(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function gae(t){const e=Ft(t);await bp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pae(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function x6(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yae(t,e){const n=await v6(t,{},async()=>{const r=zd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await b6(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&oc(t.emulatorConfig.host)&&(d.credentials="include"),y6.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vae(t,e){return rs(t,"POST","/v2/accounts:revokeToken",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=aP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await yae(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new Pu;return r&&(De(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(De(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(De(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pu,this.toJSON())}_performRefresh(){return ja("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(t,e){De(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new mae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Z_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Wu(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dae(this,e)}reload(){return gae(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jr(this.auth.app))return Promise.reject(Va(this.auth));const e=await this.getIdToken();return await Wu(this,fae(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:p,emailVerified:x,isAnonymous:_,providerData:E,stsTokenManager:S}=n;De(p&&S,e,"internal-error");const T=Pu.fromJSON(this.name,S);De(typeof p=="string",e,"internal-error"),Ms(r,e.name),Ms(i,e.name),De(typeof x=="boolean",e,"internal-error"),De(typeof _=="boolean",e,"internal-error"),Ms(s,e.name),Ms(l,e.name),Ms(c,e.name),Ms(d,e.name),Ms(h,e.name),Ms(m,e.name);const I=new xi({uid:p,auth:e,email:i,emailVerified:x,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:s,tenantId:c,stsTokenManager:T,createdAt:h,lastLoginAt:m});return E&&Array.isArray(E)&&(I.providerData=E.map(j=>({...j}))),d&&(I._redirectEventId=d),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Pu;i.updateFromServerResponse(n);const s=new xi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];De(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?x6(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new Pu;c.updateFromIdToken(r);const d=new xi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Z_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=new Map;function Ra(t){Wa(t instanceof Function,"Expected a class definition");let e=sP.get(t);return e?(Wa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_6.type="NONE";const oP=_6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e,n){return`firebase:${t}:${e}:${n}`}class ju{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=fg(this.userKey,i.apiKey,s),this.fullPersistenceKey=fg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vp(this.auth,{idToken:e}).catch(()=>{});return n?xi._fromGetAccountInfoResponse(this.auth,n,e):null}return xi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ju(Ra(oP),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Ra(oP);const l=fg(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(l);if(m){let p;if(typeof m=="string"){const x=await vp(e,{idToken:m}).catch(()=>{});if(!x)break;p=await xi._fromGetAccountInfoResponse(e,x,m)}else p=xi._fromJSON(e,m);h!==s&&(c=p),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new ju(s,e,r):(s=d[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new ju(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(A6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O6(e))return"Blackberry";if(C6(e))return"Webos";if(E6(e))return"Safari";if((e.includes("chrome/")||S6(e))&&!e.includes("edge/"))return"Chrome";if(T6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function w6(t=Yn()){return/firefox\//i.test(t)}function E6(t=Yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function S6(t=Yn()){return/crios\//i.test(t)}function A6(t=Yn()){return/iemobile/i.test(t)}function T6(t=Yn()){return/android/i.test(t)}function O6(t=Yn()){return/blackberry/i.test(t)}function C6(t=Yn()){return/webos/i.test(t)}function XE(t=Yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bae(t=Yn()){var e;return XE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function xae(){return xee()&&document.documentMode===10}function I6(t=Yn()){return XE(t)||T6(t)||C6(t)||O6(t)||/windows phone/i.test(t)||A6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t,e=[]){let n;switch(t){case"Browser":n=lP(Yn());break;case"Worker":n=`${lP(Yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const d=e(s);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wae(t,e={}){return rs(t,"GET","/v2/passwordPolicy",bo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eae=6;class Sae{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Eae,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aae{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uP(this),this.idTokenSubscription=new uP(this),this.beforeStateQueue=new _ae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ra(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await ju.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vp(this,{idToken:e}),r=await xi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Jr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(s=this.redirectUser)==null?void 0:s._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rae()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jr(this.app))return Promise.reject(Va(this));const n=e?Ft(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jr(this.app)?Promise.reject(Va(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jr(this.app)?Promise.reject(Va(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ra(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wae(this),n=new Sae(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await vae(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ra(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await ju.create(this,[Ra(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=N6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&eae(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Il(t){return Ft(t)}class uP{constructor(e){this.auth=e,this.observer=null,this.addObserver=Cee(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tae(t){Oy=t}function k6(t){return Oy.loadJS(t)}function Oae(){return Oy.recaptchaEnterpriseScript}function Cae(){return Oy.gapiScript}function Iae(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Nae{constructor(){this.enterprise=new kae}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kae{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Pae="recaptcha-enterprise",P6="NO_RECAPTCHA";class jae{constructor(e){this.type=Pae,this.auth=Il(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,c)=>{cae(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new uae(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function i(s,l,c){const d=window.grecaptcha;iP(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(P6)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Nae().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(c=>{if(!n&&iP(window.grecaptcha))i(c,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Oae();d.length!==0&&(d+=c),k6(d).then(()=>{i(c,s,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function cP(t,e,n,r=!1,i=!1){const s=new jae(t);let l;if(i)l=P6;else try{l=await s.verify(n)}catch{l=await s.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function J_(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await cP(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await cP(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rae(t,e){const n=lE(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(yl(s,e??{}))return i;Ei(i,"already-initialized")}return n.initialize({options:e})}function Dae(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ra);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Mae(t,e,n){const r=Il(t);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=j6(e),{host:l,port:c}=Lae(e),d=c===null?"":`:${c}`,h={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(yl(h,r.config.emulator)&&yl(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,oc(l)?(C4(`${s}//${l}${d}`),I4("Auth",!0)):Vae()}function j6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Lae(t){const e=j6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:fP(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:fP(l)}}}function fP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Vae(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ja("not implemented")}_getIdTokenResponse(e){return ja("not implemented")}_linkToIdToken(e,n){return ja("not implemented")}_getReauthenticationResolver(e){return ja("not implemented")}}async function zae(t,e){return rs(t,"POST","/v1/accounts:update",e)}async function Uae(t,e){return rs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bae(t,e){return Xd(t,"POST","/v1/accounts:signInWithPassword",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qae(t,e){return Xd(t,"POST","/v1/accounts:signInWithEmailLink",bo(t,e))}async function Fae(t,e){return Xd(t,"POST","/v1/accounts:signInWithEmailLink",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends QE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new gd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return J_(e,n,"signInWithPassword",Bae);case"emailLink":return qae(e,{email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return J_(e,r,"signUpPassword",Uae);case"emailLink":return Fae(e,{idToken:n,email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(t,e){return Xd(t,"POST","/v1/accounts:signInWithIdp",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hae="http://localhost";class wl extends QE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new wl(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ru(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ru(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ru(e,n)}buildRequest(){const e={requestUri:Hae,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ae(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Kae(t){const e=Nf(kf(t)).link,n=e?Nf(kf(e)).deep_link_id:null,r=Nf(kf(t)).deep_link_id;return(r?Nf(kf(r)).link:null)||r||n||e||t}class ZE{constructor(e){const n=Nf(kf(e)),r=n.apiKey??null,i=n.oobCode??null,s=$ae(n.mode??null);De(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Kae(e);try{return new ZE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.providerId=Nl.PROVIDER_ID}static credential(e,n){return gd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ZE.parseLink(n);return De(r,"argument-error"),gd._fromEmailAndCode(e,r.code,r.tenantId)}}Nl.PROVIDER_ID="password";Nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends R6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Qd{constructor(){super("facebook.com")}static credential(e){return wl._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Qd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wl._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bs.credential(n,r)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Qd{constructor(){super("github.com")}static credential(e){return wl._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Qd{constructor(){super("twitter.com")}static credential(e,n){return wl._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fs.credential(n,r)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gae(t,e){return Xd(t,"POST","/v1/accounts:signUp",bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await xi._fromIdTokenResponse(e,r,i),l=dP(r);return new El({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=dP(r);return new El({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function dP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends ns{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new xp(e,n,r,i)}}function D6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xp._fromErrorAndOperation(t,s,e,r):s})}async function Yae(t,e,n=!1){const r=await Wu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return El._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M6(t,e,n=!1){const{auth:r}=t;if(Jr(r.app))return Promise.reject(Va(r));const i="reauthenticate";try{const s=await Wu(t,D6(r,i,e,t),n);De(s.idToken,r,"internal-error");const l=WE(s.idToken);De(l,r,"internal-error");const{sub:c}=l;return De(t.uid===c,r,"user-mismatch"),El._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ei(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(t,e,n=!1){if(Jr(t.app))return Promise.reject(Va(t));const r="signIn",i=await D6(t,r,e),s=await El._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Wae(t,e){return L6(Il(t),e)}async function Xae(t,e){return M6(Ft(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(t){const e=Il(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Qae(t,e,n){if(Jr(t.app))return Promise.reject(Va(t));const r=Il(t),l=await J_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gae).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&V6(t),d}),c=await El._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function Zae(t,e,n){return Jr(t.app)?Promise.reject(Va(t)):Wae(Ft(t),Nl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&V6(t),r})}function Jae(t,e){return ese(Ft(t),null,e)}async function ese(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const l=await Wu(t,zae(r,s));await t._updateTokensIfNecessary(l,!0)}function tse(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function nse(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function rse(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}function ise(t){return Ft(t).signOut()}const _p="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_p,"1"),this.storage.removeItem(_p),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ase=1e3,sse=10;class U6 extends z6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);xae()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sse):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ase)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}U6.type="LOCAL";const ose=U6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6 extends z6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}B6.type="SESSION";const q6=B6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lse(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Cy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async h=>h(n.origin,s)),d=await lse(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class use{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,d)=>{const h=JE("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(p){const x=p;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(x.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(){return window}function cse(t){ra().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(){return typeof ra().WorkerGlobalScope<"u"&&typeof ra().importScripts=="function"}async function fse(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dse(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function hse(){return F6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6="firebaseLocalStorageDb",mse=1,wp="firebaseLocalStorage",$6="fbase_key";class Zd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Iy(t,e){return t.transaction([wp],e?"readwrite":"readonly").objectStore(wp)}function gse(){const t=indexedDB.deleteDatabase(H6);return new Zd(t).toPromise()}function ew(){const t=indexedDB.open(H6,mse);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wp,{keyPath:$6})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wp)?e(r):(r.close(),await gse(),e(await ew()))})})}async function hP(t,e,n){const r=Iy(t,!0).put({[$6]:e,value:n});return new Zd(r).toPromise()}async function pse(t,e){const n=Iy(t,!1).get(e),r=await new Zd(n).toPromise();return r===void 0?null:r.value}function mP(t,e){const n=Iy(t,!0).delete(e);return new Zd(n).toPromise()}const yse=800,vse=3;class K6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ew(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vse)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cy._getInstance(hse()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await fse(),!this.activeServiceWorker)return;this.sender=new use(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dse()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ew();return await hP(e,_p,"1"),await mP(e,_p),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>pse(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Iy(i,!1).getAll();return new Zd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yse)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K6.type="LOCAL";const bse=K6;new Wd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xse(t,e){return e?Ra(e):(De(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS extends QE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ru(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ru(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ru(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _se(t){return L6(t.auth,new eS(t),t.bypassAuthState)}function wse(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),M6(n,new eS(t),t.bypassAuthState)}async function Ese(t){const{auth:e,user:n}=t;return De(n,e,"internal-error"),Yae(n,new eS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _se;case"linkViaPopup":case"linkViaRedirect":return Ese;case"reauthViaPopup":case"reauthViaRedirect":return wse;default:Ei(this.auth,"internal-error")}}resolve(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sse=new Wd(2e3,1e4);class Ou extends G6{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ou.currentPopupAction&&Ou.currentPopupAction.cancel(),Ou.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Wa(this.filter.length===1,"Popup operations only handle one event");const e=JE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(na(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(na(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ou.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(na(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Sse.get())};e()}}Ou.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ase="pendingRedirect",dg=new Map;class Tse extends G6{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dg.get(this.auth._key());if(!e){try{const r=await Ose(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dg.set(this.auth._key(),e)}return this.bypassAuthState||dg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ose(t,e){const n=Nse(e),r=Ise(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Cse(t,e){dg.set(t._key(),e)}function Ise(t){return Ra(t._redirectPersistence)}function Nse(t){return fg(Ase,t.config.apiKey,t.name)}async function kse(t,e,n=!1){if(Jr(t.app))return Promise.reject(Va(t));const r=Il(t),i=xse(r,e),l=await new Tse(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pse=600*1e3;class jse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Rse(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Y6(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(na(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Pse&&this.cachedEventUids.clear(),this.cachedEventUids.has(gP(e))}saveEventToCache(e){this.cachedEventUids.add(gP(e)),this.lastProcessedEventTime=Date.now()}}function gP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Y6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Rse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dse(t,e={}){return rs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mse=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lse=/^https?/;async function Vse(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Dse(t);for(const n of e)try{if(zse(n))return}catch{}Ei(t,"unauthorized-domain")}function zse(t){const e=Q_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!Lse.test(n))return!1;if(Mse.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Use=new Wd(3e4,6e4);function pP(){const t=ra().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Bse(t){return new Promise((e,n)=>{var i,s,l;function r(){pP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pP(),n(na(t,"network-request-failed"))},timeout:Use.get()})}if((s=(i=ra().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((l=ra().gapi)!=null&&l.load)r();else{const c=Iae("iframefcb");return ra()[c]=()=>{gapi.load?r():n(na(t,"network-request-failed"))},k6(`${Cae()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw hg=null,e})}let hg=null;function qse(t){return hg=hg||Bse(t),hg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fse=new Wd(5e3,15e3),Hse="__/auth/iframe",$se="emulator/auth/iframe",Kse={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gse=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yse(t){const e=t.config;De(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?YE(e,$se):`https://${t.config.authDomain}/${Hse}`,r={apiKey:e.apiKey,appName:t.name,v:lc},i=Gse.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${zd(r).slice(1)}`}async function Wse(t){const e=await qse(t),n=ra().gapi;return De(n,t,"internal-error"),e.open({where:document.body,url:Yse(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kse,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=na(t,"network-request-failed"),c=ra().setTimeout(()=>{s(l)},Fse.get());function d(){ra().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xse={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qse=500,Zse=600,Jse="_blank",eoe="http://localhost";class yP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function toe(t,e,n,r=Qse,i=Zse){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...Xse,width:r.toString(),height:i.toString(),top:s,left:l},h=Yn().toLowerCase();n&&(c=S6(h)?Jse:n),w6(h)&&(e=e||eoe,d.scrollbars="yes");const m=Object.entries(d).reduce((x,[_,E])=>`${x}${_}=${E},`,"");if(bae(h)&&c!=="_self")return noe(e||"",c),new yP(null);const p=window.open(e||"",c,m);De(p,t,"popup-blocked");try{p.focus()}catch{}return new yP(p)}function noe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const roe="__/auth/handler",ioe="emulator/auth/handler",aoe=encodeURIComponent("fac");async function vP(t,e,n,r,i,s){De(t.config.authDomain,t,"auth-domain-config-required"),De(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lc,eventId:i};if(e instanceof R6){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Oee(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))l[m]=p}if(e instanceof Qd){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),h=d?`#${aoe}=${encodeURIComponent(d)}`:"";return`${soe(t)}?${zd(c).slice(1)}${h}`}function soe({config:t}){return t.emulator?YE(t,ioe):`https://${t.authDomain}/${roe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="webStorageSupport";class ooe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q6,this._completeRedirectFn=kse,this._overrideRedirectResult=Cse}async _openPopup(e,n,r,i){var l;Wa((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const s=await vP(e,n,r,Q_(),i);return toe(e,s,JE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await vP(e,n,r,Q_(),i);return cse(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Wa(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Wse(e),r=new jse(e);return n.register("authEvent",i=>(De(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ix,{type:Ix},i=>{var l;const s=(l=i==null?void 0:i[0])==null?void 0:l[Ix];s!==void 0&&n(!!s),Ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Vse(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return I6()||E6()||XE()}}const loe=ooe;var bP="@firebase/auth",xP="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uoe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function coe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function foe(t){qu(new vl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;De(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N6(t)},h=new Aae(r,i,s,d);return Dae(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qu(new vl("auth-internal",e=>{const n=Il(e.getProvider("auth").getImmediate());return(r=>new uoe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(bP,xP,coe(t)),Xs(bP,xP,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const doe=300,hoe=O4("authIdTokenMaxAge")||doe;let _P=null;const moe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hoe)return;const i=n==null?void 0:n.token;_P!==i&&(_P=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function W6(t=cE()){const e=lE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Rae(t,{popupRedirectResolver:loe,persistence:[bse,ose,q6]}),r=O4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=moe(s.toString());nse(n,l,()=>l(n.currentUser)),tse(n,c=>l(c))}}const i=A4("auth");return i&&Mae(n,`http://${i}`),n}function goe(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Tae({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=na("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",goe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});foe("Browser");const Ny={apiKey:"AIzaSyBWYmTXDypcROQT4KaJ-ESdd2Zo63PtdMs",authDomain:"quranic-2c7f5.firebaseapp.com",projectId:"quranic-2c7f5",storageBucket:"quranic-2c7f5.appspot.com",messagingSenderId:"223816906279",appId:"1:223816906279:web:8f681d4ad394a59df6c002",measurementId:"G-TFDTVGHQX1"},X6=Cte().length?cE():uE(Ny),Et=Vie(X6),Qm=W6(X6),poe=({value:t,onChange:e})=>{const n=$N.find(i=>i.name===t.surah),r=n?n.verse_count:void 0;return v.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[v.jsxs("select",{value:t.surah,onChange:i=>e("surah",i.target.value),className:"flex-grow min-w-[120px] px-2 py-1.5 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 bg-white dark:bg-gray-700 dark:text-white",children:[v.jsx("option",{value:"",disabled:!0,children:" "}),$N.map(i=>v.jsx("option",{value:i.name,children:i.name},i.id))]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"number",placeholder:"",min:"1",max:r,value:t.from,onChange:i=>e("from",i.target.value),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 bg-white dark:bg-gray-700 dark:text-white",disabled:!t.surah,"aria-label":"From verse"}),v.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"-"}),v.jsx("input",{type:"number",placeholder:"",min:t.from||1,max:r,value:t.to,onChange:i=>e("to",i.target.value),className:"w-16 px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 bg-white dark:bg-gray-700 dark:text-white",disabled:!t.surah,"aria-label":"To verse"})]}),n&&v.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["( ",r,")"]})]})},yoe=({students:t,halaqat:e,onSave:n,teacherId:r})=>{const[i,s]=w.useState(""),[l,c]=w.useState([]),[d,h]=w.useState({}),[m,p]=w.useState(!1),[x,_]=w.useState(!1),[E,S]=w.useState(null),[T,I]=w.useState(!1),[j,L]=w.useState([]),[q,V]=w.useState(null),[F,N]=w.useState(!1),[k,D]=w.useState(null),B=new Date,P=new Intl.DateTimeFormat("ar-SA",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(B),U=w.useMemo(()=>r?e.filter(G=>G.teacherId===r):e,[e,r]);w.useEffect(()=>{U.length>0?U.find(G=>G.id===i)||s(U[0].id):s("")},[U,i]),w.useEffect(()=>{if(i){const G=t.filter(xe=>xe.halaqaId===i);c(G);const ce={};G.forEach(xe=>{ce[xe.id]={newMemorization:{surah:"",from:"",to:""},quality:"good",notes:""}}),h(ce)}else c([]),h({})},[i,t]);const M=(G,ce,xe)=>{const $=(ce==="from"||ce==="to")&&xe!==""?Math.max(0,Number(xe)):xe;h(re=>{const ge=re[G],ve={...ge,newMemorization:{...ge.newMemorization,[ce]:$}};return ce==="from"&&typeof $=="number"&&ve.newMemorization.to!==""&&$>Number(ve.newMemorization.to)&&(ve.newMemorization.to=$),ce==="surah"&&(ve.newMemorization.from="",ve.newMemorization.to=""),{...re,[G]:ve}})},he=(G,ce)=>{h(xe=>({...xe,[G]:{...xe[G],quality:ce}}))},be=(G,ce)=>{h(xe=>({...xe,[G]:{...xe[G],notes:ce}}))},W=async()=>{var ce;p(!0),_(!1),S(null);const G=r||((ce=e.find(xe=>xe.id===i))==null?void 0:ce.teacherId);if(!G){console.error("Teacher ID not found for this halaqa"),S("       ."),p(!1);return}try{await n(d,i,G);const xe={};l.forEach($=>{xe[$.id]={newMemorization:{surah:"",from:"",to:""},quality:"good",notes:""}}),h(xe),_(!0),setTimeout(()=>_(!1),3e3)}catch(xe){console.error("Failed to save:",xe),xe.code==="permission-denied"||xe.message.includes("permission-denied")||xe.message.includes("insufficient permissions")?S(v.jsxs("div",{className:"text-right text-sm",children:[v.jsx("p",{className:"font-bold mb-2",children:"  :   ."}),v.jsx("p",{className:"mb-2",children:"    Firestore      'memorization_logs'."}),v.jsx("p",{className:"font-semibold",children:" :"}),v.jsxs("ol",{className:"list-decimal list-inside my-2 space-y-1",children:[v.jsx("li",{children:"      Firebase."}),v.jsxs("li",{children:["  ",v.jsx("code",{className:"bg-gray-200 dark:bg-gray-600 px-1 rounded",children:"Firestore Database"}),"  ",v.jsx("code",{className:"bg-gray-200 dark:bg-gray-600 px-1 rounded",children:"Rules"}),"."]}),v.jsxs("li",{children:["     ",v.jsx("code",{children:"match /databases/{database}/documents { ... }"}),":"]})]}),v.jsx("pre",{className:"bg-gray-100 dark:bg-gray-900 p-3 rounded-md text-xs text-left my-2",dir:"ltr",children:v.jsx("code",{children:`
    match /memorization_logs/{logId} {
      // Allow any authenticated user to create and read logs.
      allow read, create: if request.auth != null;
    }
    `})}),v.jsxs("p",{className:"mt-2",children:["4.   ",v.jsx("strong",{children:"Publish"}),"   ."]})]})):S("    .    .")}finally{p(!1)}},te=async G=>{V(G),I(!0),N(!0),D(null);try{const ce=og(Or(Et,"memorization_logs"),lg("studentId","==",G.id),f6("date","desc")),$=(await Jo(ce)).docs.map(re=>({id:re.id,...re.data()}));L($)}catch(ce){if(console.error("Error fetching memorization history:",ce),ce.code==="failed-precondition"){const xe=`https://console.firebase.google.com/v1/r/project/${Ny.projectId}/firestore/indexes?create_composite=Cldwcm9qZWN0cy9xdXJhbmljLTJjN2Y1L2RhdGFiYXNlcy8oZGVmYXVsdCkvY29sbGVjdGlvbkdyb3Vwcy9tZW1vcml6YXRpb25fbG9ncy9pbmRleGVzL18QARoNCglzdHVkZW50SWQQARoICgRkYXRlEAIaDAoIX19uYW1lX18QAg`;D(v.jsxs("div",{className:"text-right text-sm",children:[v.jsx("p",{className:"font-bold mb-2 text-base text-red-800 dark:text-red-300",children:":    ."}),v.jsx("p",{className:"mb-2",children:"    Firestore   (index)   .      ."}),v.jsx("p",{className:"font-semibold mt-4",children:" :"}),v.jsxs("ol",{className:"list-decimal list-inside my-2 space-y-2",children:[v.jsx("li",{children:"            Firebase."}),v.jsx("li",{children:"       ."}),v.jsx("li",{children:'   "Create"        (   "Building").'}),v.jsx("li",{children:'   ( "Enabled")      .'})]}),v.jsx("a",{href:xe,target:"_blank",rel:"noopener noreferrer",className:"inline-block w-full text-center mt-3 px-4 py-2 bg-green-700 text-white rounded-md hover:bg-green-800 transition-colors font-semibold",children:"    Firebase"})]}))}else D("      .");L([])}finally{N(!1)}};return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center mb-6 gap-4",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"  "}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"halaqa-select",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),v.jsx("select",{id:"halaqa-select",value:i,onChange:G=>s(G.target.value),className:"w-full md:w-72 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 bg-white dark:bg-gray-700 dark:text-white",disabled:U.length===0,children:U.length===0?v.jsx("option",{children:"   "}):v.jsxs(v.Fragment,{children:[v.jsx("option",{value:"",disabled:!0,children:"--   --"}),U.map(G=>v.jsx("option",{value:G.id,children:G.name},G.id))]})})]})]}),i?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border-r-4 border-green-500 p-4 rounded-md mb-6",children:v.jsxs("p",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:["  : ",v.jsx("span",{className:"text-green-800 dark:text-green-400",children:P})]})}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[v.jsx("thead",{className:"bg-gray-100 dark:bg-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:" "}),v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:" "}),v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:""}),v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:""})]})}),v.jsx("tbody",{children:l.map(G=>{var ce,xe,$;return v.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200",children:[v.jsx("td",{className:"px-4 py-3 text-gray-800 dark:text-gray-200 font-medium align-top",children:v.jsx("button",{onClick:()=>te(G),className:"text-right hover:text-green-700 dark:hover:text-green-400 font-semibold transition-colors",children:G.name})}),v.jsx("td",{className:"px-4 py-3",children:v.jsx(poe,{value:(ce=d[G.id])==null?void 0:ce.newMemorization,onChange:(re,ge)=>M(G.id,re,ge)})}),v.jsx("td",{className:"px-4 py-3",children:v.jsxs("select",{value:((xe=d[G.id])==null?void 0:xe.quality)||"good",onChange:re=>he(G.id,re.target.value),className:"w-full px-2 py-1.5 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 bg-white dark:bg-gray-700 dark:text-white","aria-label":"Evaluation",children:[v.jsx("option",{value:"good",children:" "}),v.jsx("option",{value:"average",children:" "}),v.jsx("option",{value:"repeat",children:" "})]})}),v.jsx("td",{className:"px-4 py-3",children:v.jsx("input",{type:"text",placeholder:"...",value:(($=d[G.id])==null?void 0:$.notes)||"",onChange:re=>be(G.id,re.target.value),className:"w-full px-2 py-1.5 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 bg-white dark:bg-gray-700 dark:text-white"})})]},G.id)})})]})}),v.jsxs("div",{className:"mt-6 flex flex-col items-end gap-4",children:[E&&v.jsx("div",{className:"w-full p-4 bg-red-100 dark:bg-red-900/30 border-r-4 border-red-500 rounded-md",children:v.jsx("div",{className:"text-red-700 dark:text-red-300",children:E})}),v.jsxs("div",{className:"flex items-center gap-4",children:[x&&v.jsx("div",{className:"text-green-700 bg-green-100 dark:text-green-300 dark:bg-green-900/50 py-2 px-4 rounded-md transition-opacity duration-300",children:"   !"}),v.jsx("button",{onClick:W,disabled:m,className:"bg-green-700 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-800 transition-colors duration-300 shadow-md disabled:bg-green-400 disabled:cursor-not-allowed",children:m?" ...":" "})]})]})]}):v.jsx("div",{className:"text-center py-16",children:v.jsx("p",{className:"text-xl font-semibold text-gray-500 dark:text-gray-400",children:r&&U.length===0?"      .":"      ."})})]}),q&&v.jsx(tee,{isOpen:T,onClose:()=>I(!1),student:q,history:j,isLoading:F,error:k})]})},voe=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),boe="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js";let Of=null;const xoe=()=>window.html2pdf?Promise.resolve():Of||(Of=new Promise((t,e)=>{const n=document.createElement("script");n.src=boe,n.async=!0,n.onload=()=>{t()},n.onerror=()=>{Of=null,e(new Error("   PDF.        ."))},document.body.appendChild(n)}),Of),wP=["#16A34A","#F59E0B","#EF4444"],Nx=({title:t,value:e,description:n})=>v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-lg shadow-md border-r-4 border-green-700 dark:border-green-600",children:[v.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:t}),v.jsx("p",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200",children:e}),n&&v.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:n})]}),_oe=({students:t,teachers:e,halaqat:n})=>{var I;const[r,i]=w.useState(""),[s,l]=w.useState(!1),c=w.useRef(null),d=w.useMemo(()=>r?t.filter(j=>j.halaqaId===r):t,[r,t]),{avgMemorization:h,avgAttendance:m,studentPerformanceDist:p}=w.useMemo(()=>{const j=d,L=j.reduce((D,B)=>D+(Number(B.memorizationProgress)||0),0),q=j.length>0?(L/j.length).toFixed(1):"0.0",V=j.reduce((D,B)=>D+(Number(B.attendanceRate)||0),0),F=j.length>0?(V/j.length).toFixed(1):"0.0",N={excellent:0,good:0,repeat:0};j.forEach(D=>{D.memorizationProgress>=90?N.excellent++:D.memorizationProgress>=70?N.good++:N.repeat++});const k=[{name:" (90% )",value:N.excellent},{name:" (70%-89%)",value:N.good},{name:"  (  70%)",value:N.repeat}];return{avgMemorization:q,avgAttendance:F,studentPerformanceDist:k}},[d]),{halaqaPerformance:x,topHalaqa:_}=w.useMemo(()=>{const j={};t.forEach(V=>{j[V.halaqaId]||(j[V.halaqaId]={total:0,count:0}),j[V.halaqaId].total+=Number(V.memorizationProgress)||0,j[V.halaqaId].count++});const L=n.map(V=>({name:V.name," ":j[V.id]?j[V.id].total/j[V.id].count:0})),q=L.length>0?L.reduce((V,F)=>F[" "]>V[" "]?F:V):{name:"N/A"," ":0};return{halaqaPerformance:L,topHalaqa:q}},[t,n]),E=()=>{s||(l(!0),setTimeout(()=>{(async()=>{try{await xoe();const L=c.current;if(!L)throw new Error("     .");const q={margin:.5,filename:`quran_school_report_${new Date().toISOString().slice(0,10)}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,letterRendering:!0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}};await window.html2pdf().from(L).set(q).save()}catch(L){console.error("PDF export failed:",L);const q=L instanceof Error?L.message:"  PDF.    .";alert(q)}finally{l(!1)}})()},50))},S=j=>{var L;return((L=n.find(q=>q.id===j))==null?void 0:L.name)||"N/A"},T=j=>{var L;return((L=e.find(q=>q.id===j))==null?void 0:L.name)||"N/A"};return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md gap-4 print:hidden",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:" "}),v.jsxs("div",{className:"flex items-center gap-4 flex-wrap justify-center",children:[v.jsxs("select",{value:r,onChange:j=>i(j.target.value),className:"w-full md:w-60 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 bg-white dark:bg-gray-700 dark:text-white",children:[v.jsx("option",{value:"",children:" "}),n.map(j=>v.jsx("option",{value:j.id,children:j.name},j.id))]}),v.jsxs("button",{onClick:E,disabled:s,className:"flex items-center gap-2 bg-red-700 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-800 transition-colors disabled:bg-red-400 disabled:cursor-wait",children:[v.jsx(voe,{className:"w-5 h-5"}),s?" ...":" PDF"]})]})]}),v.jsxs("div",{id:"report-content",ref:c,className:"dark:print:bg-gray-800",children:[v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[v.jsx(Nx,{title:" ",value:`${h}%`,description:r?`  ${S(r)}`:" "}),v.jsx(Nx,{title:" ",value:`${m}%`,description:r?`  ${S(r)}`:" "}),v.jsx(Nx,{title:"  ",value:(_==null?void 0:_.name)||"N/A",description:`  ${(I=_[" "])==null?void 0:I.toFixed(1)}%`})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 mt-8",children:[v.jsxs("div",{className:"lg:col-span-3 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300",children:"   ( )"}),v.jsx(Yf,{width:"100%",height:300,children:v.jsxs(nE,{data:x,children:[v.jsx(rd,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.3)"}),v.jsx(ad,{dataKey:"name",angle:-20,textAnchor:"end",height:60,tick:{fontFamily:"Cairo",fontSize:12},className:"text-gray-600 dark:text-gray-400"}),v.jsx(sd,{unit:"%",tick:{fontFamily:"Cairo"},className:"text-gray-600 dark:text-gray-400"}),v.jsx(nd,{wrapperStyle:{fontFamily:"Cairo"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.9)",color:"#000",borderRadius:"0.5rem",border:"1px solid #ccc"}}),v.jsx(Wx,{wrapperStyle:{fontFamily:"Cairo"}}),v.jsx(sy,{dataKey:" ",fill:"#2E7D32",barSize:30,isAnimationActive:!s})]})})]}),v.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300",children:"  "}),v.jsx(Yf,{width:"100%",height:300,children:v.jsxs(jJ,{children:[v.jsx(qM,{isAnimationActive:!s,data:p,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:j,percent:L})=>`${(L*100).toFixed(0)}%`,children:p.map((j,L)=>v.jsx(Dd,{fill:wP[L%wP.length]},`cell-${L}`))}),v.jsx(nd,{wrapperStyle:{fontFamily:"Cairo"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.9)",color:"#000",borderRadius:"0.5rem",border:"1px solid #ccc"}}),v.jsx(Wx,{wrapperStyle:{fontFamily:"Cairo"}})]})})]})]}),v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md mt-8",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300",children:"  "}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[v.jsx("thead",{className:"bg-green-50 dark:bg-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:" "}),v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:""}),v.jsx("th",{className:"text-right font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:""}),v.jsx("th",{className:"text-center font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:" "}),v.jsx("th",{className:"text-center font-semibold text-gray-600 dark:text-gray-300 px-4 py-3",children:" "})]})}),v.jsx("tbody",{children:d.map(j=>v.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200",children:[v.jsx("td",{className:"px-4 py-3 text-gray-800 dark:text-gray-200",children:j.name}),v.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400",children:S(j.halaqaId)}),v.jsx("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400",children:T(j.teacherId)}),v.jsxs("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400 text-center",children:[j.memorizationProgress,"%"]}),v.jsxs("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400 text-center",children:[j.attendanceRate,"%"]})]},j.id))})]})})]})]})]})},woe=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Q6=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),Eoe=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),Soe=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),Aoe=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),Zm=({title:t,icon:e,children:n})=>v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[v.jsxs("div",{className:"flex items-center border-b border-gray-200 dark:border-gray-700 pb-4 mb-4",children:[v.jsx("span",{className:"text-green-700 dark:text-green-500",children:e}),v.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-200 mr-3",children:t})]}),v.jsx("div",{children:n})]}),Toe=({enabled:t,setEnabled:e})=>v.jsxs("button",{onClick:()=>e(!t),className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 ${t?"bg-green-600":"bg-gray-300 dark:bg-gray-600"}`,children:[v.jsx("span",{className:"sr-only",children:"Enable dark mode"}),v.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform duration-300 flex items-center justify-center ${t?"translate-x-6":"translate-x-1"}`,children:t?v.jsx(Eoe,{className:"h-3 w-3 text-green-600"}):v.jsx(Q6,{className:"h-3 w-3 text-gray-500"})})]}),Ooe=({isDarkMode:t,setIsDarkMode:e,currentUser:n,onUpdateProfile:r,onChangePassword:i})=>{const[s,l]=w.useState({name:"",email:""}),[c,d]=w.useState({name:"  ",logo:""}),[h,m]=w.useState({summary:!0,registration:!0,achievement:!1}),[p,x]=w.useState(!1),[_,E]=w.useState(!1),[S,T]=w.useState(null),[I,j]=w.useState({current:"",newPass:"",confirmPass:""}),[L,q]=w.useState(!1),[V,F]=w.useState(null),[N,k]=w.useState(!1);w.useEffect(()=>{n&&l({name:n.name,email:n.email})},[n]);const D=async()=>{E(!1),T(null),x(!0);try{await r(s),E(!0),setTimeout(()=>E(!1),3e3)}catch(P){T(P.message||"   .")}finally{x(!1)}},B=async()=>{if(F(null),k(!1),!I.current||!I.newPass||!I.confirmPass){F("     .");return}if(I.newPass.length<6){F("        6 .");return}if(I.newPass!==I.confirmPass){F("    .");return}q(!0);try{await i(I.current,I.newPass),k(!0),j({current:"",newPass:"",confirmPass:""}),setTimeout(()=>k(!1),3e3)}catch(P){F(P.message||"   .")}finally{q(!1)}};return v.jsxs("div",{className:"space-y-8",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:""}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[v.jsx(Zm,{title:" ",icon:v.jsx(woe,{className:"w-6 h-6"}),children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:""}),v.jsx("input",{type:"text",id:"name",value:s.name,onChange:P=>l({...s,name:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50 dark:bg-gray-700 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:" "}),v.jsx("input",{type:"email",id:"email",value:s.email,onChange:P=>l({...s,email:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50 dark:bg-gray-700 dark:text-white disabled:bg-gray-200 dark:disabled:bg-gray-600 disabled:text-gray-500",disabled:n.role==="teacher"}),n.role==="teacher"&&v.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"       ."})]}),v.jsxs("div",{className:"pt-4 flex justify-end items-center gap-4",children:[_&&v.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 transition-opacity duration-300",children:"  !"}),v.jsx("button",{onClick:D,className:"px-4 py-2 bg-green-700 text-white rounded-md hover:bg-green-800 transition-colors disabled:bg-green-400 disabled:cursor-not-allowed",disabled:p,children:p?" ...":" "})]}),S&&v.jsx("p",{className:"text-red-500 text-sm text-right mt-2",children:S})]})}),v.jsx(Zm,{title:"  ",icon:v.jsx(Aoe,{className:"w-6 h-6"}),children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"  "}),v.jsx("input",{type:"password",id:"currentPassword",value:I.current,onChange:P=>j({...I,current:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50 dark:bg-gray-700 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"  "}),v.jsx("input",{type:"password",id:"newPassword",value:I.newPass,onChange:P=>j({...I,newPass:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50 dark:bg-gray-700 dark:text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"   "}),v.jsx("input",{type:"password",id:"confirmPassword",value:I.confirmPass,onChange:P=>j({...I,confirmPass:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50 dark:bg-gray-700 dark:text-white"})]}),v.jsxs("div",{className:"pt-4 flex justify-end items-center gap-4",children:[N&&v.jsx("p",{className:"text-sm text-green-600 dark:text-green-400 transition-opacity duration-300",children:"    !"}),v.jsx("button",{onClick:B,className:"px-4 py-2 bg-green-700 text-white rounded-md hover:bg-green-800 transition-colors disabled:bg-green-400 disabled:cursor-not-allowed",disabled:L,children:L?" ...":"  "})]}),V&&v.jsx("p",{className:"text-red-500 text-sm text-right mt-2",children:V})]})}),v.jsx(Zm,{title:"",icon:v.jsx(Q6,{className:"w-6 h-6 dark:text-amber-400"}),children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:" "}),v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"     ."})]}),v.jsx(Toe,{enabled:t,setEnabled:e})]})}),v.jsx(Zm,{title:"",icon:v.jsx(Soe,{className:"w-6 h-6"}),children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"  "}),v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"     ."})]}),v.jsx("input",{type:"checkbox",className:"h-5 w-5 text-green-600 rounded-sm focus:ring-green-500 cursor-pointer border-gray-300 dark:bg-gray-900 dark:border-gray-600",checked:h.summary,onChange:P=>m({...h,summary:P.target.checked})})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:"  "}),v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"      ."})]}),v.jsx("input",{type:"checkbox",className:"h-5 w-5 text-green-600 rounded-sm focus:ring-green-500 cursor-pointer border-gray-300 dark:bg-gray-900 dark:border-gray-600",checked:h.registration,onChange:P=>m({...h,registration:P.target.checked})})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200",children:" "}),v.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"      ."})]}),v.jsx("input",{type:"checkbox",className:"h-5 w-5 text-green-600 rounded-sm focus:ring-green-500 cursor-pointer border-gray-300 dark:bg-gray-900 dark:border-gray-600",checked:h.achievement,onChange:P=>m({...h,achievement:P.target.checked})})]}),v.jsx("div",{className:"pt-4 flex justify-end items-center gap-4",children:v.jsx("button",{disabled:!0,className:"px-4 py-2 bg-green-700 text-white rounded-md hover:bg-green-800 transition-colors disabled:bg-gray-400 cursor-not-allowed",children:" "})})]})})]})]})},Coe=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),Ioe=({onLogin:t})=>{const[e,n]=w.useState("admin123@quran.system"),[r,i]=w.useState("password"),[s,l]=w.useState(!1),[c,d]=w.useState(null),h=async m=>{m.preventDefault(),l(!0),d(null);try{await t(e,r)}catch(p){p.code==="auth/invalid-credential"?d(e==="admin123@quran.system"?"    .      (admin123@quran.system)    Firebase Authentication   .":"      ."):d("  .    .")}finally{l(!1)}};return v.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:v.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white dark:bg-gray-800 rounded-2xl shadow-lg m-4",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-3xl font-bold text-green-800 dark:text-amber-500",children:" "}),v.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"  !    ."})]}),v.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[v.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email-address",className:"sr-only",children:" "}),v.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:m=>{n(m.target.value),d(null)},className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-t-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm bg-gray-50 dark:bg-gray-700",placeholder:" ",disabled:s})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"sr-only",children:" "}),v.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:m=>{i(m.target.value),d(null)},className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-b-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm bg-gray-50 dark:bg-gray-700",placeholder:" ",disabled:s})]})]}),c&&v.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/30 border-r-4 border-red-500 rounded-md",children:v.jsx("p",{className:"text-sm text-center text-red-700 dark:text-red-300",children:c})}),v.jsx("div",{children:v.jsxs("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-700 hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors disabled:bg-green-500 disabled:cursor-not-allowed",children:[v.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:v.jsx(Coe,{className:"h-5 w-5 text-green-400 group-hover:text-green-300"})}),s?"  ...":" "]})})]})]})})},Noe=({teacher:t,students:e,halaqat:n})=>{const{halaqaCount:r,studentCount:i,avgMemorization:s,avgAttendance:l,halaqaMemorizationData:c,topStudents:d,studentsNeedingAttention:h}=w.useMemo(()=>{const m=n.filter(V=>V.teacherId===t.id),p=e.filter(V=>V.teacherId===t.id),x=m.length,_=p.length;if(_===0)return{halaqaCount:x,studentCount:_,avgMemorization:0,avgAttendance:0,halaqaMemorizationData:[],topStudents:[],studentsNeedingAttention:[]};const E=p.reduce((V,F)=>V+F.memorizationProgress,0),S=Math.round(E/_),T=p.reduce((V,F)=>V+F.attendanceRate,0),I=Math.round(T/_),j=m.map(V=>{const F=p.filter(k=>k.halaqaId===V.id);if(F.length===0)return{name:V.name," ":0};const N=F.reduce((k,D)=>k+D.memorizationProgress,0);return{name:V.name," ":Math.round(N/F.length)}}),L=[...p].sort((V,F)=>F.memorizationProgress-V.memorizationProgress).slice(0,3),q=p.filter(V=>V.memorizationProgress<70||V.attendanceRate<90).sort((V,F)=>V.memorizationProgress-F.memorizationProgress).slice(0,3);return{halaqaCount:x,studentCount:_,avgMemorization:S,avgAttendance:I,halaqaMemorizationData:j,topStudents:L,studentsNeedingAttention:q}},[t.id,e,n]);return i===0?v.jsxs("div",{className:"text-center py-16",children:[v.jsxs("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200 mb-4",children:["  ",t.name]}),v.jsx("p",{className:"text-xl font-semibold text-gray-500 dark:text-gray-400",children:"        ."}),v.jsx("p",{className:"text-gray-400 dark:text-gray-500",children:"   ."})]}):v.jsxs("div",{className:"space-y-8",children:[v.jsxs("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200",children:["  ",t.name]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[v.jsx(Hs,{title:" ",value:r.toString(),icon:v.jsx(Na,{className:"text-green-800"}),color:"green"}),v.jsx(Hs,{title:" ",value:i.toString(),icon:v.jsx(Ks,{className:"text-amber-600"}),color:"amber"}),v.jsx(Hs,{title:" ",value:`${s}%`,icon:v.jsx(OP,{className:"text-blue-600"}),color:"blue"}),v.jsx(Hs,{title:" ",value:`${l}%`,icon:v.jsx(Ff,{className:"text-red-600"}),color:"red"})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[v.jsx("div",{className:"lg:col-span-3 space-y-8",children:v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300",children:"   "}),v.jsx(Yf,{width:"100%",height:250,children:v.jsxs(nE,{data:c,children:[v.jsx(rd,{strokeDasharray:"3 3",stroke:"rgba(128, 128, 128, 0.3)"}),v.jsx(ad,{dataKey:"name",angle:-15,textAnchor:"end",height:50,tick:{fontFamily:"Cairo",fontSize:11},className:"text-gray-600 dark:text-gray-400"}),v.jsx(sd,{unit:"%",tick:{fontFamily:"Cairo"},className:"text-gray-600 dark:text-gray-400"}),v.jsx(nd,{wrapperStyle:{fontFamily:"Cairo"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.9)",color:"#000",borderRadius:"0.5rem",border:"1px solid #ccc"}}),v.jsx(sy,{dataKey:" ",fill:"#16A34A",barSize:25})]})})]})}),v.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx(CP,{className:"h-6 w-6 text-amber-500"}),v.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:" "})]}),v.jsx("ul",{className:"space-y-4",children:d.map((m,p)=>{var x;return v.jsxs("li",{className:"flex items-center gap-4 p-2 rounded-md transition-colors hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[v.jsxs("span",{className:`text-lg font-bold ${p===0?"text-amber-500":p===1?"text-gray-400":"text-amber-700"}`,children:["#",p+1]}),v.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:`https://i.pravatar.cc/40?u=${m.id}`,alt:m.name}),v.jsxs("div",{className:"flex-grow",children:[v.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:m.name}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(x=n.find(_=>_.id===m.halaqaId))==null?void 0:x.name})]}),v.jsxs("div",{className:"text-left",children:[v.jsxs("p",{className:"text-sm font-bold text-green-700 dark:text-green-400",children:[m.memorizationProgress,"%"]}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:""})]})]},m.id)})})]}),h.length>0&&v.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx(oy,{className:"h-6 w-6 text-red-500"}),v.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"  "})]}),v.jsx("ul",{className:"space-y-4",children:h.map(m=>{var p;return v.jsxs("li",{className:"flex items-center gap-4 p-2 rounded-md transition-colors hover:bg-red-50 dark:hover:bg-red-900/20 border-r-2 border-red-500",children:[v.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:`https://i.pravatar.cc/40?u=${m.id}`,alt:m.name}),v.jsxs("div",{className:"flex-grow",children:[v.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:m.name}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(p=n.find(x=>x.id===m.halaqaId))==null?void 0:p.name})]}),v.jsxs("div",{className:"text-left",children:[v.jsxs("p",{className:`text-sm font-bold ${m.memorizationProgress<70?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-300"}`,children:[m.memorizationProgress,"% "]}),v.jsxs("p",{className:`text-xs ${m.attendanceRate<90?"text-red-600 dark:text-red-400":"text-gray-500 dark:text-gray-400"}`,children:[m.attendanceRate,"% "]})]})]},m.id)})})]})]})]})]})},koe=({className:t="w-6 h-6"})=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h5M20 20v-5h-5M4 4l1.5 1.5A9 9 0 0120.5 10M20 20l-1.5-1.5A9 9 0 003.5 14"})}),Poe=Ny.projectId,joe=`https://console.firebase.google.com/project/${Poe}/firestore/rules`,EP=`rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // Default rule: Allow read/write access for any authenticated user.
    // This is a simple rule to get the app running.
    // match /{document=**} {
    //  allow read, write: if request.auth != null;
    // }

    // Recommended: More specific rules for better security
    match /students/{studentId} {
      allow read, write: if request.auth != null;
    }
    match /teachers/{teacherId} {
      allow read, write: if request.auth != null;
    }
    match /halaqat/{halaqaId} {
      allow read, write: if request.auth != null;
    }
    match /memorization_logs/{logId} {
      allow read, create: if request.auth != null;
    }
    match /daily_attendance/{docId} {
      allow read, write: if request.auth != null;
    }
    match /activity_logs/{logId} {
      allow read, create: if request.auth != null;
    }
  }
}`,Roe=({onRetry:t,onLogout:e})=>{const[n,r]=w.useState(!1),i=w.useCallback(()=>{navigator.clipboard.writeText(EP).then(()=>{r(!0),setTimeout(()=>r(!1),2e3)})},[]);return v.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900 p-4",children:v.jsxs("div",{className:"w-full max-w-2xl p-8 space-y-6 bg-white dark:bg-gray-800 rounded-2xl shadow-lg m-4",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/30",children:v.jsx(oy,{className:"h-6 w-6 text-red-600"})}),v.jsx("h1",{className:"mt-4 text-2xl font-bold text-gray-800 dark:text-gray-100",children:"  :   "}),v.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"   Firebase   .          ."})]}),v.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border-r-4 border-green-500 p-4 rounded-md",children:[v.jsx("h2",{className:"font-bold text-lg text-gray-800 dark:text-gray-200",children:"  ()"}),v.jsxs("ol",{className:"list-decimal list-inside my-2 space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[v.jsxs("li",{children:["       Firebase    .",v.jsx("a",{href:joe,target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center mt-2 px-4 py-2 bg-green-700 text-white rounded-md hover:bg-green-800 transition-colors font-semibold",children:"    Firebase"})]}),v.jsx("li",{children:"         ."})]})]}),v.jsxs("div",{className:"relative",children:[v.jsx("pre",{className:"bg-gray-100 dark:bg-gray-900 p-4 rounded-md text-xs text-left overflow-x-auto",dir:"ltr",children:v.jsx("code",{children:EP})}),v.jsx("button",{onClick:i,className:"absolute top-2 left-2 px-3 py-1 text-xs font-semibold rounded-md bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600",children:n?" !":" "})]}),v.jsxs("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400",children:["      ",v.jsx("strong",{className:"text-gray-700 dark:text-gray-200",children:"Publish"}),'         " ".']}),v.jsxs("div",{className:"flex justify-center items-center gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[v.jsxs("button",{onClick:e,className:"flex items-center gap-2 group relative w-full justify-center py-2 px-4 border border-gray-300 dark:border-gray-500 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500",children:[v.jsx(tw,{className:"h-5 w-5"})," "]}),v.jsxs("button",{onClick:t,className:"flex items-center gap-2 group relative w-full justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-700 hover:bg-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[v.jsx(koe,{className:"h-5 w-5"})," "]})]})]})})},Doe=({message:t,onLogout:e})=>v.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900 p-4",children:v.jsxs("div",{className:"w-full max-w-lg p-8 space-y-6 bg-white dark:bg-gray-800 rounded-2xl shadow-lg m-4",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/30",children:v.jsx(oy,{className:"h-6 w-6 text-red-600"})}),v.jsx("h1",{className:"mt-4 text-2xl font-bold text-gray-800 dark:text-gray-100",children:"  "}),v.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:t})]}),v.jsx("div",{className:"pt-4 text-center",children:v.jsxs("button",{onClick:e,className:"flex items-center gap-2 group relative justify-center py-2 px-6 border border-gray-300 dark:border-gray-500 text-sm font-medium rounded-md text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 mx-auto",children:[v.jsx(tw,{className:"h-5 w-5"})," "]})})]})}),Z6="admin123@quran.system",SP={id:"admin01",name:" ",email:Z6,role:"admin"},Moe=()=>{const[t,e]=w.useState("dashboard"),[n,r]=w.useState(!1),[i,s]=w.useState(()=>{const me=localStorage.getItem("isDarkMode");return me?me==="true":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}),[l,c]=w.useState(null),[d,h]=w.useState(!0),[m,p]=w.useState([]),[x,_]=w.useState([]),[E,S]=w.useState([]),[T,I]=w.useState([]),[j,L]=w.useState([]),[q,V]=w.useState(!0),[F,N]=w.useState(!1),[k,D]=w.useState(null),B=async()=>{try{await ise(Qm),c(null),e("dashboard"),D(null),p([]),_([]),S([])}catch(me){console.error("Logout failed:",me),alert("  .")}},P=w.useCallback(async()=>{try{V(!0),N(!1);const ye=(await Jo(Or(Et,"teachers"))).docs.map(Ze=>({id:Ze.id,...Ze.data()})),Oe=(await Jo(Or(Et,"students"))).docs.map(Ze=>({id:Ze.id,...Ze.data()})),Ie=(await Jo(Or(Et,"halaqat"))).docs.map(Ze=>{const Ut={id:Ze.id,...Ze.data()},Ti=Oe.filter(mc=>mc.halaqaId===Ut.id).length;return{...Ut,studentCount:Ti}}),je=new Date;je.setHours(23,59,59,999);const ue=new Date;ue.setDate(je.getDate()-7),ue.setHours(0,0,0,0);const He=og(Or(Et,"daily_attendance"),lg("date",">=",it.fromDate(ue)),lg("date","<=",it.fromDate(je))),ct=(await Jo(He)).docs.map(Ze=>({id:Ze.id,...Ze.data()}));I(ct);const xt=og(Or(Et,"activity_logs"),f6("timestamp","desc"),Gie(5)),Ai=(await Jo(xt)).docs.map(Ze=>({id:Ze.id,...Ze.data()}));L(Ai),_(ye),p(Oe),S(Ie)}catch(me){console.error("Error fetching data:",me),(me.code==="permission-denied"||me.message.includes("permission-denied")||me.message.includes("insufficient permissions"))&&N(!0)}finally{V(!1)}},[]),U=()=>{N(!1),P()};w.useEffect(()=>{const me=rse(Qm,async ye=>{if(D(null),ye)if(ye.email===Z6){const pe=localStorage.getItem("adminProfile");c(pe?{...SP,...JSON.parse(pe)}:SP),await P()}else{const pe=fr(Et,"teachers",ye.uid),Oe=await nP(pe);Oe.exists()?(c({id:Oe.id,...Oe.data(),role:"teacher"}),await P()):(console.error("Authenticated user is not an admin or teacher. UID:",ye.uid),D(` (${ye.email})    .            .`))}else c(null);h(!1)});return()=>me()},[P]),w.useEffect(()=>{(l==null?void 0:l.role)==="teacher"&&(["dashboard","students","halaqat","attendance","memorization","settings"].includes(t)||e("dashboard"))},[t,l]),w.useEffect(()=>{i?(document.documentElement.classList.add("dark"),localStorage.setItem("isDarkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("isDarkMode","false"))},[i]);const M=async(me,ye)=>{try{await Zae(Qm,me,ye)}catch(pe){throw console.error("Login failed:",pe),pe}},he=async(me,ye)=>{const pe=E.find(ae=>ae.id===me.halaqaId);if(!pe){console.error("Cannot save student, halaqa not found");return}const Oe={...me,teacherId:pe.teacherId};try{ye?await Wm(fr(Et,"students",ye),Oe):(await Ax(Or(Et,"students"),{...Oe,attendanceRate:100}),await Ax(Or(Et,"activity_logs"),{type:"new_student",timestamp:it.now(),details:{studentName:Oe.name,halaqaName:pe.name}})),P()}catch(ae){console.error("Error saving student:",ae)}},be=async me=>{try{await Sx(fr(Et,"students",me)),P()}catch(ye){console.error("Error deleting student:",ye)}},W=async(me,ye)=>{if(ye)try{const pe=fr(Et,"teachers",ye),{password:Oe,...ae}=me;await Wm(pe,ae),await P()}catch(pe){throw console.error("Error updating teacher:",pe),new Error("   .")}else{if(!me.password||me.password.length<6)throw new Error("        6 .");let pe;try{pe=uE(Ny,`secondary-auth-${Date.now()}`);const Oe=W6(pe),ae=await Qae(Oe,me.email,me.password),{password:Ie,...je}=me;await Xie(fr(Et,"teachers",ae.user.uid),je),await P()}catch(Oe){throw console.error("Error creating teacher:",Oe),Oe.code==="auth/email-already-in-use"?new Error("    ."):new Error("   .")}finally{pe&&await Ite(pe)}}},te=async me=>{try{console.warn("DELETING TEACHER FROM FIRESTORE. IMPORTANT: You must manually delete the user from Firebase Authentication."),await Sx(fr(Et,"teachers",me)),P()}catch(ye){console.error("Error deleting teacher:",ye)}},G=async(me,ye)=>{var pe;try{if(ye){const Oe=fr(Et,"halaqat",ye),Ie=(pe=(await nP(Oe)).data())==null?void 0:pe.teacherId,je=me.teacherId;if(Ie&&Ie!==je){const ue=Ox(Et);ue.update(Oe,me);const He=og(Or(Et,"students"),lg("halaqaId","==",ye));(await Jo(He)).forEach(ct=>{ue.update(ct.ref,{teacherId:je})}),await ue.commit()}else await Wm(Oe,me)}else await Ax(Or(Et,"halaqat"),me);P()}catch(Oe){console.error("Error saving halaqa:",Oe)}},ce=async me=>{try{await Sx(fr(Et,"halaqat",me)),P()}catch(ye){console.error("Error deleting halaqa:",ye)}},xe=async(me,ye,pe)=>{const Oe=new Date().toISOString().slice(0,10),ae=`${ye}_${Oe}`;try{const Ie=Ox(Et),je=fr(Et,"daily_attendance",ae);Ie.set(je,{date:it.now(),halaqaId:ye,teacherId:pe,records:me});const ue=E.find(He=>He.id===ye);for(const He in me)if(me[He]==="absent"){const Le=m.find(ct=>ct.id===He);if(Le&&ue){const ct=fr(Or(Et,"activity_logs"));Ie.set(ct,{type:"absence_log",timestamp:it.now(),details:{studentName:Le.name,halaqaName:ue.name}})}}await Ie.commit(),await P()}catch(Ie){throw console.error("Error saving attendance:",Ie),Ie.code==="permission-denied"||Ie.message.includes("permission-denied")?new Error("permission-denied"):Ie}},$=async(me,ye,pe)=>{const Oe=Ox(Et),ae=Or(Et,"memorization_logs"),Ie=Or(Et,"activity_logs"),je=E.find(ue=>ue.id===ye);for(const ue in me){const He=me[ue];if(He.newMemorization.surah&&He.newMemorization.from&&He.newMemorization.to){const Le=m.find(xt=>xt.id===ue),ct=fr(ae);if(Oe.set(ct,{studentId:ue,halaqaId:ye,teacherId:pe,date:it.now(),surah:He.newMemorization.surah,fromVerse:Number(He.newMemorization.from),toVerse:Number(He.newMemorization.to),quality:He.quality,notes:He.notes}),Le&&je){const xt=fr(Ie);Oe.set(xt,{type:"memorization_log",timestamp:it.now(),details:{studentName:Le.name,halaqaName:je.name,surah:He.newMemorization.surah}})}}}try{await Oe.commit(),await P()}catch(ue){throw console.error("Error saving memorization logs:",ue),ue}},re=async me=>{if(l){if(l.role==="admin"){const ye={...l,...me};c(ye),localStorage.setItem("adminProfile",JSON.stringify({name:ye.name,email:ye.email}));return}if(l.role==="teacher")try{const ye=fr(Et,"teachers",l.id);await Wm(ye,{name:me.name}),c(pe=>!pe||pe.role!=="teacher"?pe:{...pe,name:me.name}),_(pe=>pe.map(Oe=>Oe.id===l.id?{...Oe,name:me.name}:Oe))}catch(ye){throw console.error("Error updating profile:",ye),new Error("   .")}}},ge=async(me,ye)=>{const pe=Qm.currentUser;if(!pe||!pe.email)throw new Error("    .");try{const Oe=Nl.credential(pe.email,me);await Xae(pe,Oe),await Jae(pe,ye)}catch(Oe){throw console.error("Password change failed:",Oe),Oe.code==="auth/wrong-password"||Oe.code==="auth/invalid-credential"?new Error("    ."):Oe.code==="auth/weak-password"?new Error("    ."):new Error("   .    .")}};if(d||l&&q)return v.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-3xl font-bold text-green-800 dark:text-amber-500 mb-4",children:" "}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"... "})]})});if(F)return v.jsx(Roe,{onRetry:U,onLogout:B});if(k)return v.jsx(Doe,{message:k,onLogout:B});if(!l)return v.jsx(Ioe,{onLogin:M});const ve={dashboard:"",students:l.role==="admin"?" ":"",teachers:" ",halaqat:l.role==="admin"?" ":"",attendance:"  ",memorization:"  ",reports:" ",settings:"",parents:"  "};return v.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",dir:"rtl",children:[v.jsx($L,{currentPage:t,setCurrentPage:e,isSidebarOpen:n,setSidebarOpen:r,onLogout:B,currentUser:l}),v.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[v.jsx(KL,{pageTitle:ve[t],onMenuClick:()=>r(!n)}),v.jsxs("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 dark:bg-gray-900 p-6",children:[l.role==="admin"&&t==="dashboard"&&v.jsx(MJ,{students:m,teachers:x,halaqat:E,attendanceLogs:T,activityLogs:j}),l.role==="teacher"&&t==="dashboard"&&v.jsx(Noe,{teacher:l,students:m,halaqat:E}),t==="students"&&(l.role==="admin"?v.jsx(qN,{students:m,halaqat:E,teachers:x,onSave:he,onDelete:be,attendanceLogs:T}):v.jsx(qN,{students:m,halaqat:E,teachers:x,onSave:he,onDelete:be,teacherId:l.id,attendanceLogs:T})),t==="teachers"&&l.role==="admin"&&v.jsx(GJ,{teachers:x,halaqat:E,students:m,onSave:W,onDelete:te}),t==="halaqat"&&(l.role==="admin"?v.jsx(HN,{halaqat:E,teachers:x,onSave:G,onDelete:ce}):v.jsx(HN,{halaqat:E,teachers:x,onSave:G,onDelete:ce,teacherId:l.id})),t==="attendance"&&v.jsx(ZJ,{students:m,halaqat:E,onSave:xe,attendanceLogs:T,teacherId:l.role==="teacher"?l.id:void 0}),t==="memorization"&&v.jsx(yoe,{students:m,halaqat:E,onSave:$,teacherId:l.role==="teacher"?l.id:void 0}),t==="reports"&&l.role==="admin"&&v.jsx(_oe,{students:m,teachers:x,halaqat:E}),t==="settings"&&v.jsx(Ooe,{isDarkMode:i,setIsDarkMode:s,currentUser:l,onUpdateProfile:re,onChangePassword:ge})]})]})]})},J6=document.getElementById("root");if(!J6)throw new Error("Could not find root element to mount to");const Loe=FL.createRoot(J6);Loe.render(v.jsx(AP.StrictMode,{children:v.jsx(Moe,{})}));
